(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var Xh={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function R0(){if(mp)return Tl;mp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:l,type:s,key:m,ref:o!==void 0?o:null,props:f}}return Tl.Fragment=n,Tl.jsx=a,Tl.jsxs=a,Tl}var gp;function w0(){return gp||(gp=1,Xh.exports=R0()),Xh.exports}var nt=w0(),Kh={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function C0(){if(pp)return Et;pp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.iterator;function z(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,rt={};function et(C,X,W){this.props=C,this.context=X,this.refs=rt,this.updater=W||K}et.prototype.isReactComponent={},et.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},et.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function zt(){}zt.prototype=et.prototype;function vt(C,X,W){this.props=C,this.context=X,this.refs=rt,this.updater=W||K}var gt=vt.prototype=new zt;gt.constructor=vt,J(gt,et.prototype),gt.isPureReactComponent=!0;var xt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function O(C,X,W,F,ut,At){return W=At.ref,{$$typeof:l,type:C,key:X,ref:W!==void 0?W:null,props:At}}function S(C,X){return O(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function V(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(W){return X[W]})}var N=/\/+/g;function I(C,X){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):X.toString(36)}function R(){}function Oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ee(C,X,W,F,ut){var At=typeof C;(At==="undefined"||At==="boolean")&&(C=null);var mt=!1;if(C===null)mt=!0;else switch(At){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(C.$$typeof){case l:case n:mt=!0;break;case A:return mt=C._init,ee(mt(C._payload),X,W,F,ut)}}if(mt)return ut=ut(C),mt=F===""?"."+I(C,0):F,xt(ut)?(W="",mt!=null&&(W=mt.replace(N,"$&/")+"/"),ee(ut,X,W,"",function(Vn){return Vn})):ut!=null&&(w(ut)&&(ut=S(ut,W+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(N,"$&/")+"/")+mt)),X.push(ut)),1;mt=0;var Se=F===""?".":F+":";if(xt(C))for(var Ft=0;Ft<C.length;Ft++)F=C[Ft],At=Se+I(F,Ft),mt+=ee(F,X,W,At,ut);else if(Ft=z(C),typeof Ft=="function")for(C=Ft.call(C),Ft=0;!(F=C.next()).done;)F=F.value,At=Se+I(F,Ft++),mt+=ee(F,X,W,At,ut);else if(At==="object"){if(typeof C.then=="function")return ee(Oe(C),X,W,F,ut);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return mt}function j(C,X,W){if(C==null)return C;var F=[],ut=0;return ee(C,F,"","",function(At){return X.call(W,At,ut++)}),F}function $(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(W){(C._status===0||C._status===-1)&&(C._status=1,C._result=W)},function(W){(C._status===0||C._status===-1)&&(C._status=2,C._result=W)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return Et.Children={map:j,forEach:function(C,X,W){j(C,function(){X.apply(this,arguments)},W)},count:function(C){var X=0;return j(C,function(){X++}),X},toArray:function(C){return j(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=et,Et.Fragment=a,Et.Profiler=o,Et.PureComponent=vt,Et.StrictMode=s,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Et.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,X,W){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var F=J({},C.props),ut=C.key,At=void 0;if(X!=null)for(mt in X.ref!==void 0&&(At=void 0),X.key!==void 0&&(ut=""+X.key),X)!Lt.call(X,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&X.ref===void 0||(F[mt]=X[mt]);var mt=arguments.length-2;if(mt===1)F.children=W;else if(1<mt){for(var Se=Array(mt),Ft=0;Ft<mt;Ft++)Se[Ft]=arguments[Ft+2];F.children=Se}return O(C.type,ut,void 0,void 0,At,F)},Et.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Et.createElement=function(C,X,W){var F,ut={},At=null;if(X!=null)for(F in X.key!==void 0&&(At=""+X.key),X)Lt.call(X,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ut[F]=X[F]);var mt=arguments.length-2;if(mt===1)ut.children=W;else if(1<mt){for(var Se=Array(mt),Ft=0;Ft<mt;Ft++)Se[Ft]=arguments[Ft+2];ut.children=Se}if(C&&C.defaultProps)for(F in mt=C.defaultProps,mt)ut[F]===void 0&&(ut[F]=mt[F]);return O(C,At,void 0,void 0,null,ut)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:y,render:C}},Et.isValidElement=w,Et.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:$}},Et.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},Et.startTransition=function(C){var X=_t.T,W={};_t.T=W;try{var F=C(),ut=_t.S;ut!==null&&ut(W,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Bt,lt)}catch(At){lt(At)}finally{_t.T=X}},Et.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Et.use=function(C){return _t.H.use(C)},Et.useActionState=function(C,X,W){return _t.H.useActionState(C,X,W)},Et.useCallback=function(C,X){return _t.H.useCallback(C,X)},Et.useContext=function(C){return _t.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,X){return _t.H.useDeferredValue(C,X)},Et.useEffect=function(C,X,W){var F=_t.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(C,X)},Et.useId=function(){return _t.H.useId()},Et.useImperativeHandle=function(C,X,W){return _t.H.useImperativeHandle(C,X,W)},Et.useInsertionEffect=function(C,X){return _t.H.useInsertionEffect(C,X)},Et.useLayoutEffect=function(C,X){return _t.H.useLayoutEffect(C,X)},Et.useMemo=function(C,X){return _t.H.useMemo(C,X)},Et.useOptimistic=function(C,X){return _t.H.useOptimistic(C,X)},Et.useReducer=function(C,X,W){return _t.H.useReducer(C,X,W)},Et.useRef=function(C){return _t.H.useRef(C)},Et.useState=function(C){return _t.H.useState(C)},Et.useSyncExternalStore=function(C,X,W){return _t.H.useSyncExternalStore(C,X,W)},Et.useTransition=function(){return _t.H.useTransition()},Et.version="19.1.0",Et}var yp;function If(){return yp||(yp=1,Kh.exports=C0()),Kh.exports}var Si=If(),Fh={exports:{}},Al={},Zh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function D0(){return _p||(_p=1,function(l){function n(j,$){var lt=j.length;j.push($);t:for(;0<lt;){var Bt=lt-1>>>1,C=j[Bt];if(0<o(C,$))j[Bt]=$,j[lt]=C,lt=Bt;else break t}}function a(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var $=j[0],lt=j.pop();if(lt!==$){j[0]=lt;t:for(var Bt=0,C=j.length,X=C>>>1;Bt<X;){var W=2*(Bt+1)-1,F=j[W],ut=W+1,At=j[ut];if(0>o(F,lt))ut<C&&0>o(At,F)?(j[Bt]=At,j[ut]=lt,Bt=ut):(j[Bt]=F,j[W]=lt,Bt=W);else if(ut<C&&0>o(At,lt))j[Bt]=At,j[ut]=lt,Bt=ut;else break t}}return $}function o(j,$){var lt=j.sortIndex-$.sortIndex;return lt!==0?lt:j.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();l.unstable_now=function(){return m.now()-y}}var v=[],_=[],A=1,x=null,z=3,K=!1,J=!1,rt=!1,et=!1,zt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function xt(j){for(var $=a(_);$!==null;){if($.callback===null)s(_);else if($.startTime<=j)s(_),$.sortIndex=$.expirationTime,n(v,$);else break;$=a(_)}}function _t(j){if(rt=!1,xt(j),!J)if(a(v)!==null)J=!0,Lt||(Lt=!0,I());else{var $=a(_);$!==null&&ee(_t,$.startTime-j)}}var Lt=!1,O=-1,S=5,w=-1;function V(){return et?!0:!(l.unstable_now()-w<S)}function N(){if(et=!1,Lt){var j=l.unstable_now();w=j;var $=!0;try{t:{J=!1,rt&&(rt=!1,vt(O),O=-1),K=!0;var lt=z;try{e:{for(xt(j),x=a(v);x!==null&&!(x.expirationTime>j&&V());){var Bt=x.callback;if(typeof Bt=="function"){x.callback=null,z=x.priorityLevel;var C=Bt(x.expirationTime<=j);if(j=l.unstable_now(),typeof C=="function"){x.callback=C,xt(j),$=!0;break e}x===a(v)&&s(v),xt(j)}else s(v);x=a(v)}if(x!==null)$=!0;else{var X=a(_);X!==null&&ee(_t,X.startTime-j),$=!1}}break t}finally{x=null,z=lt,K=!1}$=void 0}}finally{$?I():Lt=!1}}}var I;if(typeof gt=="function")I=function(){gt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=N,I=function(){Oe.postMessage(null)}}else I=function(){zt(N,0)};function ee(j,$){O=zt(function(){j(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(j){j.callback=null},l.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},l.unstable_getCurrentPriorityLevel=function(){return z},l.unstable_next=function(j){switch(z){case 1:case 2:case 3:var $=3;break;default:$=z}var lt=z;z=$;try{return j()}finally{z=lt}},l.unstable_requestPaint=function(){et=!0},l.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var lt=z;z=j;try{return $()}finally{z=lt}},l.unstable_scheduleCallback=function(j,$,lt){var Bt=l.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Bt+lt:Bt):lt=Bt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,j={id:A++,callback:$,priorityLevel:j,startTime:lt,expirationTime:C,sortIndex:-1},lt>Bt?(j.sortIndex=lt,n(_,j),a(v)===null&&j===a(_)&&(rt?(vt(O),O=-1):rt=!0,ee(_t,lt-Bt))):(j.sortIndex=C,n(v,j),J||K||(J=!0,Lt||(Lt=!0,I()))),j},l.unstable_shouldYield=V,l.unstable_wrapCallback=function(j){var $=z;return function(){var lt=z;z=$;try{return j.apply(this,arguments)}finally{z=lt}}}}(Jh)),Jh}var vp;function V0(){return vp||(vp=1,Zh.exports=D0()),Zh.exports}var $h={exports:{}},Pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function O0(){if(Ep)return Pe;Ep=1;var l=If();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:_,implementation:A}}var m=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Pe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(v,_,null,A)},Pe.flushSync=function(v){var _=m.T,A=s.p;try{if(m.T=null,s.p=2,v)return v()}finally{m.T=_,s.p=A,s.d.f()}},Pe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Pe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Pe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,x=y(A,_.crossOrigin),z=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:z,fetchPriority:K}):A==="script"&&s.d.X(v,{crossOrigin:x,integrity:z,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Pe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Pe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,x=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Pe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Pe.requestFormReset=function(v){s.d.r(v)},Pe.unstable_batchedUpdates=function(v,_){return v(_)},Pe.useFormState=function(v,_,A){return m.H.useFormState(v,_,A)},Pe.useFormStatus=function(){return m.H.useHostTransitionStatus()},Pe.version="19.1.0",Pe}var Tp;function N0(){if(Tp)return $h.exports;Tp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),$h.exports=O0(),$h.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function M0(){if(Ap)return Al;Ap=1;var l=V0(),n=If(),a=N0();function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(f(t)!==t)throw Error(s(188))}function v(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(s(188));return e!==t?null:t}for(var i=t,r=e;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return y(c),t;if(h===r)return y(c),e;h=h.sibling}throw Error(s(188))}if(i.return!==r.return)i=c,r=h;else{for(var p=!1,E=c.child;E;){if(E===i){p=!0,i=c,r=h;break}if(E===r){p=!0,r=c,i=h;break}E=E.sibling}if(!p){for(E=h.child;E;){if(E===i){p=!0,i=h,r=c;break}if(E===r){p=!0,r=h,i=c;break}E=E.sibling}if(!p)throw Error(s(189))}}if(i.alternate!==r)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:e}function _(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=_(t),e!==null)return e;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),zt=Symbol.for("react.provider"),vt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case et:return"Profiler";case rt:return"StrictMode";case _t:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case gt:return(t.displayName||"Context")+".Provider";case vt:return(t._context.displayName||"Context")+".Consumer";case xt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return e=t.displayName||null,e!==null?e:Oe(t.type)||"Memo";case S:e=t._payload,t=t._init;try{return Oe(t(e))}catch{}}return null}var ee=Array.isArray,j=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Bt=[],C=-1;function X(t){return{current:t}}function W(t){0>C||(t.current=Bt[C],Bt[C]=null,C--)}function F(t,e){C++,Bt[C]=t.current,t.current=e}var ut=X(null),At=X(null),mt=X(null),Se=X(null);function Ft(t,e){switch(F(mt,e),F(At,t),F(ut,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?jg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=jg(e),t=Hg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ut),F(ut,t)}function Vn(){W(ut),W(At),W(mt)}function wi(t){t.memoizedState!==null&&F(Se,t);var e=ut.current,i=Hg(e,t.type);e!==i&&(F(At,t),F(ut,i))}function Jn(t){At.current===t&&(W(ut),W(At)),Se.current===t&&(W(Se),pl._currentValue=lt)}var fa=Object.prototype.hasOwnProperty,da=l.unstable_scheduleCallback,ma=l.unstable_cancelCallback,ds=l.unstable_shouldYield,kl=l.unstable_requestPaint,cn=l.unstable_now,Xo=l.unstable_getCurrentPriorityLevel,ms=l.unstable_ImmediatePriority,er=l.unstable_UserBlockingPriority,ga=l.unstable_NormalPriority,Ko=l.unstable_LowPriority,nr=l.unstable_IdlePriority,gs=l.log,jl=l.unstable_setDisableYieldValue,ne=null,kt=null;function tn(t){if(typeof gs=="function"&&jl(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ne,t)}catch{}}var Be=Math.clz32?Math.clz32:pa,Hl=Math.log,Fo=Math.LN2;function pa(t){return t>>>=0,t===0?32:31-(Hl(t)/Fo|0)|0}var ya=256,_a=4194304;function Sn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ir(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var c=0,h=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=r&134217727;return E!==0?(r=E&~h,r!==0?c=Sn(r):(p&=E,p!==0?c=Sn(p):i||(i=E&~t,i!==0&&(c=Sn(i))))):(E=r&~h,E!==0?c=Sn(E):p!==0?c=Sn(p):i||(i=r&~t,i!==0&&(c=Sn(i)))),c===0?0:e!==0&&e!==c&&(e&h)===0&&(h=c&-c,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:c}function va(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function ps(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(){var t=ya;return ya<<=1,(ya&4194048)===0&&(ya=256),t}function _s(){var t=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),t}function $n(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Wn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vs(t,e,i,r,c,h){var p=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,B=t.hiddenUpdates;for(i=p&~i;0<i;){var H=31-Be(i),Q=1<<H;E[H]=0,b[H]=-1;var q=B[H];if(q!==null)for(B[H]=null,H=0;H<q.length;H++){var P=q[H];P!==null&&(P.lane&=-536870913)}i&=~Q}r!==0&&On(t,r,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(p&~e))}function On(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Be(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&4194090}function Es(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-Be(i),c=1<<r;c&e|t[r]&e&&(t[r]|=e),i&=~c}}function Ci(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ar(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Di(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:up(t.type))}function Gl(t,e){var i=$.p;try{return $.p=t,e()}finally{$.p=i}}var Jt=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jt,he="__reactProps$"+Jt,hn="__reactContainer$"+Jt,Ts="__reactEvents$"+Jt,Zo="__reactListeners$"+Jt,Vi="__reactHandles$"+Jt,Ql="__reactResources$"+Jt,Ea="__reactMarker$"+Jt;function Oi(t){delete t[pe],delete t[he],delete t[Ts],delete t[Zo],delete t[Vi]}function ti(t){var e=t[pe];if(e)return e;for(var i=t.parentNode;i;){if(e=i[hn]||i[pe]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Xg(t);t!==null;){if(i=t[pe])return i;t=Xg(t)}return e}t=i,i=t.parentNode}return null}function Nn(t){if(t=t[pe]||t[hn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Mn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(s(33))}function Ge(t){var e=t[Ql];return e||(e=t[Ql]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function se(t){t[Ea]=!0}var As=new Set,rr={};function bn(t,e){ei(t,e),ei(t+"Capture",e)}function ei(t,e){for(rr[t]=e,t=0;t<e.length;t++)As.add(e[t])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Ta={};function Kl(t){return fa.call(Ta,t)?!0:fa.call(Xl,t)?!1:Yl.test(t)?Ta[t]=!0:(Xl[t]=!0,!1)}function Ni(t,e,i){if(Kl(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function In(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Ne(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}var Aa,Fl;function ni(t){if(Aa===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Aa=e&&e[1]||"",Fl=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+t+Fl}var sr=!1;function lr(t,e){if(!t||sr)return"";sr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(P){var q=P}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(P){q=P}t.call(Q.prototype)}}else{try{throw Error()}catch(P){q=P}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(P){if(P&&q&&typeof P.stack=="string")return[P.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),p=h[0],E=h[1];if(p&&E){var b=p.split(`
`),B=E.split(`
`);for(c=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(r===b.length||c===B.length)for(r=b.length-1,c=B.length-1;1<=r&&0<=c&&b[r]!==B[c];)c--;for(;1<=r&&0<=c;r--,c--)if(b[r]!==B[c]){if(r!==1||c!==1)do if(r--,c--,0>c||b[r]!==B[c]){var H=`
`+b[r].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=r&&0<=c);break}}}finally{sr=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ni(i):""}function Ss(t){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return lr(t.type,!1);case 11:return lr(t.type.render,!1);case 1:return lr(t.type,!0);case 31:return ni("Activity");default:return""}}function ur(t){try{var e="";do e+=Ss(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Qe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bs(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jo(t){var e=bs(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(p){r=""+p,h.call(this,p)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function or(t){t._valueTracker||(t._valueTracker=Jo(t))}function Rs(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=bs(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $o=/[\n"\\]/g;function fe(t){return t.replace($o,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function en(t,e,i,r,c,h,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),e!=null?p==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Qe(e)):t.value!==""+Qe(e)&&(t.value=""+Qe(e)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),e!=null?Mi(t,p,Qe(e)):i!=null?Mi(t,p,Qe(i)):r!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Qe(E):t.removeAttribute("name")}function ba(t,e,i,r,c,h,p,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null))return;i=i!=null?""+Qe(i):"",e=e!=null?""+Qe(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=E?t.checked:!!r,t.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Mi(t,e,i){e==="number"&&Sa(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ii(t,e,i,r){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Qe(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function Gt(t,e,i){if(e!=null&&(e=""+Qe(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Qe(i):""}function Ra(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(s(92));if(ee(r)){if(1<r.length)throw Error(s(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Qe(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r)}function fn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||wa.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function ws(t,e,i){if(e!=null&&typeof e!="object")throw Error(s(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in e)r=e[c],e.hasOwnProperty(c)&&i[c]!==r&&Zl(t,c,r)}else for(var h in e)e.hasOwnProperty(h)&&Zl(t,h,e[h])}function Cs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(t){return tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ai=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ri=null,si=null;function Ds(t){var e=Nn(t);if(e&&(t=e.stateNode)){var i=t[he]||null;t:switch(t=e.stateNode,e.type){case"input":if(en(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+fe(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var c=r[he]||null;if(!c)throw Error(s(90));en(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&Rs(r)}break t;case"textarea":Gt(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&ii(t,!!i.multiple,e,!1)}}}var xn=!1;function Jl(t,e,i){if(xn)return t(e,i);xn=!0;try{var r=t(e);return r}finally{if(xn=!1,(ri!==null||si!==null)&&(Gu(),ri&&(e=ri,t=si,si=ri=null,Ds(e),t)))for(e=0;e<t.length;e++)Ds(t[e])}}function Ca(t,e){var i=t.stateNode;if(i===null)return null;var r=i[he]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,e,typeof i));return i}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(Rn)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{mn=!1}var Un=null,Ii=null,li=null;function Vs(){if(li)return li;var t,e=Ii,i=e.length,r,c="value"in Un?Un.value:Un.textContent,h=c.length;for(t=0;t<i&&e[t]===c[t];t++);var p=i-t;for(r=1;r<=p&&e[i-r]===c[h-r];r++);return li=c.slice(t,1<r?1-r:void 0)}function zn(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function Os(){return!1}function be(t){function e(i,r,c,h,p){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ln:Os,this.isPropagationStopped=Os,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),e}var Pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=be(Pt),Va=A({},Pt,{view:0,detail:0}),$l=be(Va),fr,dr,Bn,Oa=A({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bn&&(Bn&&t.type==="mousemove"?(fr=t.screenX-Bn.screenX,dr=t.screenY-Bn.screenY):dr=fr=0,Bn=t),fr)},movementY:function(t){return"movementY"in t?t.movementY:dr}}),gn=be(Oa),Wl=A({},Oa,{dataTransfer:0}),ec=be(Wl),Na=A({},Va,{relatedTarget:0}),mr=be(Na),Ns=A({},Pt,{animationName:0,elapsedTime:0,pseudoElement:0}),gr=be(Ns),tu=A({},Pt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pr=be(tu),nc=A({},Pt,{data:0}),Ms=be(nc),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Is(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nu[t])?!!e[t]:!1}function Ia(){return Is}var iu=A({},Va,{key:function(t){if(t.key){var e=Ma[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(t){return t.type==="keypress"?zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yr=be(iu),au=A({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xs=be(au),ui=A({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),ru=be(ui),su=A({},Pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),lu=be(su),uu=A({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_r=be(uu),Ye=A({},Pt,{newState:0,oldState:0}),ou=be(Ye),cu=[9,13,27,32],qn=Rn&&"CompositionEvent"in window,u=null;Rn&&"documentMode"in document&&(u=document.documentMode);var d=Rn&&"TextEvent"in window&&!u,g=Rn&&(!qn||u&&8<u&&11>=u),T=" ",U=!1;function k(t,e){switch(t){case"keyup":return cu.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ct=!1;function ye(t,e){switch(t){case"compositionend":return Z(e);case"keypress":return e.which!==32?null:(U=!0,T);case"textInput":return t=e.data,t===T&&U?null:t;default:return null}}function Dt(t,e){if(Ct)return t==="compositionend"||!qn&&k(t,e)?(t=Vs(),li=Ii=Un=null,Ct=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g&&e.locale!=="ko"?null:e.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Re[t.type]:e==="textarea"}function oi(t,e,i,r){ri?si?si.push(r):si=[r]:ri=r,e=Zu(e,"onChange"),0<e.length&&(i=new hr("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Me=null,Pn=null;function Us(t){Lg(t,0)}function hu(t){var e=Mn(t);if(Rs(e))return t}function ad(t,e){if(t==="change")return e}var rd=!1;if(Rn){var ic;if(Rn){var ac="oninput"in document;if(!ac){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),ac=typeof sd.oninput=="function"}ic=ac}else ic=!1;rd=ic&&(!document.documentMode||9<document.documentMode)}function ld(){Me&&(Me.detachEvent("onpropertychange",ud),Pn=Me=null)}function ud(t){if(t.propertyName==="value"&&hu(Pn)){var e=[];oi(e,Pn,t,dn(t)),Jl(Us,e)}}function ev(t,e,i){t==="focusin"?(ld(),Me=e,Pn=i,Me.attachEvent("onpropertychange",ud)):t==="focusout"&&ld()}function nv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(Pn)}function iv(t,e){if(t==="click")return hu(e)}function av(t,e){if(t==="input"||t==="change")return hu(e)}function rv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nn=typeof Object.is=="function"?Object.is:rv;function zs(t,e){if(nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!fa.call(e,c)||!nn(t[c],e[c]))return!1}return!0}function od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cd(t,e){var i=od(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=od(i)}}function hd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Sa(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Sa(t.document)}return e}function rc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var sv=Rn&&"documentMode"in document&&11>=document.documentMode,vr=null,sc=null,Ls=null,lc=!1;function dd(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;lc||vr==null||vr!==Sa(r)||(r=vr,"selectionStart"in r&&rc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ls&&zs(Ls,r)||(Ls=r,r=Zu(sc,"onSelect"),0<r.length&&(e=new hr("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=vr)))}function xa(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Er={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},uc={},md={};Rn&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Ua(t){if(uc[t])return uc[t];if(!Er[t])return t;var e=Er[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in md)return uc[t]=e[i];return t}var gd=Ua("animationend"),pd=Ua("animationiteration"),yd=Ua("animationstart"),lv=Ua("transitionrun"),uv=Ua("transitionstart"),ov=Ua("transitioncancel"),_d=Ua("transitionend"),vd=new Map,oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oc.push("scrollEnd");function wn(t,e){vd.set(t,e),bn(e,[t])}var Ed=new WeakMap;function pn(t,e){if(typeof t=="object"&&t!==null){var i=Ed.get(t);return i!==void 0?i:(e={value:t,source:e,stack:ur(e)},Ed.set(t,e),e)}return{value:t,source:e,stack:ur(e)}}var yn=[],Tr=0,cc=0;function fu(){for(var t=Tr,e=cc=Tr=0;e<t;){var i=yn[e];yn[e++]=null;var r=yn[e];yn[e++]=null;var c=yn[e];yn[e++]=null;var h=yn[e];if(yn[e++]=null,r!==null&&c!==null){var p=r.pending;p===null?c.next=c:(c.next=p.next,p.next=c),r.pending=c}h!==0&&Td(i,c,h)}}function du(t,e,i,r){yn[Tr++]=t,yn[Tr++]=e,yn[Tr++]=i,yn[Tr++]=r,cc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function hc(t,e,i,r){return du(t,e,i,r),mu(t)}function Ar(t,e){return du(t,null,null,e),mu(t)}function Td(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var c=!1,h=t.return;h!==null;)h.childLanes|=i,r=h.alternate,r!==null&&(r.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&e!==null&&(c=31-Be(i),t=h.hiddenUpdates,r=t[c],r===null?t[c]=[e]:r.push(e),e.lane=i|536870912),h):null}function mu(t){if(50<ul)throw ul=0,yh=null,Error(s(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Sr={};function cv(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,i,r){return new cv(t,e,i,r)}function fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,e){var i=t.alternate;return i===null?(i=an(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Ad(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function gu(t,e,i,r,c,h){var p=0;if(r=t,typeof t=="function")fc(t)&&(p=1);else if(typeof t=="string")p=f0(t,i,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=an(31,i,e,c),t.elementType=w,t.lanes=h,t;case J:return za(i.children,c,h,e);case rt:p=8,c|=24;break;case et:return t=an(12,i,e,c|2),t.elementType=et,t.lanes=h,t;case _t:return t=an(13,i,e,c),t.elementType=_t,t.lanes=h,t;case Lt:return t=an(19,i,e,c),t.elementType=Lt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zt:case gt:p=10;break t;case vt:p=9;break t;case xt:p=11;break t;case O:p=14;break t;case S:p=16,r=null;break t}p=29,i=Error(s(130,t===null?"null":typeof t,"")),r=null}return e=an(p,i,e,c),e.elementType=t,e.type=r,e.lanes=h,e}function za(t,e,i,r){return t=an(7,t,r,e),t.lanes=i,t}function dc(t,e,i){return t=an(6,t,null,e),t.lanes=i,t}function mc(t,e,i){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var br=[],Rr=0,pu=null,yu=0,_n=[],vn=0,La=null,hi=1,fi="";function Ba(t,e){br[Rr++]=yu,br[Rr++]=pu,pu=t,yu=e}function Sd(t,e,i){_n[vn++]=hi,_n[vn++]=fi,_n[vn++]=La,La=t;var r=hi;t=fi;var c=32-Be(r)-1;r&=~(1<<c),i+=1;var h=32-Be(e)+c;if(30<h){var p=c-c%5;h=(r&(1<<p)-1).toString(32),r>>=p,c-=p,hi=1<<32-Be(e)+c|i<<c|r,fi=h+t}else hi=1<<h|i<<c|r,fi=t}function gc(t){t.return!==null&&(Ba(t,1),Sd(t,1,0))}function pc(t){for(;t===pu;)pu=br[--Rr],br[Rr]=null,yu=br[--Rr],br[Rr]=null;for(;t===La;)La=_n[--vn],_n[vn]=null,fi=_n[--vn],_n[vn]=null,hi=_n[--vn],_n[vn]=null}var Xe=null,ie=null,qt=!1,qa=null,kn=!1,yc=Error(s(519));function Pa(t){var e=Error(s(418,""));throw Ps(pn(e,t)),yc}function bd(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[pe]=t,e[he]=r,i){case"dialog":wt("cancel",e),wt("close",e);break;case"iframe":case"object":case"embed":wt("load",e);break;case"video":case"audio":for(i=0;i<cl.length;i++)wt(cl[i],e);break;case"source":wt("error",e);break;case"img":case"image":case"link":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"input":wt("invalid",e),ba(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),or(e);break;case"select":wt("invalid",e);break;case"textarea":wt("invalid",e),Ra(e,r.value,r.defaultValue,r.children),or(e)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||kg(e.textContent,i)?(r.popover!=null&&(wt("beforetoggle",e),wt("toggle",e)),r.onScroll!=null&&wt("scroll",e),r.onScrollEnd!=null&&wt("scrollend",e),r.onClick!=null&&(e.onclick=Ju),e=!0):e=!1,e||Pa(t)}function Rd(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Xe=Xe.return}}function Bs(t){if(t!==Xe)return!1;if(!qt)return Rd(t),qt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Ih(t.type,t.memoizedProps)),i=!i),i&&ie&&Pa(t),Rd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){ie=Dn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}ie=null}}else e===27?(e=ie,Fi(t.type)?(t=Lh,Lh=null,ie=t):ie=e):ie=Xe?Dn(t.stateNode.nextSibling):null;return!0}function qs(){ie=Xe=null,qt=!1}function wd(){var t=qa;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),qa=null),t}function Ps(t){qa===null?qa=[t]:qa.push(t)}var _c=X(null),ka=null,di=null;function xi(t,e,i){F(_c,e._currentValue),e._currentValue=i}function mi(t){t._currentValue=_c.current,W(_c)}function vc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function Ec(t,e,i,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var p=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var b=0;b<e.length;b++)if(E.context===e[b]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),vc(h.return,i,t),r||(p=null);break t}h=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=i,h=p.alternate,h!==null&&(h.lanes|=i),vc(p,i,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function ks(t,e,i,r){t=null;for(var c=e,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=c.type;nn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Se.current){if(p=c.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(pl):t=[pl])}c=c.return}t!==null&&Ec(e,t,i,r),e.flags|=262144}function _u(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ja(t){ka=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Cd(ka,t)}function vu(t,e){return ka===null&&ja(t),Cd(t,e)}function Cd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},di===null){if(t===null)throw Error(s(308));di=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else di=di.next=e;return i}var hv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},fv=l.unstable_scheduleCallback,dv=l.unstable_NormalPriority,ve={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tc(){return{controller:new hv,data:new Map,refCount:0}}function js(t){t.refCount--,t.refCount===0&&fv(dv,function(){t.controller.abort()})}var Hs=null,Ac=0,wr=0,Cr=null;function mv(t,e){if(Hs===null){var i=Hs=[];Ac=0,wr=bh(),Cr={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Ac++,e.then(Dd,Dd),e}function Dd(){if(--Ac===0&&Hs!==null){Cr!==null&&(Cr.status="fulfilled");var t=Hs;Hs=null,wr=0,Cr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function gv(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var Vd=j.S;j.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&mv(t,e),Vd!==null&&Vd(t,e)};var Ha=X(null);function Sc(){var t=Ha.current;return t!==null?t:Zt.pooledCache}function Eu(t,e){e===null?F(Ha,Ha.current):F(Ha,e.pool)}function Od(){var t=Sc();return t===null?null:{parent:ve._currentValue,pool:t}}var Gs=Error(s(460)),Nd=Error(s(474)),Tu=Error(s(542)),bc={then:function(){}};function Md(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Au(){}function Id(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Au,Au),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ud(t),t;default:if(typeof e.status=="string")e.then(Au,Au);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=r}},function(r){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ud(t),t}throw Qs=e,Gs}}var Qs=null;function xd(){if(Qs===null)throw Error(s(459));var t=Qs;return Qs=null,t}function Ud(t){if(t===Gs||t===Tu)throw Error(s(483))}var Ui=!1;function Rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Li(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(jt&2)!==0){var c=r.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),r.pending=e,e=mu(t),Td(t,null,i),e}return du(t,r,e,i),mu(t)}function Ys(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Es(t,i)}}function Cc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=p:h=h.next=p,i=i.next}while(i!==null);h===null?c=h=e:h=h.next=e}else c=h=e;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Dc=!1;function Xs(){if(Dc){var t=Cr;if(t!==null)throw t}}function Ks(t,e,i,r){Dc=!1;var c=t.updateQueue;Ui=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,B=b.next;b.next=null,p===null?h=B:p.next=B,p=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=b))}if(h!==null){var Q=c.baseState;p=0,H=B=b=null,E=h;do{var q=E.lane&-536870913,P=q!==E.lane;if(P?(Vt&q)===q:(r&q)===q){q!==0&&q===wr&&(Dc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,ot=E;q=e;var Xt=i;switch(ot.tag){case 1:if(ft=ot.payload,typeof ft=="function"){Q=ft.call(Xt,Q,q);break t}Q=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ot.payload,q=typeof ft=="function"?ft.call(Xt,Q,q):ft,q==null)break t;Q=A({},Q,q);break t;case 2:Ui=!0}}q=E.callback,q!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[q]:P.push(q))}else P={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=P,b=Q):H=H.next=P,p|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);H===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=B,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),Qi|=p,t.lanes=p,t.memoizedState=Q}}function zd(t,e){if(typeof t!="function")throw Error(s(191,t));t.call(e)}function Ld(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)zd(i[t],e)}var Dr=X(null),Su=X(0);function Bd(t,e){t=Ti,F(Su,t),F(Dr,e),Ti=t|e.baseLanes}function Vc(){F(Su,Ti),F(Dr,Dr.current)}function Oc(){Ti=Su.current,W(Dr),W(Su)}var Bi=0,Tt=null,Qt=null,de=null,bu=!1,Vr=!1,Ga=!1,Ru=0,Fs=0,Or=null,pv=0;function le(){throw Error(s(321))}function Nc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!nn(t[i],e[i]))return!1;return!0}function Mc(t,e,i,r,c,h){return Bi=h,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,j.H=t===null||t.memoizedState===null?Tm:Am,Ga=!1,h=i(r,c),Ga=!1,Vr&&(h=Pd(e,i,r,c)),qd(t),h}function qd(t){j.H=Nu;var e=Qt!==null&&Qt.next!==null;if(Bi=0,de=Qt=Tt=null,bu=!1,Fs=0,Or=null,e)throw Error(s(300));t===null||we||(t=t.dependencies,t!==null&&_u(t)&&(we=!0))}function Pd(t,e,i,r){Tt=t;var c=0;do{if(Vr&&(Or=null),Fs=0,Vr=!1,25<=c)throw Error(s(301));if(c+=1,de=Qt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}j.H=Sv,h=e(i,r)}while(Vr);return h}function yv(){var t=j.H,e=t.useState()[0];return e=typeof e.then=="function"?Zs(e):e,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Tt.flags|=1024),e}function Ic(){var t=Ru!==0;return Ru=0,t}function xc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Uc(t){if(bu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}bu=!1}Bi=0,de=Qt=Tt=null,Vr=!1,Fs=Ru=0,Or=null}function Fe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Tt.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=de===null?Tt.memoizedState:de.next;if(e!==null)de=e,Qt=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Tt.memoizedState=de=t:de=de.next=t}return de}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(t){var e=Fs;return Fs+=1,Or===null&&(Or=[]),t=Id(Or,t,e),e=Tt,(de===null?e.memoizedState:de.next)===null&&(e=e.alternate,j.H=e===null||e.memoizedState===null?Tm:Am),t}function wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zs(t);if(t.$$typeof===gt)return qe(t)}throw Error(s(438,String(t)))}function Lc(t){var e=null,i=Tt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=Tt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=zc(),Tt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=V;return e.index++,i}function gi(t,e){return typeof e=="function"?e(t):e}function Cu(t){var e=me();return Bc(e,Qt,t)}function Bc(t,e,i){var r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=i;var c=t.baseQueue,h=r.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}e.baseQueue=c=h,r.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{e=c.next;var E=p=null,b=null,B=e,H=!1;do{var Q=B.lane&-536870913;if(Q!==B.lane?(Vt&Q)===Q:(Bi&Q)===Q){var q=B.revertLane;if(q===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Q===wr&&(H=!0);else if((Bi&q)===q){B=B.next,q===wr&&(H=!0);continue}else Q={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=Q,p=h):b=b.next=Q,Tt.lanes|=q,Qi|=q;Q=B.action,Ga&&i(h,Q),h=B.hasEagerState?B.eagerState:i(h,Q)}else q={lane:Q,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=q,p=h):b=b.next=q,Tt.lanes|=Q,Qi|=Q;B=B.next}while(B!==null&&B!==e);if(b===null?p=h:b.next=E,!nn(h,t.memoizedState)&&(we=!0,H&&(i=Cr,i!==null)))throw i;t.memoizedState=h,t.baseState=p,t.baseQueue=b,r.lastRenderedState=h}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function qc(t){var e=me(),i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var r=i.dispatch,c=i.pending,h=e.memoizedState;if(c!==null){i.pending=null;var p=c=c.next;do h=t(h,p.action),p=p.next;while(p!==c);nn(h,e.memoizedState)||(we=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,r]}function kd(t,e,i){var r=Tt,c=me(),h=qt;if(h){if(i===void 0)throw Error(s(407));i=i()}else i=e();var p=!nn((Qt||c).memoizedState,i);p&&(c.memoizedState=i,we=!0),c=c.queue;var E=Gd.bind(null,r,c,t);if(Js(2048,8,E,[t]),c.getSnapshot!==e||p||de!==null&&de.memoizedState.tag&1){if(r.flags|=2048,Nr(9,Du(),Hd.bind(null,r,c,i,e),null),Zt===null)throw Error(s(349));h||(Bi&124)!==0||jd(r,e,i)}return i}function jd(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Tt.updateQueue,e===null?(e=zc(),Tt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Hd(t,e,i,r){e.value=i,e.getSnapshot=r,Qd(e)&&Yd(t)}function Gd(t,e,i){return i(function(){Qd(e)&&Yd(t)})}function Qd(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!nn(t,i)}catch{return!0}}function Yd(t){var e=Ar(t,2);e!==null&&on(e,t,2)}function Pc(t){var e=Fe();if(typeof t=="function"){var i=t;if(t=i(),Ga){tn(!0);try{i()}finally{tn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e}function Xd(t,e,i,r){return t.baseState=i,Bc(t,Qt,typeof r=="function"?r:gi)}function _v(t,e,i,r,c){if(Ou(t))throw Error(s(485));if(t=e.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};j.T!==null?i(!0):h.isTransition=!1,r(h),i=e.pending,i===null?(h.next=e.pending=h,Kd(e,h)):(h.next=i.next,e.pending=i.next=h)}}function Kd(t,e){var i=e.action,r=e.payload,c=t.state;if(e.isTransition){var h=j.T,p={};j.T=p;try{var E=i(c,r),b=j.S;b!==null&&b(p,E),Fd(t,e,E)}catch(B){kc(t,e,B)}finally{j.T=h}}else try{h=i(c,r),Fd(t,e,h)}catch(B){kc(t,e,B)}}function Fd(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Zd(t,e,r)},function(r){return kc(t,e,r)}):Zd(t,e,i)}function Zd(t,e,i){e.status="fulfilled",e.value=i,Jd(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Kd(t,i)))}function kc(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Jd(e),e=e.next;while(e!==r)}t.action=null}function Jd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function $d(t,e){return e}function Wd(t,e){if(qt){var i=Zt.formState;if(i!==null){t:{var r=Tt;if(qt){if(ie){e:{for(var c=ie,h=kn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ie=Dn(c.nextSibling),r=c.data==="F!";break t}}Pa(r)}r=!1}r&&(e=i[0])}}return i=Fe(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:e},i.queue=r,i=_m.bind(null,Tt,r),r.dispatch=i,r=Pc(!1),h=Yc.bind(null,Tt,!1,r.queue),r=Fe(),c={state:e,dispatch:null,action:t,pending:null},r.queue=c,i=_v.bind(null,Tt,c,h,i),c.dispatch=i,r.memoizedState=t,[e,i,!1]}function tm(t){var e=me();return em(e,Qt,t)}function em(t,e,i){if(e=Bc(t,e,$d)[0],t=Cu(gi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Zs(e)}catch(p){throw p===Gs?Tu:p}else r=e;e=me();var c=e.queue,h=c.dispatch;return i!==e.memoizedState&&(Tt.flags|=2048,Nr(9,Du(),vv.bind(null,c,i),null)),[r,h,t]}function vv(t,e){t.action=e}function nm(t){var e=me(),i=Qt;if(i!==null)return em(e,i,t);me(),e=e.memoizedState,i=me();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function Nr(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=Tt.updateQueue,e===null&&(e=zc(),Tt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function Du(){return{destroy:void 0,resource:void 0}}function im(){return me().memoizedState}function Vu(t,e,i,r){var c=Fe();r=r===void 0?null:r,Tt.flags|=t,c.memoizedState=Nr(1|e,Du(),i,r)}function Js(t,e,i,r){var c=me();r=r===void 0?null:r;var h=c.memoizedState.inst;Qt!==null&&r!==null&&Nc(r,Qt.memoizedState.deps)?c.memoizedState=Nr(e,h,i,r):(Tt.flags|=t,c.memoizedState=Nr(1|e,h,i,r))}function am(t,e){Vu(8390656,8,t,e)}function rm(t,e){Js(2048,8,t,e)}function sm(t,e){return Js(4,2,t,e)}function lm(t,e){return Js(4,4,t,e)}function um(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function om(t,e,i){i=i!=null?i.concat([t]):null,Js(4,4,um.bind(null,e,t),i)}function jc(){}function cm(t,e){var i=me();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&Nc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function hm(t,e){var i=me();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&Nc(e,r[1]))return r[0];if(r=t(),Ga){tn(!0);try{t()}finally{tn(!1)}}return i.memoizedState=[r,e],r}function Hc(t,e,i){return i===void 0||(Bi&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=mg(),Tt.lanes|=t,Qi|=t,i)}function fm(t,e,i,r){return nn(i,e)?i:Dr.current!==null?(t=Hc(t,i,r),nn(t,e)||(we=!0),t):(Bi&42)===0?(we=!0,t.memoizedState=i):(t=mg(),Tt.lanes|=t,Qi|=t,e)}function dm(t,e,i,r,c){var h=$.p;$.p=h!==0&&8>h?h:8;var p=j.T,E={};j.T=E,Yc(t,!1,e,i);try{var b=c(),B=j.S;if(B!==null&&B(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=gv(b,r);$s(t,e,H,un(t))}else $s(t,e,r,un(t))}catch(Q){$s(t,e,{then:function(){},status:"rejected",reason:Q},un())}finally{$.p=h,j.T=p}}function Ev(){}function Gc(t,e,i,r){if(t.tag!==5)throw Error(s(476));var c=mm(t).queue;dm(t,c,e,lt,i===null?Ev:function(){return gm(t),i(r)})}function mm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:lt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function gm(t){var e=mm(t).next.queue;$s(t,e,{},un())}function Qc(){return qe(pl)}function pm(){return me().memoizedState}function ym(){return me().memoizedState}function Tv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=un();t=zi(i);var r=Li(e,t,i);r!==null&&(on(r,e,i),Ys(r,e,i)),e={cache:Tc()},t.payload=e;return}e=e.return}}function Av(t,e,i){var r=un();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ou(t)?vm(e,i):(i=hc(t,e,i,r),i!==null&&(on(i,t,r),Em(i,e,r)))}function _m(t,e,i){var r=un();$s(t,e,i,r)}function $s(t,e,i,r){var c={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))vm(e,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var p=e.lastRenderedState,E=h(p,i);if(c.hasEagerState=!0,c.eagerState=E,nn(E,p))return du(t,e,c,0),Zt===null&&fu(),!1}catch{}finally{}if(i=hc(t,e,c,r),i!==null)return on(i,t,r),Em(i,e,r),!0}return!1}function Yc(t,e,i,r){if(r={lane:2,revertLane:bh(),action:r,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(e)throw Error(s(479))}else e=hc(t,i,r,2),e!==null&&on(e,t,2)}function Ou(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function vm(t,e){Vr=bu=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Em(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Es(t,i)}}var Nu={readContext:qe,use:wu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},Tm={readContext:qe,use:wu,useCallback:function(t,e){return Fe().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:am,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Vu(4194308,4,um.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Vu(4194308,4,t,e)},useInsertionEffect:function(t,e){Vu(4,2,t,e)},useMemo:function(t,e){var i=Fe();e=e===void 0?null:e;var r=t();if(Ga){tn(!0);try{t()}finally{tn(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=Fe();if(i!==void 0){var c=i(e);if(Ga){tn(!0);try{i(e)}finally{tn(!1)}}}else c=e;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=Av.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=Fe();return t={current:t},e.memoizedState=t},useState:function(t){t=Pc(t);var e=t.queue,i=_m.bind(null,Tt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:jc,useDeferredValue:function(t,e){var i=Fe();return Hc(i,t,e)},useTransition:function(){var t=Pc(!1);return t=dm.bind(null,Tt,t.queue,!0,!1),Fe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=Tt,c=Fe();if(qt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=e(),Zt===null)throw Error(s(349));(Vt&124)!==0||jd(r,e,i)}c.memoizedState=i;var h={value:i,getSnapshot:e};return c.queue=h,am(Gd.bind(null,r,h,t),[t]),r.flags|=2048,Nr(9,Du(),Hd.bind(null,r,h,i,e),null),i},useId:function(){var t=Fe(),e=Zt.identifierPrefix;if(qt){var i=fi,r=hi;i=(r&~(1<<32-Be(r)-1)).toString(32)+i,e="«"+e+"R"+i,i=Ru++,0<i&&(e+="H"+i.toString(32)),e+="»"}else i=pv++,e="«"+e+"r"+i.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Qc,useFormState:Wd,useActionState:Wd,useOptimistic:function(t){var e=Fe();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Yc.bind(null,Tt,!0,i),i.dispatch=e,[t,e]},useMemoCache:Lc,useCacheRefresh:function(){return Fe().memoizedState=Tv.bind(null,Tt)}},Am={readContext:qe,use:wu,useCallback:cm,useContext:qe,useEffect:rm,useImperativeHandle:om,useInsertionEffect:sm,useLayoutEffect:lm,useMemo:hm,useReducer:Cu,useRef:im,useState:function(){return Cu(gi)},useDebugValue:jc,useDeferredValue:function(t,e){var i=me();return fm(i,Qt.memoizedState,t,e)},useTransition:function(){var t=Cu(gi)[0],e=me().memoizedState;return[typeof t=="boolean"?t:Zs(t),e]},useSyncExternalStore:kd,useId:pm,useHostTransitionStatus:Qc,useFormState:tm,useActionState:tm,useOptimistic:function(t,e){var i=me();return Xd(i,Qt,t,e)},useMemoCache:Lc,useCacheRefresh:ym},Sv={readContext:qe,use:wu,useCallback:cm,useContext:qe,useEffect:rm,useImperativeHandle:om,useInsertionEffect:sm,useLayoutEffect:lm,useMemo:hm,useReducer:qc,useRef:im,useState:function(){return qc(gi)},useDebugValue:jc,useDeferredValue:function(t,e){var i=me();return Qt===null?Hc(i,t,e):fm(i,Qt.memoizedState,t,e)},useTransition:function(){var t=qc(gi)[0],e=me().memoizedState;return[typeof t=="boolean"?t:Zs(t),e]},useSyncExternalStore:kd,useId:pm,useHostTransitionStatus:Qc,useFormState:nm,useActionState:nm,useOptimistic:function(t,e){var i=me();return Qt!==null?Xd(i,Qt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Lc,useCacheRefresh:ym},Mr=null,Ws=0;function Mu(t){var e=Ws;return Ws+=1,Mr===null&&(Mr=[]),Id(Mr,t,e)}function tl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Iu(t,e){throw e.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(e),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Sm(t){var e=t._init;return e(t._payload)}function bm(t){function e(M,D){if(t){var L=M.deletions;L===null?(M.deletions=[D],M.flags|=16):L.push(D)}}function i(M,D){if(!t)return null;for(;D!==null;)e(M,D),D=D.sibling;return null}function r(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=ci(M,D),M.index=0,M.sibling=null,M}function h(M,D,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<D?(M.flags|=67108866,D):L):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function p(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,L,G){return D===null||D.tag!==6?(D=dc(L,M.mode,G),D.return=M,D):(D=c(D,L),D.return=M,D)}function b(M,D,L,G){var at=L.type;return at===J?H(M,D,L.props.children,G,L.key):D!==null&&(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Sm(at)===D.type)?(D=c(D,L.props),tl(D,L),D.return=M,D):(D=gu(L.type,L.key,L.props,null,M.mode,G),tl(D,L),D.return=M,D)}function B(M,D,L,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=mc(L,M.mode,G),D.return=M,D):(D=c(D,L.children||[]),D.return=M,D)}function H(M,D,L,G,at){return D===null||D.tag!==7?(D=za(L,M.mode,G,at),D.return=M,D):(D=c(D,L),D.return=M,D)}function Q(M,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=dc(""+D,M.mode,L),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return L=gu(D.type,D.key,D.props,null,M.mode,L),tl(L,D),L.return=M,L;case K:return D=mc(D,M.mode,L),D.return=M,D;case S:var G=D._init;return D=G(D._payload),Q(M,D,L)}if(ee(D)||I(D))return D=za(D,M.mode,L,null),D.return=M,D;if(typeof D.then=="function")return Q(M,Mu(D),L);if(D.$$typeof===gt)return Q(M,vu(M,D),L);Iu(M,D)}return null}function q(M,D,L,G){var at=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(M,D,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===at?b(M,D,L,G):null;case K:return L.key===at?B(M,D,L,G):null;case S:return at=L._init,L=at(L._payload),q(M,D,L,G)}if(ee(L)||I(L))return at!==null?null:H(M,D,L,G,null);if(typeof L.then=="function")return q(M,D,Mu(L),G);if(L.$$typeof===gt)return q(M,D,vu(M,L),G);Iu(M,L)}return null}function P(M,D,L,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(L)||null,E(D,M,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case z:return M=M.get(G.key===null?L:G.key)||null,b(D,M,G,at);case K:return M=M.get(G.key===null?L:G.key)||null,B(D,M,G,at);case S:var St=G._init;return G=St(G._payload),P(M,D,L,G,at)}if(ee(G)||I(G))return M=M.get(L)||null,H(D,M,G,at,null);if(typeof G.then=="function")return P(M,D,L,Mu(G),at);if(G.$$typeof===gt)return P(M,D,L,vu(D,G),at);Iu(D,G)}return null}function ft(M,D,L,G){for(var at=null,St=null,st=D,ct=D=0,De=null;st!==null&&ct<L.length;ct++){st.index>ct?(De=st,st=null):De=st.sibling;var Ut=q(M,st,L[ct],G);if(Ut===null){st===null&&(st=De);break}t&&st&&Ut.alternate===null&&e(M,st),D=h(Ut,D,ct),St===null?at=Ut:St.sibling=Ut,St=Ut,st=De}if(ct===L.length)return i(M,st),qt&&Ba(M,ct),at;if(st===null){for(;ct<L.length;ct++)st=Q(M,L[ct],G),st!==null&&(D=h(st,D,ct),St===null?at=st:St.sibling=st,St=st);return qt&&Ba(M,ct),at}for(st=r(st);ct<L.length;ct++)De=P(st,M,ct,L[ct],G),De!==null&&(t&&De.alternate!==null&&st.delete(De.key===null?ct:De.key),D=h(De,D,ct),St===null?at=De:St.sibling=De,St=De);return t&&st.forEach(function(ta){return e(M,ta)}),qt&&Ba(M,ct),at}function ot(M,D,L,G){if(L==null)throw Error(s(151));for(var at=null,St=null,st=D,ct=D=0,De=null,Ut=L.next();st!==null&&!Ut.done;ct++,Ut=L.next()){st.index>ct?(De=st,st=null):De=st.sibling;var ta=q(M,st,Ut.value,G);if(ta===null){st===null&&(st=De);break}t&&st&&ta.alternate===null&&e(M,st),D=h(ta,D,ct),St===null?at=ta:St.sibling=ta,St=ta,st=De}if(Ut.done)return i(M,st),qt&&Ba(M,ct),at;if(st===null){for(;!Ut.done;ct++,Ut=L.next())Ut=Q(M,Ut.value,G),Ut!==null&&(D=h(Ut,D,ct),St===null?at=Ut:St.sibling=Ut,St=Ut);return qt&&Ba(M,ct),at}for(st=r(st);!Ut.done;ct++,Ut=L.next())Ut=P(st,M,ct,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?ct:Ut.key),D=h(Ut,D,ct),St===null?at=Ut:St.sibling=Ut,St=Ut);return t&&st.forEach(function(b0){return e(M,b0)}),qt&&Ba(M,ct),at}function Xt(M,D,L,G){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:t:{for(var at=L.key;D!==null;){if(D.key===at){if(at=L.type,at===J){if(D.tag===7){i(M,D.sibling),G=c(D,L.props.children),G.return=M,M=G;break t}}else if(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Sm(at)===D.type){i(M,D.sibling),G=c(D,L.props),tl(G,L),G.return=M,M=G;break t}i(M,D);break}else e(M,D);D=D.sibling}L.type===J?(G=za(L.props.children,M.mode,G,L.key),G.return=M,M=G):(G=gu(L.type,L.key,L.props,null,M.mode,G),tl(G,L),G.return=M,M=G)}return p(M);case K:t:{for(at=L.key;D!==null;){if(D.key===at)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){i(M,D.sibling),G=c(D,L.children||[]),G.return=M,M=G;break t}else{i(M,D);break}else e(M,D);D=D.sibling}G=mc(L,M.mode,G),G.return=M,M=G}return p(M);case S:return at=L._init,L=at(L._payload),Xt(M,D,L,G)}if(ee(L))return ft(M,D,L,G);if(I(L)){if(at=I(L),typeof at!="function")throw Error(s(150));return L=at.call(L),ot(M,D,L,G)}if(typeof L.then=="function")return Xt(M,D,Mu(L),G);if(L.$$typeof===gt)return Xt(M,D,vu(M,L),G);Iu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(i(M,D.sibling),G=c(D,L),G.return=M,M=G):(i(M,D),G=dc(L,M.mode,G),G.return=M,M=G),p(M)):i(M,D)}return function(M,D,L,G){try{Ws=0;var at=Xt(M,D,L,G);return Mr=null,at}catch(st){if(st===Gs||st===Tu)throw st;var St=an(29,st,null,M.mode);return St.lanes=G,St.return=M,St}finally{}}}var Ir=bm(!0),Rm=bm(!1),En=X(null),jn=null;function qi(t){var e=t.alternate;F(Ee,Ee.current&1),F(En,t),jn===null&&(e===null||Dr.current!==null||e.memoizedState!==null)&&(jn=t)}function wm(t){if(t.tag===22){if(F(Ee,Ee.current),F(En,t),jn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(jn=t)}}else Pi()}function Pi(){F(Ee,Ee.current),F(En,En.current)}function pi(t){W(En),jn===t&&(jn=null),W(Ee)}var Ee=X(0);function xu(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||zh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Xc(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:A({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Kc={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=un(),c=zi(r);c.payload=e,i!=null&&(c.callback=i),e=Li(t,c,r),e!==null&&(on(e,t,r),Ys(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=un(),c=zi(r);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=Li(t,c,r),e!==null&&(on(e,t,r),Ys(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=un(),r=zi(i);r.tag=2,e!=null&&(r.callback=e),e=Li(t,r,i),e!==null&&(on(e,t,i),Ys(e,t,i))}};function Cm(t,e,i,r,c,h,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,h,p):e.prototype&&e.prototype.isPureReactComponent?!zs(i,r)||!zs(c,h):!0}function Dm(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&Kc.enqueueReplaceState(e,e.state,null)}function Qa(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=A({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vm(t){Uu(t)}function Om(t){console.error(t)}function Nm(t){Uu(t)}function zu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Mm(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Fc(t,e,i){return i=zi(i),i.tag=3,i.payload={element:null},i.callback=function(){zu(t,e)},i}function Im(t){return t=zi(t),t.tag=3,t}function xm(t,e,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;t.payload=function(){return c(h)},t.callback=function(){Mm(e,i,r)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Mm(e,i,r),typeof c!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})})}function bv(t,e,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&ks(e,i,c,!0),i=En.current,i!==null){switch(i.tag){case 13:return jn===null?vh():i.alternate===null&&ae===0&&(ae=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===bc?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),Th(t,r,c)),!1;case 22:return i.flags|=65536,r===bc?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),Th(t,r,c)),!1}throw Error(s(435,i.tag))}return Th(t,r,c),vh(),!1}if(qt)return e=En.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,r!==yc&&(t=Error(s(422),{cause:r}),Ps(pn(t,i)))):(r!==yc&&(e=Error(s(423),{cause:r}),Ps(pn(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=pn(r,i),c=Fc(t.stateNode,r,c),Cc(t,c),ae!==4&&(ae=2)),!1;var h=Error(s(520),{cause:r});if(h=pn(h,i),ll===null?ll=[h]:ll.push(h),ae!==4&&(ae=2),e===null)return!0;r=pn(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=Fc(i.stateNode,r,t),Cc(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Yi===null||!Yi.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Im(c),xm(c,t,i,r),Cc(i,c),!1}i=i.return}while(i!==null);return!1}var Um=Error(s(461)),we=!1;function Ie(t,e,i,r){e.child=t===null?Rm(e,null,i,r):Ir(e,t.child,i,r)}function zm(t,e,i,r,c){i=i.render;var h=e.ref;if("ref"in r){var p={};for(var E in r)E!=="ref"&&(p[E]=r[E])}else p=r;return ja(e),r=Mc(t,e,i,p,h,c),E=Ic(),t!==null&&!we?(xc(t,e,c),yi(t,e,c)):(qt&&E&&gc(e),e.flags|=1,Ie(t,e,r,c),e.child)}function Lm(t,e,i,r,c){if(t===null){var h=i.type;return typeof h=="function"&&!fc(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,Bm(t,e,h,r,c)):(t=gu(i.type,null,r,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!ih(t,c)){var p=h.memoizedProps;if(i=i.compare,i=i!==null?i:zs,i(p,r)&&t.ref===e.ref)return yi(t,e,c)}return e.flags|=1,t=ci(h,r),t.ref=e.ref,t.return=e,e.child=t}function Bm(t,e,i,r,c){if(t!==null){var h=t.memoizedProps;if(zs(h,r)&&t.ref===e.ref)if(we=!1,e.pendingProps=r=h,ih(t,c))(t.flags&131072)!==0&&(we=!0);else return e.lanes=t.lanes,yi(t,e,c)}return Zc(t,e,i,r,c)}function qm(t,e,i){var r=e.pendingProps,c=r.children,h=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((e.flags&128)!==0){if(r=h!==null?h.baseLanes|i:i,t!==null){for(c=e.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;e.childLanes=h&~r}else e.childLanes=0,e.child=null;return Pm(t,e,r,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eu(e,h!==null?h.cachePool:null),h!==null?Bd(e,h):Vc(),wm(e);else return e.lanes=e.childLanes=536870912,Pm(t,e,h!==null?h.baseLanes|i:i,i)}else h!==null?(Eu(e,h.cachePool),Bd(e,h),Pi(),e.memoizedState=null):(t!==null&&Eu(e,null),Vc(),Pi());return Ie(t,e,c,i),e.child}function Pm(t,e,i,r){var c=Sc();return c=c===null?null:{parent:ve._currentValue,pool:c},e.memoizedState={baseLanes:i,cachePool:c},t!==null&&Eu(e,null),Vc(),wm(e),t!==null&&ks(t,e,r,!0),null}function Lu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Zc(t,e,i,r,c){return ja(e),i=Mc(t,e,i,r,void 0,c),r=Ic(),t!==null&&!we?(xc(t,e,c),yi(t,e,c)):(qt&&r&&gc(e),e.flags|=1,Ie(t,e,i,c),e.child)}function km(t,e,i,r,c,h){return ja(e),e.updateQueue=null,i=Pd(e,r,i,c),qd(t),r=Ic(),t!==null&&!we?(xc(t,e,h),yi(t,e,h)):(qt&&r&&gc(e),e.flags|=1,Ie(t,e,i,h),e.child)}function jm(t,e,i,r,c){if(ja(e),e.stateNode===null){var h=Sr,p=i.contextType;typeof p=="object"&&p!==null&&(h=qe(p)),h=new i(r,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Kc,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=r,h.state=e.memoizedState,h.refs={},Rc(e),p=i.contextType,h.context=typeof p=="object"&&p!==null?qe(p):Sr,h.state=e.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(Xc(e,i,p,r),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&Kc.enqueueReplaceState(h,h.state,null),Ks(e,r,h,c),Xs(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,b=Qa(i,E);h.props=b;var B=h.context,H=i.contextType;p=Sr,typeof H=="object"&&H!==null&&(p=qe(H));var Q=i.getDerivedStateFromProps;H=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==p)&&Dm(e,h,r,p),Ui=!1;var q=e.memoizedState;h.state=q,Ks(e,r,h,c),Xs(),B=e.memoizedState,E||q!==B||Ui?(typeof Q=="function"&&(Xc(e,i,Q,r),B=e.memoizedState),(b=Ui||Cm(e,i,b,r,q,B,p))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=B),h.props=r,h.state=B,h.context=p,r=b):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{h=e.stateNode,wc(t,e),p=e.memoizedProps,H=Qa(i,p),h.props=H,Q=e.pendingProps,q=h.context,B=i.contextType,b=Sr,typeof B=="object"&&B!==null&&(b=qe(B)),E=i.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==Q||q!==b)&&Dm(e,h,r,b),Ui=!1,q=e.memoizedState,h.state=q,Ks(e,r,h,c),Xs();var P=e.memoizedState;p!==Q||q!==P||Ui||t!==null&&t.dependencies!==null&&_u(t.dependencies)?(typeof E=="function"&&(Xc(e,i,E,r),P=e.memoizedState),(H=Ui||Cm(e,i,H,r,q,P,b)||t!==null&&t.dependencies!==null&&_u(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,P,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,P,b)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),h.props=r,h.state=P,h.context=b,r=H):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(e.flags|=1024),r=!1)}return h=r,Lu(t,e),r=(e.flags&128)!==0,h||r?(h=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&r?(e.child=Ir(e,t.child,null,c),e.child=Ir(e,null,i,c)):Ie(t,e,i,c),e.memoizedState=h.state,t=e.child):t=yi(t,e,c),t}function Hm(t,e,i,r){return qs(),e.flags|=256,Ie(t,e,i,r),e.child}var Jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $c(t){return{baseLanes:t,cachePool:Od()}}function Wc(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Tn),t}function Gm(t,e,i){var r=e.pendingProps,c=!1,h=(e.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),p&&(c=!0,e.flags&=-129),p=(e.flags&32)!==0,e.flags&=-33,t===null){if(qt){if(c?qi(e):Pi(),qt){var E=ie,b;if(b=E){t:{for(b=E,E=kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Dn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(e.memoizedState={dehydrated:E,treeContext:La!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=e,e.child=b,Xe=e,ie=null,b=!0):b=!1}b||Pa(e)}if(E=e.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return zh(E)?e.lanes=32:e.lanes=536870912,null;pi(e)}return E=r.children,r=r.fallback,c?(Pi(),c=e.mode,E=Bu({mode:"hidden",children:E},c),r=za(r,c,i,null),E.return=e,r.return=e,E.sibling=r,e.child=E,c=e.child,c.memoizedState=$c(i),c.childLanes=Wc(t,p,i),e.memoizedState=Jc,r):(qi(e),th(e,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)e.flags&256?(qi(e),e.flags&=-257,e=eh(t,e,i)):e.memoizedState!==null?(Pi(),e.child=t.child,e.flags|=128,e=null):(Pi(),c=r.fallback,E=e.mode,r=Bu({mode:"visible",children:r.children},E),c=za(c,E,i,null),c.flags|=2,r.return=e,c.return=e,r.sibling=c,e.child=r,Ir(e,t.child,null,i),r=e.child,r.memoizedState=$c(i),r.childLanes=Wc(t,p,i),e.memoizedState=Jc,e=c);else if(qi(e),zh(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var B=p.dgst;p=B,r=Error(s(419)),r.stack="",r.digest=p,Ps({value:r,source:null,stack:null}),e=eh(t,e,i)}else if(we||ks(t,e,i,!1),p=(i&t.childLanes)!==0,we||p){if(p=Zt,p!==null&&(r=i&-i,r=(r&42)!==0?1:Ci(r),r=(r&(p.suspendedLanes|i))!==0?0:r,r!==0&&r!==b.retryLane))throw b.retryLane=r,Ar(t,r),on(p,t,r),Um;E.data==="$?"||vh(),e=eh(t,e,i)}else E.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=b.treeContext,ie=Dn(E.nextSibling),Xe=e,qt=!0,qa=null,kn=!1,t!==null&&(_n[vn++]=hi,_n[vn++]=fi,_n[vn++]=La,hi=t.id,fi=t.overflow,La=e),e=th(e,r.children),e.flags|=4096);return e}return c?(Pi(),c=r.fallback,E=e.mode,b=t.child,B=b.sibling,r=ci(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,B!==null?c=ci(B,c):(c=za(c,E,i,null),c.flags|=2),c.return=e,r.return=e,r.sibling=c,e.child=r,r=c,c=e.child,E=t.child.memoizedState,E===null?E=$c(i):(b=E.cachePool,b!==null?(B=ve._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=Od(),E={baseLanes:E.baseLanes|i,cachePool:b}),c.memoizedState=E,c.childLanes=Wc(t,p,i),e.memoizedState=Jc,r):(qi(e),i=t.child,t=i.sibling,i=ci(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(p=e.deletions,p===null?(e.deletions=[t],e.flags|=16):p.push(t)),e.child=i,e.memoizedState=null,i)}function th(t,e){return e=Bu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Bu(t,e){return t=an(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function eh(t,e,i){return Ir(e,t.child,null,i),t=th(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Qm(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vc(t.return,e,i)}function nh(t,e,i,r,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=i,h.tailMode=c)}function Ym(t,e,i){var r=e.pendingProps,c=r.revealOrder,h=r.tail;if(Ie(t,e,r.children,i),r=Ee.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qm(t,i,e);else if(t.tag===19)Qm(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(F(Ee,r),c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&xu(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),nh(e,!1,c,i,h);break;case"backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&xu(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}nh(e,!0,i,null,h);break;case"together":nh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(ks(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(s(153));if(e.child!==null){for(t=e.child,i=ci(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=ci(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function ih(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&_u(t)))}function Rv(t,e,i){switch(e.tag){case 3:Ft(e,e.stateNode.containerInfo),xi(e,ve,t.memoizedState.cache),qs();break;case 27:case 5:wi(e);break;case 4:Ft(e,e.stateNode.containerInfo);break;case 10:xi(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(qi(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Gm(t,e,i):(qi(e),t=yi(t,e,i),t!==null?t.sibling:null);qi(e);break;case 19:var c=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(ks(t,e,i,!1),r=(i&e.childLanes)!==0),c){if(r)return Ym(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,qm(t,e,i);case 24:xi(e,ve,t.memoizedState.cache)}return yi(t,e,i)}function Xm(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)we=!0;else{if(!ih(t,i)&&(e.flags&128)===0)return we=!1,Rv(t,e,i);we=(t.flags&131072)!==0}else we=!1,qt&&(e.flags&1048576)!==0&&Sd(e,yu,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,c=r._init;if(r=c(r._payload),e.type=r,typeof r=="function")fc(r)?(t=Qa(r,t),e.tag=1,e=jm(null,e,r,t,i)):(e.tag=0,e=Zc(null,e,r,t,i));else{if(r!=null){if(c=r.$$typeof,c===xt){e.tag=11,e=zm(null,e,r,t,i);break t}else if(c===O){e.tag=14,e=Lm(null,e,r,t,i);break t}}throw e=Oe(r)||r,Error(s(306,e,""))}}return e;case 0:return Zc(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,c=Qa(r,e.pendingProps),jm(t,e,r,c,i);case 3:t:{if(Ft(e,e.stateNode.containerInfo),t===null)throw Error(s(387));r=e.pendingProps;var h=e.memoizedState;c=h.element,wc(t,e),Ks(e,r,null,i);var p=e.memoizedState;if(r=p.cache,xi(e,ve,r),r!==h.cache&&Ec(e,[ve],i,!0),Xs(),r=p.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:p.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=Hm(t,e,r,i);break t}else if(r!==c){c=pn(Error(s(424)),e),Ps(c),e=Hm(t,e,r,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=Dn(t.firstChild),Xe=e,qt=!0,qa=null,kn=!0,i=Rm(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(qs(),r===c){e=yi(t,e,i);break t}Ie(t,e,r,i)}e=e.child}return e;case 26:return Lu(t,e),t===null?(i=Jg(e.type,null,e.pendingProps,null))?e.memoizedState=i:qt||(i=e.type,t=e.pendingProps,r=$u(mt.current).createElement(i),r[pe]=e,r[he]=t,Ue(r,i,t),se(r),e.stateNode=r):e.memoizedState=Jg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return wi(e),t===null&&qt&&(r=e.stateNode=Kg(e.type,e.pendingProps,mt.current),Xe=e,kn=!0,c=ie,Fi(e.type)?(Lh=c,ie=Dn(r.firstChild)):ie=c),Ie(t,e,e.pendingProps.children,i),Lu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&qt&&((c=r=ie)&&(r=Wv(r,e.type,e.pendingProps,kn),r!==null?(e.stateNode=r,Xe=e,ie=Dn(r.firstChild),kn=!1,c=!0):c=!1),c||Pa(e)),wi(e),c=e.type,h=e.pendingProps,p=t!==null?t.memoizedProps:null,r=h.children,Ih(c,h)?r=null:p!==null&&Ih(c,p)&&(e.flags|=32),e.memoizedState!==null&&(c=Mc(t,e,yv,null,null,i),pl._currentValue=c),Lu(t,e),Ie(t,e,r,i),e.child;case 6:return t===null&&qt&&((t=i=ie)&&(i=t0(i,e.pendingProps,kn),i!==null?(e.stateNode=i,Xe=e,ie=null,t=!0):t=!1),t||Pa(e)),null;case 13:return Gm(t,e,i);case 4:return Ft(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ir(e,null,r,i):Ie(t,e,r,i),e.child;case 11:return zm(t,e,e.type,e.pendingProps,i);case 7:return Ie(t,e,e.pendingProps,i),e.child;case 8:return Ie(t,e,e.pendingProps.children,i),e.child;case 12:return Ie(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,xi(e,e.type,r.value),Ie(t,e,r.children,i),e.child;case 9:return c=e.type._context,r=e.pendingProps.children,ja(e),c=qe(c),r=r(c),e.flags|=1,Ie(t,e,r,i),e.child;case 14:return Lm(t,e,e.type,e.pendingProps,i);case 15:return Bm(t,e,e.type,e.pendingProps,i);case 19:return Ym(t,e,i);case 31:return r=e.pendingProps,i=e.mode,r={mode:r.mode,children:r.children},t===null?(i=Bu(r,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=ci(t.child,r),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return qm(t,e,i);case 24:return ja(e),r=qe(ve),t===null?(c=Sc(),c===null&&(c=Zt,h=Tc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),e.memoizedState={parent:r,cache:c},Rc(e),xi(e,ve,c)):((t.lanes&i)!==0&&(wc(t,e),Ks(e,null,null,i),Xs()),c=t.memoizedState,h=e.memoizedState,c.parent!==r?(c={parent:r,cache:r},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),xi(e,ve,r)):(r=h.cache,xi(e,ve,r),r!==c.cache&&Ec(e,[ve],i,!0))),Ie(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function _i(t){t.flags|=4}function Km(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!np(e)){if(e=En.current,e!==null&&((Vt&4194048)===Vt?jn!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||e!==jn))throw Qs=bc,Nd;t.flags|=8192}}function qu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?_s():536870912,t.lanes|=e,Lr|=e)}function el(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function wv(t,e,i){var r=e.pendingProps;switch(pc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Wt(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),mi(ve),Vn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Bs(e)?_i(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,wd())),Wt(e),null;case 26:return i=e.memoizedState,t===null?(_i(e),i!==null?(Wt(e),Km(e,i)):(Wt(e),e.flags&=-16777217)):i?i!==t.memoizedState?(_i(e),Wt(e),Km(e,i)):(Wt(e),e.flags&=-16777217):(t.memoizedProps!==r&&_i(e),Wt(e),e.flags&=-16777217),null;case 27:Jn(e),i=mt.current;var c=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&_i(e);else{if(!r){if(e.stateNode===null)throw Error(s(166));return Wt(e),null}t=ut.current,Bs(e)?bd(e):(t=Kg(c,r,i),e.stateNode=t,_i(e))}return Wt(e),null;case 5:if(Jn(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&_i(e);else{if(!r){if(e.stateNode===null)throw Error(s(166));return Wt(e),null}if(t=ut.current,Bs(e))bd(e);else{switch(c=$u(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?c.createElement(i,{is:r.is}):c.createElement(i)}}t[pe]=e,t[he]=r;t:for(c=e.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}e.stateNode=t;t:switch(Ue(t,i,r),i){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&_i(e)}}return Wt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&_i(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(s(166));if(t=mt.current,Bs(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[pe]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||kg(t.nodeValue,i)),t||Pa(e)}else t=$u(t).createTextNode(r),t[pe]=e,e.stateNode=t}return Wt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Bs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=e}else qs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Wt(e),c=!1}else c=wd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(pi(e),e):(pi(e),null)}if(pi(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=r!==null,t=t!==null&&t.memoizedState!==null,i){r=e.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var h=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),qu(e,e.updateQueue),Wt(e),null;case 4:return Vn(),t===null&&Dh(e.stateNode.containerInfo),Wt(e),null;case 10:return mi(e.type),Wt(e),null;case 19:if(W(Ee),c=e.memoizedState,c===null)return Wt(e),null;if(r=(e.flags&128)!==0,h=c.rendering,h===null)if(r)el(c,!1);else{if(ae!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=xu(t),h!==null){for(e.flags|=128,el(c,!1),t=h.updateQueue,e.updateQueue=t,qu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Ad(i,t),i=i.sibling;return F(Ee,Ee.current&1|2),e.child}t=t.sibling}c.tail!==null&&cn()>ju&&(e.flags|=128,r=!0,el(c,!1),e.lanes=4194304)}else{if(!r)if(t=xu(h),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,qu(e,t),el(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!qt)return Wt(e),null}else 2*cn()-c.renderingStartTime>ju&&i!==536870912&&(e.flags|=128,r=!0,el(c,!1),e.lanes=4194304);c.isBackwards?(h.sibling=e.child,e.child=h):(t=c.last,t!==null?t.sibling=h:e.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=cn(),e.sibling=null,t=Ee.current,F(Ee,r?t&1|2:t&1),e):(Wt(e),null);case 22:case 23:return pi(e),Oc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),i=e.updateQueue,i!==null&&qu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&W(Ha),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),mi(ve),Wt(e),null;case 25:return null;case 30:return null}throw Error(s(156,e.tag))}function Cv(t,e){switch(pc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(ve),Vn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Jn(e),null;case 13:if(pi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(s(340));qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(Ee),null;case 4:return Vn(),null;case 10:return mi(e.type),null;case 22:case 23:return pi(e),Oc(),t!==null&&W(Ha),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return mi(ve),null;case 25:return null;default:return null}}function Fm(t,e){switch(pc(e),e.tag){case 3:mi(ve),Vn();break;case 26:case 27:case 5:Jn(e);break;case 4:Vn();break;case 13:pi(e);break;case 19:W(Ee);break;case 10:mi(e.type);break;case 22:case 23:pi(e),Oc(),t!==null&&W(Ha);break;case 24:mi(ve)}}function nl(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&t)===t){r=void 0;var h=i.create,p=i.inst;r=h(),p.destroy=r}i=i.next}while(i!==c)}}catch(E){Kt(e,e.return,E)}}function ki(t,e,i){try{var r=e.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var h=c.next;r=h;do{if((r.tag&t)===t){var p=r.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=e;var b=i,B=E;try{B()}catch(H){Kt(c,b,H)}}}r=r.next}while(r!==h)}}catch(H){Kt(e,e.return,H)}}function Zm(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Ld(e,i)}catch(r){Kt(t,t.return,r)}}}function Jm(t,e,i){i.props=Qa(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){Kt(t,e,r)}}function il(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(c){Kt(t,e,c)}}function Hn(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){Kt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Kt(t,e,c)}else i.current=null}function $m(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){Kt(t,t.return,c)}}function ah(t,e,i){try{var r=t.stateNode;Kv(r,t.type,i,e),r[he]=e}catch(c){Kt(t,t.return,c)}}function Wm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fi(t.type)||t.tag===4}function rh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Wm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sh(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Ju));else if(r!==4&&(r===27&&Fi(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(sh(t,e,i),t=t.sibling;t!==null;)sh(t,e,i),t=t.sibling}function Pu(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&Fi(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Pu(t,e,i),t=t.sibling;t!==null;)Pu(t,e,i),t=t.sibling}function tg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Ue(e,r,i),e[pe]=t,e[he]=i}catch(h){Kt(t,t.return,h)}}var vi=!1,ue=!1,lh=!1,eg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Dv(t,e){if(t=t.containerInfo,Nh=ao,t=fd(t),rc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var p=0,E=-1,b=-1,B=0,H=0,Q=t,q=null;e:for(;;){for(var P;Q!==i||c!==0&&Q.nodeType!==3||(E=p+c),Q!==h||r!==0&&Q.nodeType!==3||(b=p+r),Q.nodeType===3&&(p+=Q.nodeValue.length),(P=Q.firstChild)!==null;)q=Q,Q=P;for(;;){if(Q===t)break e;if(q===i&&++B===c&&(E=p),q===h&&++H===r&&(b=p),(P=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=P}i=E===-1||b===-1?null:{start:E,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Mh={focusedElem:t,selectionRange:i},ao=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){switch(e=Ce,h=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,c=h.memoizedProps,h=h.memoizedState,r=i.stateNode;try{var ft=Qa(i.type,c,i.elementType===i.type);t=r.getSnapshotBeforeUpdate(ft,h),r.__reactInternalSnapshotBeforeUpdate=t}catch(ot){Kt(i,i.return,ot)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)Uh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}}function ng(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:ji(t,i),r&4&&nl(5,i);break;case 1:if(ji(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(p){Kt(i,i.return,p)}else{var c=Qa(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(i,i.return,p)}}r&64&&Zm(i),r&512&&il(i,i.return);break;case 3:if(ji(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Ld(t,e)}catch(p){Kt(i,i.return,p)}}break;case 27:e===null&&r&4&&tg(i);case 26:case 5:ji(t,i),e===null&&r&4&&$m(i),r&512&&il(i,i.return);break;case 12:ji(t,i);break;case 13:ji(t,i),r&4&&rg(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Lv.bind(null,i),e0(t,i))));break;case 22:if(r=i.memoizedState!==null||vi,!r){e=e!==null&&e.memoizedState!==null||ue,c=vi;var h=ue;vi=r,(ue=e)&&!h?Hi(t,i,(i.subtreeFlags&8772)!==0):ji(t,i),vi=c,ue=h}break;case 30:break;default:ji(t,i)}}function ig(t){var e=t.alternate;e!==null&&(t.alternate=null,ig(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Oi(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $t=null,Ze=!1;function Ei(t,e,i){for(i=i.child;i!==null;)ag(t,e,i),i=i.sibling}function ag(t,e,i){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ne,i)}catch{}switch(i.tag){case 26:ue||Hn(i,e),Ei(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ue||Hn(i,e);var r=$t,c=Ze;Fi(i.type)&&($t=i.stateNode,Ze=!1),Ei(t,e,i),fl(i.stateNode),$t=r,Ze=c;break;case 5:ue||Hn(i,e);case 6:if(r=$t,c=Ze,$t=null,Ei(t,e,i),$t=r,Ze=c,$t!==null)if(Ze)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(i.stateNode)}catch(h){Kt(i,e,h)}else try{$t.removeChild(i.stateNode)}catch(h){Kt(i,e,h)}break;case 18:$t!==null&&(Ze?(t=$t,Yg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),El(t)):Yg($t,i.stateNode));break;case 4:r=$t,c=Ze,$t=i.stateNode.containerInfo,Ze=!0,Ei(t,e,i),$t=r,Ze=c;break;case 0:case 11:case 14:case 15:ue||ki(2,i,e),ue||ki(4,i,e),Ei(t,e,i);break;case 1:ue||(Hn(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Jm(i,e,r)),Ei(t,e,i);break;case 21:Ei(t,e,i);break;case 22:ue=(r=ue)||i.memoizedState!==null,Ei(t,e,i),ue=r;break;default:Ei(t,e,i)}}function rg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{El(t)}catch(i){Kt(e,e.return,i)}}function Vv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new eg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new eg),e;default:throw Error(s(435,t.tag))}}function uh(t,e){var i=Vv(t);e.forEach(function(r){var c=Bv.bind(null,t,r);i.has(r)||(i.add(r),r.then(c,c))})}function rn(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],h=t,p=e,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Fi(E.type)){$t=E.stateNode,Ze=!1;break t}break;case 5:$t=E.stateNode,Ze=!1;break t;case 3:case 4:$t=E.stateNode.containerInfo,Ze=!0;break t}E=E.return}if($t===null)throw Error(s(160));ag(h,p,c),$t=null,Ze=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)sg(e,t),e=e.sibling}var Cn=null;function sg(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(e,t),sn(t),r&4&&(ki(3,t,t.return),nl(3,t),ki(5,t,t.return));break;case 1:rn(e,t),sn(t),r&512&&(ue||i===null||Hn(i,i.return)),r&64&&vi&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=Cn;if(rn(e,t),sn(t),r&512&&(ue||i===null||Hn(i,i.return)),r&4){var h=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ea]||h[pe]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(r),c.head.insertBefore(h,c.querySelector("head > title"))),Ue(h,r,i),h[pe]=t,se(h),r=h;break t;case"link":var p=tp("link","href",c).get(r+(i.href||""));if(p){for(var E=0;E<p.length;E++)if(h=p[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(E,1);break e}}h=c.createElement(r),Ue(h,r,i),c.head.appendChild(h);break;case"meta":if(p=tp("meta","content",c).get(r+(i.content||""))){for(E=0;E<p.length;E++)if(h=p[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(E,1);break e}}h=c.createElement(r),Ue(h,r,i),c.head.appendChild(h);break;default:throw Error(s(468,r))}h[pe]=t,se(h),r=h}t.stateNode=r}else ep(c,t.type,t.stateNode);else t.stateNode=Wg(c,r,t.memoizedProps);else h!==r?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,r===null?ep(c,t.type,t.stateNode):Wg(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&ah(t,t.memoizedProps,i.memoizedProps)}break;case 27:rn(e,t),sn(t),r&512&&(ue||i===null||Hn(i,i.return)),i!==null&&r&4&&ah(t,t.memoizedProps,i.memoizedProps);break;case 5:if(rn(e,t),sn(t),r&512&&(ue||i===null||Hn(i,i.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(P){Kt(t,t.return,P)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,ah(t,c,i!==null?i.memoizedProps:c)),r&1024&&(lh=!0);break;case 6:if(rn(e,t),sn(t),r&4){if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(P){Kt(t,t.return,P)}}break;case 3:if(eo=null,c=Cn,Cn=Wu(e.containerInfo),rn(e,t),Cn=c,sn(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(P){Kt(t,t.return,P)}lh&&(lh=!1,lg(t));break;case 4:r=Cn,Cn=Wu(t.stateNode.containerInfo),rn(e,t),sn(t),Cn=r;break;case 12:rn(e,t),sn(t);break;case 13:rn(e,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(mh=cn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,uh(t,r)));break;case 22:c=t.memoizedState!==null;var b=i!==null&&i.memoizedState!==null,B=vi,H=ue;if(vi=B||c,ue=H||b,rn(e,t),ue=H,vi=B,sn(t),r&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||b||vi||ue||Ya(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){b=i=e;try{if(h=b.stateNode,c)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(P){Kt(b,b.return,P)}}}else if(e.tag===6){if(i===null){b=e;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(P){Kt(b,b.return,P)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,uh(t,i))));break;case 19:rn(e,t),sn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,uh(t,r)));break;case 30:break;case 21:break;default:rn(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(Wm(r)){i=r;break}r=r.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,h=rh(t);Pu(t,h,c);break;case 5:var p=i.stateNode;i.flags&32&&(fn(p,""),i.flags&=-33);var E=rh(t);Pu(t,E,p);break;case 3:case 4:var b=i.stateNode.containerInfo,B=rh(t);sh(t,B,b);break;default:throw Error(s(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;lg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ji(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ng(t,e.alternate,e),e=e.sibling}function Ya(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ki(4,e,e.return),Ya(e);break;case 1:Hn(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Jm(e,e.return,i),Ya(e);break;case 27:fl(e.stateNode);case 26:case 5:Hn(e,e.return),Ya(e);break;case 22:e.memoizedState===null&&Ya(e);break;case 30:Ya(e);break;default:Ya(e)}t=t.sibling}}function Hi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,c=t,h=e,p=h.flags;switch(h.tag){case 0:case 11:case 15:Hi(c,h,i),nl(4,h);break;case 1:if(Hi(c,h,i),r=h,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Kt(r,r.return,B)}if(r=h,c=r.updateQueue,c!==null){var E=r.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)zd(b[c],E)}catch(B){Kt(r,r.return,B)}}i&&p&64&&Zm(h),il(h,h.return);break;case 27:tg(h);case 26:case 5:Hi(c,h,i),i&&r===null&&p&4&&$m(h),il(h,h.return);break;case 12:Hi(c,h,i);break;case 13:Hi(c,h,i),i&&p&4&&rg(c,h);break;case 22:h.memoizedState===null&&Hi(c,h,i),il(h,h.return);break;case 30:break;default:Hi(c,h,i)}e=e.sibling}}function oh(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&js(i))}function ch(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&js(t))}function Gn(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ug(t,e,i,r),e=e.sibling}function ug(t,e,i,r){var c=e.flags;switch(e.tag){case 0:case 11:case 15:Gn(t,e,i,r),c&2048&&nl(9,e);break;case 1:Gn(t,e,i,r);break;case 3:Gn(t,e,i,r),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&js(t)));break;case 12:if(c&2048){Gn(t,e,i,r),t=e.stateNode;try{var h=e.memoizedProps,p=h.id,E=h.onPostCommit;typeof E=="function"&&E(p,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(e,e.return,b)}}else Gn(t,e,i,r);break;case 13:Gn(t,e,i,r);break;case 23:break;case 22:h=e.stateNode,p=e.alternate,e.memoizedState!==null?h._visibility&2?Gn(t,e,i,r):al(t,e):h._visibility&2?Gn(t,e,i,r):(h._visibility|=2,xr(t,e,i,r,(e.subtreeFlags&10256)!==0)),c&2048&&oh(p,e);break;case 24:Gn(t,e,i,r),c&2048&&ch(e.alternate,e);break;default:Gn(t,e,i,r)}}function xr(t,e,i,r,c){for(c=c&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var h=t,p=e,E=i,b=r,B=p.flags;switch(p.tag){case 0:case 11:case 15:xr(h,p,E,b,c),nl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?xr(h,p,E,b,c):al(h,p):(H._visibility|=2,xr(h,p,E,b,c)),c&&B&2048&&oh(p.alternate,p);break;case 24:xr(h,p,E,b,c),c&&B&2048&&ch(p.alternate,p);break;default:xr(h,p,E,b,c)}e=e.sibling}}function al(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,c=r.flags;switch(r.tag){case 22:al(i,r),c&2048&&oh(r.alternate,r);break;case 24:al(i,r),c&2048&&ch(r.alternate,r);break;default:al(i,r)}e=e.sibling}}var rl=8192;function Ur(t){if(t.subtreeFlags&rl)for(t=t.child;t!==null;)og(t),t=t.sibling}function og(t){switch(t.tag){case 26:Ur(t),t.flags&rl&&t.memoizedState!==null&&m0(Cn,t.memoizedState,t.memoizedProps);break;case 5:Ur(t);break;case 3:case 4:var e=Cn;Cn=Wu(t.stateNode.containerInfo),Ur(t),Cn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=rl,rl=16777216,Ur(t),rl=e):Ur(t));break;default:Ur(t)}}function cg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function sl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Ce=r,fg(r,t)}cg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hg(t),t=t.sibling}function hg(t){switch(t.tag){case 0:case 11:case 15:sl(t),t.flags&2048&&ki(9,t,t.return);break;case 3:sl(t);break;case 12:sl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ku(t)):sl(t);break;default:sl(t)}}function ku(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Ce=r,fg(r,t)}cg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ki(8,e,e.return),ku(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,ku(e));break;default:ku(e)}t=t.sibling}}function fg(t,e){for(;Ce!==null;){var i=Ce;switch(i.tag){case 0:case 11:case 15:ki(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:js(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Ce=r;else t:for(i=t;Ce!==null;){r=Ce;var c=r.sibling,h=r.return;if(ig(r),r===i){Ce=null;break t}if(c!==null){c.return=h,Ce=c;break t}Ce=h}}}var Ov={getCacheForType:function(t){var e=qe(ve),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Nv=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,Rt=null,Vt=0,Ht=0,ln=null,Gi=!1,zr=!1,hh=!1,Ti=0,ae=0,Qi=0,Xa=0,fh=0,Tn=0,Lr=0,ll=null,Je=null,dh=!1,mh=0,ju=1/0,Hu=null,Yi=null,xe=0,Xi=null,Br=null,qr=0,gh=0,ph=null,dg=null,ul=0,yh=null;function un(){if((jt&2)!==0&&Vt!==0)return Vt&-Vt;if(j.T!==null){var t=wr;return t!==0?t:bh()}return Di()}function mg(){Tn===0&&(Tn=(Vt&536870912)===0||qt?ys():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function on(t,e,i){(t===Zt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(Pr(t,0),Ki(t,Vt,Tn,!1)),Wn(t,i),((jt&2)===0||t!==Zt)&&(t===Zt&&((jt&2)===0&&(Xa|=i),ae===4&&Ki(t,Vt,Tn,!1)),Qn(t))}function gg(t,e,i){if((jt&6)!==0)throw Error(s(327));var r=!i&&(e&124)===0&&(e&t.expiredLanes)===0||va(t,e),c=r?xv(t,e):Eh(t,e,!0),h=r;do{if(c===0){zr&&!r&&Ki(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!Mv(i)){c=Eh(t,e,!1),h=!1;continue}if(c===2){if(h=e,t.errorRecoveryDisabledLanes&h)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){e=p;t:{var E=t;c=ll;var b=E.current.memoizedState.isDehydrated;if(b&&(Pr(E,p).flags|=256),p=Eh(E,p,!1),p!==2){if(hh&&!b){E.errorRecoveryDisabledLanes|=h,Xa|=h,c=4;break t}h=Je,Je=c,h!==null&&(Je===null?Je=h:Je.push.apply(Je,h))}c=p}if(h=!1,c!==2)continue}}if(c===1){Pr(t,0),Ki(t,e,0,!0);break}t:{switch(r=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((e&4194048)!==e)break;case 6:Ki(r,e,Tn,!Gi);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(s(329))}if((e&62914560)===e&&(c=mh+300-cn(),10<c)){if(Ki(r,e,Tn,!Gi),ir(r,0,!0)!==0)break t;r.timeoutHandle=Gg(pg.bind(null,r,i,Je,Hu,dh,e,Tn,Xa,Lr,Gi,h,2,-0,0),c);break t}pg(r,i,Je,Hu,dh,e,Tn,Xa,Lr,Gi,h,0,-0,0)}}break}while(!0);Qn(t)}function pg(t,e,i,r,c,h,p,E,b,B,H,Q,q,P){if(t.timeoutHandle=-1,Q=e.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:d0},og(e),Q=g0(),Q!==null)){t.cancelPendingCommit=Q(Sg.bind(null,t,e,h,i,r,c,p,E,b,H,1,q,P)),Ki(t,h,p,!B);return}Sg(t,e,h,i,r,c,p,E,b)}function Mv(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],h=c.getSnapshot;c=c.value;try{if(!nn(h(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e,i,r){e&=~fh,e&=~Xa,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var c=e;0<c;){var h=31-Be(c),p=1<<h;r[h]=-1,c&=~p}i!==0&&On(t,i,e)}function Gu(){return(jt&6)===0?(ol(0),!1):!0}function _h(){if(Rt!==null){if(Ht===0)var t=Rt.return;else t=Rt,di=ka=null,Uc(t),Mr=null,Ws=0,t=Rt;for(;t!==null;)Fm(t.alternate,t),t=t.return;Rt=null}}function Pr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Zv(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),_h(),Zt=t,Rt=i=ci(t.current,null),Vt=e,Ht=0,ln=null,Gi=!1,zr=va(t,e),hh=!1,Lr=Tn=fh=Xa=Qi=ae=0,Je=ll=null,dh=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var c=31-Be(r),h=1<<c;e|=t[c],r&=~h}return Ti=e,fu(),i}function yg(t,e){Tt=null,j.H=Nu,e===Gs||e===Tu?(e=xd(),Ht=3):e===Nd?(e=xd(),Ht=4):Ht=e===Um?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ln=e,Rt===null&&(ae=1,zu(t,pn(e,t.current)))}function _g(){var t=j.H;return j.H=Nu,t===null?Nu:t}function vg(){var t=j.A;return j.A=Ov,t}function vh(){ae=4,Gi||(Vt&4194048)!==Vt&&En.current!==null||(zr=!0),(Qi&134217727)===0&&(Xa&134217727)===0||Zt===null||Ki(Zt,Vt,Tn,!1)}function Eh(t,e,i){var r=jt;jt|=2;var c=_g(),h=vg();(Zt!==t||Vt!==e)&&(Hu=null,Pr(t,e)),e=!1;var p=ae;t:do try{if(Ht!==0&&Rt!==null){var E=Rt,b=ln;switch(Ht){case 8:_h(),p=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(e=!0);var B=Ht;if(Ht=0,ln=null,kr(t,E,b,B),i&&zr){p=0;break t}break;default:B=Ht,Ht=0,ln=null,kr(t,E,b,B)}}Iv(),p=ae;break}catch(H){yg(t,H)}while(!0);return e&&t.shellSuspendCounter++,di=ka=null,jt=r,j.H=c,j.A=h,Rt===null&&(Zt=null,Vt=0,fu()),p}function Iv(){for(;Rt!==null;)Eg(Rt)}function xv(t,e){var i=jt;jt|=2;var r=_g(),c=vg();Zt!==t||Vt!==e?(Hu=null,ju=cn()+500,Pr(t,e)):zr=va(t,e);t:do try{if(Ht!==0&&Rt!==null){e=Rt;var h=ln;e:switch(Ht){case 1:Ht=0,ln=null,kr(t,e,h,1);break;case 2:case 9:if(Md(h)){Ht=0,ln=null,Tg(e);break}e=function(){Ht!==2&&Ht!==9||Zt!==t||(Ht=7),Qn(t)},h.then(e,e);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Md(h)?(Ht=0,ln=null,Tg(e)):(Ht=0,ln=null,kr(t,e,h,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(!p||np(p)){Ht=0,ln=null;var b=E.sibling;if(b!==null)Rt=b;else{var B=E.return;B!==null?(Rt=B,Qu(B)):Rt=null}break e}}Ht=0,ln=null,kr(t,e,h,5);break;case 6:Ht=0,ln=null,kr(t,e,h,6);break;case 8:_h(),ae=6;break t;default:throw Error(s(462))}}Uv();break}catch(H){yg(t,H)}while(!0);return di=ka=null,j.H=r,j.A=c,jt=i,Rt!==null?0:(Zt=null,Vt=0,fu(),ae)}function Uv(){for(;Rt!==null&&!ds();)Eg(Rt)}function Eg(t){var e=Xm(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?Qu(t):Rt=e}function Tg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=km(i,e,e.pendingProps,e.type,void 0,Vt);break;case 11:e=km(i,e,e.pendingProps,e.type.render,e.ref,Vt);break;case 5:Uc(e);default:Fm(i,e),e=Rt=Ad(e,Ti),e=Xm(i,e,Ti)}t.memoizedProps=t.pendingProps,e===null?Qu(t):Rt=e}function kr(t,e,i,r){di=ka=null,Uc(e),Mr=null,Ws=0;var c=e.return;try{if(bv(t,c,e,i,Vt)){ae=1,zu(t,pn(i,t.current)),Rt=null;return}}catch(h){if(c!==null)throw Rt=c,h;ae=1,zu(t,pn(i,t.current)),Rt=null;return}e.flags&32768?(qt||r===1?t=!0:zr||(Vt&536870912)!==0?t=!1:(Gi=t=!0,(r===2||r===9||r===3||r===6)&&(r=En.current,r!==null&&r.tag===13&&(r.flags|=16384))),Ag(e,t)):Qu(e)}function Qu(t){var e=t;do{if((e.flags&32768)!==0){Ag(e,Gi);return}t=e.return;var i=wv(e.alternate,e,Ti);if(i!==null){Rt=i;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);ae===0&&(ae=5)}function Ag(t,e){do{var i=Cv(t.alternate,t);if(i!==null){i.flags&=32767,Rt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=i}while(t!==null);ae=6,Rt=null}function Sg(t,e,i,r,c,h,p,E,b){t.cancelPendingCommit=null;do Yu();while(xe!==0);if((jt&6)!==0)throw Error(s(327));if(e!==null){if(e===t.current)throw Error(s(177));if(h=e.lanes|e.childLanes,h|=cc,vs(t,i,h,p,E,b),t===Zt&&(Rt=Zt=null,Vt=0),Br=e,Xi=t,qr=i,gh=h,ph=c,dg=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qv(ga,function(){return Dg(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=j.T,j.T=null,c=$.p,$.p=2,p=jt,jt|=4;try{Dv(t,e,i)}finally{jt=p,$.p=c,j.T=r}}xe=1,bg(),Rg(),wg()}}function bg(){if(xe===1){xe=0;var t=Xi,e=Br,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=j.T,j.T=null;var r=$.p;$.p=2;var c=jt;jt|=4;try{sg(e,t);var h=Mh,p=fd(t.containerInfo),E=h.focusedElem,b=h.selectionRange;if(p!==E&&E&&E.ownerDocument&&hd(E.ownerDocument.documentElement,E)){if(b!==null&&rc(E)){var B=b.start,H=b.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var P=q.getSelection(),ft=E.textContent.length,ot=Math.min(b.start,ft),Xt=b.end===void 0?ot:Math.min(b.end,ft);!P.extend&&ot>Xt&&(p=Xt,Xt=ot,ot=p);var M=cd(E,ot),D=cd(E,Xt);if(M&&D&&(P.rangeCount!==1||P.anchorNode!==M.node||P.anchorOffset!==M.offset||P.focusNode!==D.node||P.focusOffset!==D.offset)){var L=Q.createRange();L.setStart(M.node,M.offset),P.removeAllRanges(),ot>Xt?(P.addRange(L),P.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),P.addRange(L))}}}}for(Q=[],P=E;P=P.parentNode;)P.nodeType===1&&Q.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ao=!!Nh,Mh=Nh=null}finally{jt=c,$.p=r,j.T=i}}t.current=e,xe=2}}function Rg(){if(xe===2){xe=0;var t=Xi,e=Br,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=j.T,j.T=null;var r=$.p;$.p=2;var c=jt;jt|=4;try{ng(t,e.alternate,e)}finally{jt=c,$.p=r,j.T=i}}xe=3}}function wg(){if(xe===4||xe===3){xe=0,kl();var t=Xi,e=Br,i=qr,r=dg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?xe=5:(xe=0,Br=Xi=null,Cg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Yi=null),ar(i),e=e.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ne,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=j.T,c=$.p,$.p=2,j.T=null;try{for(var h=t.onRecoverableError,p=0;p<r.length;p++){var E=r[p];h(E.value,{componentStack:E.stack})}}finally{j.T=e,$.p=c}}(qr&3)!==0&&Yu(),Qn(t),c=t.pendingLanes,(i&4194090)!==0&&(c&42)!==0?t===yh?ul++:(ul=0,yh=t):ul=0,ol(0)}}function Cg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,js(e)))}function Yu(t){return bg(),Rg(),wg(),Dg()}function Dg(){if(xe!==5)return!1;var t=Xi,e=gh;gh=0;var i=ar(qr),r=j.T,c=$.p;try{$.p=32>i?32:i,j.T=null,i=ph,ph=null;var h=Xi,p=qr;if(xe=0,Br=Xi=null,qr=0,(jt&6)!==0)throw Error(s(331));var E=jt;if(jt|=4,hg(h.current),ug(h,h.current,p,i),jt=E,ol(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ne,h)}catch{}return!0}finally{$.p=c,j.T=r,Cg(t,e)}}function Vg(t,e,i){e=pn(i,e),e=Fc(t.stateNode,e,2),t=Li(t,e,2),t!==null&&(Wn(t,2),Qn(t))}function Kt(t,e,i){if(t.tag===3)Vg(t,t,i);else for(;e!==null;){if(e.tag===3){Vg(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yi===null||!Yi.has(r))){t=pn(i,t),i=Im(2),r=Li(e,i,2),r!==null&&(xm(i,r,e,t),Wn(r,2),Qn(r));break}}e=e.return}}function Th(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new Nv;var c=new Set;r.set(e,c)}else c=r.get(e),c===void 0&&(c=new Set,r.set(e,c));c.has(i)||(hh=!0,c.add(i),t=zv.bind(null,t,e,i),e.then(t,t))}function zv(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Zt===t&&(Vt&i)===i&&(ae===4||ae===3&&(Vt&62914560)===Vt&&300>cn()-mh?(jt&2)===0&&Pr(t,0):fh|=i,Lr===Vt&&(Lr=0)),Qn(t)}function Og(t,e){e===0&&(e=_s()),t=Ar(t,e),t!==null&&(Wn(t,e),Qn(t))}function Lv(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Og(t,i)}function Bv(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(e),Og(t,i)}function qv(t,e){return da(t,e)}var Xu=null,jr=null,Ah=!1,Ku=!1,Sh=!1,Ka=0;function Qn(t){t!==jr&&t.next===null&&(jr===null?Xu=jr=t:jr=jr.next=t),Ku=!0,Ah||(Ah=!0,kv())}function ol(t,e){if(!Sh&&Ku){Sh=!0;do for(var i=!1,r=Xu;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var h=0;else{var p=r.suspendedLanes,E=r.pingedLanes;h=(1<<31-Be(42|t)+1)-1,h&=c&~(p&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,xg(r,h))}else h=Vt,h=ir(r,r===Zt?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||va(r,h)||(i=!0,xg(r,h));r=r.next}while(i);Sh=!1}}function Pv(){Ng()}function Ng(){Ku=Ah=!1;var t=0;Ka!==0&&(Fv()&&(t=Ka),Ka=0);for(var e=cn(),i=null,r=Xu;r!==null;){var c=r.next,h=Mg(r,e);h===0?(r.next=null,i===null?Xu=c:i.next=c,c===null&&(jr=i)):(i=r,(t!==0||(h&3)!==0)&&(Ku=!0)),r=c}ol(t)}function Mg(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var p=31-Be(h),E=1<<p,b=c[p];b===-1?((E&i)===0||(E&r)!==0)&&(c[p]=ps(E,e)):b<=e&&(t.expiredLanes|=E),h&=~E}if(e=Zt,i=Vt,i=ir(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&ma(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||va(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&ma(r),ar(i)){case 2:case 8:i=er;break;case 32:i=ga;break;case 268435456:i=nr;break;default:i=ga}return r=Ig.bind(null,t),i=da(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&ma(r),t.callbackPriority=2,t.callbackNode=null,2}function Ig(t,e){if(xe!==0&&xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Yu()&&t.callbackNode!==i)return null;var r=Vt;return r=ir(t,t===Zt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(gg(t,r,e),Mg(t,cn()),t.callbackNode!=null&&t.callbackNode===i?Ig.bind(null,t):null)}function xg(t,e){if(Yu())return null;gg(t,e,!0)}function kv(){Jv(function(){(jt&6)!==0?da(ms,Pv):Ng()})}function bh(){return Ka===0&&(Ka=ys()),Ka}function Ug(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cr(""+t)}function zg(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function jv(t,e,i,r,c){if(e==="submit"&&i&&i.stateNode===c){var h=Ug((c[he]||null).action),p=r.submitter;p&&(e=(e=p[he]||null)?Ug(e.formAction):p.getAttribute("formAction"),e!==null&&(h=e,p=null));var E=new hr("action","action",null,r,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ka!==0){var b=p?zg(c,p):new FormData(c);Gc(i,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=p?zg(c,p):new FormData(c),Gc(i,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var Rh=0;Rh<oc.length;Rh++){var wh=oc[Rh],Hv=wh.toLowerCase(),Gv=wh[0].toUpperCase()+wh.slice(1);wn(Hv,"on"+Gv)}wn(gd,"onAnimationEnd"),wn(pd,"onAnimationIteration"),wn(yd,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(lv,"onTransitionRun"),wn(uv,"onTransitionStart"),wn(ov,"onTransitionCancel"),wn(_d,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Lg(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],c=r.event;r=r.listeners;t:{var h=void 0;if(e)for(var p=r.length-1;0<=p;p--){var E=r[p],b=E.instance,B=E.currentTarget;if(E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(H){Uu(H)}c.currentTarget=null,h=b}else for(p=0;p<r.length;p++){if(E=r[p],b=E.instance,B=E.currentTarget,E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(H){Uu(H)}c.currentTarget=null,h=b}}}}function wt(t,e){var i=e[Ts];i===void 0&&(i=e[Ts]=new Set);var r=t+"__bubble";i.has(r)||(Bg(e,t,2,!1),i.add(r))}function Ch(t,e,i){var r=0;e&&(r|=4),Bg(i,t,r,e)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Dh(t){if(!t[Fu]){t[Fu]=!0,As.forEach(function(i){i!=="selectionchange"&&(Qv.has(i)||Ch(i,!1,t),Ch(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fu]||(e[Fu]=!0,Ch("selectionchange",!1,e))}}function Bg(t,e,i,r){switch(up(e)){case 2:var c=_0;break;case 8:c=v0;break;default:c=jh}i=c.bind(null,e,i,t),c=void 0,!mn||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Vh(t,e,i,r,c){var h=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var E=r.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=r.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=ti(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){r=h=p;continue t}E=E.parentNode}}r=r.return}Jl(function(){var B=h,H=dn(i),Q=[];t:{var q=vd.get(t);if(q!==void 0){var P=hr,ft=t;switch(t){case"keypress":if(zn(i)===0)break t;case"keydown":case"keyup":P=yr;break;case"focusin":ft="focus",P=mr;break;case"focusout":ft="blur",P=mr;break;case"beforeblur":case"afterblur":P=mr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=ru;break;case gd:case pd:case yd:P=gr;break;case _d:P=lu;break;case"scroll":case"scrollend":P=$l;break;case"wheel":P=_r;break;case"copy":case"cut":case"paste":P=pr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=xs;break;case"toggle":case"beforetoggle":P=ou}var ot=(e&4)!==0,Xt=!ot&&(t==="scroll"||t==="scrollend"),M=ot?q!==null?q+"Capture":null:q;ot=[];for(var D=B,L;D!==null;){var G=D;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||M===null||(G=Ca(D,M),G!=null&&ot.push(hl(D,G,L))),Xt)break;D=D.return}0<ot.length&&(q=new P(q,ft,null,i,H),Q.push({event:q,listeners:ot}))}}if((e&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",q&&i!==ai&&(ft=i.relatedTarget||i.fromElement)&&(ti(ft)||ft[hn]))break t;if((P||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,P?(ft=i.relatedTarget||i.toElement,P=B,ft=ft?ti(ft):null,ft!==null&&(Xt=f(ft),ot=ft.tag,ft!==Xt||ot!==5&&ot!==27&&ot!==6)&&(ft=null)):(P=null,ft=B),P!==ft)){if(ot=gn,G="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ot=xs,G="onPointerLeave",M="onPointerEnter",D="pointer"),Xt=P==null?q:Mn(P),L=ft==null?q:Mn(ft),q=new ot(G,D+"leave",P,i,H),q.target=Xt,q.relatedTarget=L,G=null,ti(H)===B&&(ot=new ot(M,D+"enter",ft,i,H),ot.target=L,ot.relatedTarget=Xt,G=ot),Xt=G,P&&ft)e:{for(ot=P,M=ft,D=0,L=ot;L;L=Hr(L))D++;for(L=0,G=M;G;G=Hr(G))L++;for(;0<D-L;)ot=Hr(ot),D--;for(;0<L-D;)M=Hr(M),L--;for(;D--;){if(ot===M||M!==null&&ot===M.alternate)break e;ot=Hr(ot),M=Hr(M)}ot=null}else ot=null;P!==null&&qg(Q,q,P,ot,!1),ft!==null&&Xt!==null&&qg(Q,Xt,ft,ot,!0)}}t:{if(q=B?Mn(B):window,P=q.nodeName&&q.nodeName.toLowerCase(),P==="select"||P==="input"&&q.type==="file")var at=ad;else if(_e(q))if(rd)at=av;else{at=nv;var St=ev}else P=q.nodeName,!P||P.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Cs(B.elementType)&&(at=ad):at=iv;if(at&&(at=at(t,B))){oi(Q,at,i,H);break t}St&&St(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Mi(q,"number",q.value)}switch(St=B?Mn(B):window,t){case"focusin":(_e(St)||St.contentEditable==="true")&&(vr=St,sc=B,Ls=null);break;case"focusout":Ls=sc=vr=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,dd(Q,i,H);break;case"selectionchange":if(sv)break;case"keydown":case"keyup":dd(Q,i,H)}var st;if(qn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Ct?k(t,i)&&(ct="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(ct="onCompositionStart");ct&&(g&&i.locale!=="ko"&&(Ct||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Ct&&(st=Vs()):(Un=H,Ii="value"in Un?Un.value:Un.textContent,Ct=!0)),St=Zu(B,ct),0<St.length&&(ct=new Ms(ct,t,null,i,H),Q.push({event:ct,listeners:St}),st?ct.data=st:(st=Z(i),st!==null&&(ct.data=st)))),(st=d?ye(t,i):Dt(t,i))&&(ct=Zu(B,"onBeforeInput"),0<ct.length&&(St=new Ms("onBeforeInput","beforeinput",null,i,H),Q.push({event:St,listeners:ct}),St.data=st)),jv(Q,t,B,i,H)}Lg(Q,e)})}function hl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Zu(t,e){for(var i=e+"Capture",r=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ca(t,i),c!=null&&r.unshift(hl(t,c,h)),c=Ca(t,e),c!=null&&r.push(hl(t,c,h))),t.tag===3)return r;t=t.return}return[]}function Hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qg(t,e,i,r,c){for(var h=e._reactName,p=[];i!==null&&i!==r;){var E=i,b=E.alternate,B=E.stateNode;if(E=E.tag,b!==null&&b===r)break;E!==5&&E!==26&&E!==27||B===null||(b=B,c?(B=Ca(i,h),B!=null&&p.unshift(hl(i,B,b))):c||(B=Ca(i,h),B!=null&&p.push(hl(i,B,b)))),i=i.return}p.length!==0&&t.push({event:e,listeners:p})}var Yv=/\r\n?/g,Xv=/\u0000|\uFFFD/g;function Pg(t){return(typeof t=="string"?t:""+t).replace(Yv,`
`).replace(Xv,"")}function kg(t,e){return e=Pg(e),Pg(t)===e}function Ju(){}function Yt(t,e,i,r,c,h){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||fn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&fn(t,""+r);break;case"className":In(t,"class",r);break;case"tabIndex":In(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,i,r);break;case"style":ws(t,r,h);break;case"data":if(e!=="object"){In(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=cr(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&Yt(t,e,"name",c.name,c,null),Yt(t,e,"formEncType",c.formEncType,c,null),Yt(t,e,"formMethod",c.formMethod,c,null),Yt(t,e,"formTarget",c.formTarget,c,null)):(Yt(t,e,"encType",c.encType,c,null),Yt(t,e,"method",c.method,c,null),Yt(t,e,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=cr(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=Ju);break;case"onScroll":r!=null&&wt("scroll",t);break;case"onScrollEnd":r!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=cr(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Ni(t,"popover",r);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ni(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Wo.get(i)||i,Ni(t,i,r))}}function Oh(t,e,i,r,c,h){switch(i){case"style":ws(t,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof r=="string"?fn(t,r):(typeof r=="number"||typeof r=="bigint")&&fn(t,""+r);break;case"onScroll":r!=null&&wt("scroll",t);break;case"onScrollEnd":r!=null&&wt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rr.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),h=t[he]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,c),typeof r=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,c);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):Ni(t,i,r)}}}function Ue(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var r=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var p=i[h];if(p!=null)switch(h){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Yt(t,e,h,p,i,null)}}c&&Yt(t,e,"srcSet",i.srcSet,i,null),r&&Yt(t,e,"src",i.src,i,null);return;case"input":wt("invalid",t);var E=h=p=c=null,b=null,B=null;for(r in i)if(i.hasOwnProperty(r)){var H=i[r];if(H!=null)switch(r){case"name":c=H;break;case"type":p=H;break;case"checked":b=H;break;case"defaultChecked":B=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,e));break;default:Yt(t,e,r,H,i,null)}}ba(t,h,E,b,B,p,c,!1),or(t);return;case"select":wt("invalid",t),r=p=h=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":p=E;break;case"multiple":r=E;default:Yt(t,e,c,E,i,null)}e=h,i=p,t.multiple=!!r,e!=null?ii(t,!!r,e,!1):i!=null&&ii(t,!!r,i,!0);return;case"textarea":wt("invalid",t),h=c=r=null;for(p in i)if(i.hasOwnProperty(p)&&(E=i[p],E!=null))switch(p){case"value":r=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,e,p,E,i,null)}Ra(t,r,c,h),or(t);return;case"option":for(b in i)if(i.hasOwnProperty(b)&&(r=i[b],r!=null))switch(b){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Yt(t,e,b,r,i,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(r=0;r<cl.length;r++)wt(cl[r],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(r=i[B],r!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Yt(t,e,B,r,i,null)}return;default:if(Cs(e)){for(H in i)i.hasOwnProperty(H)&&(r=i[H],r!==void 0&&Oh(t,e,H,r,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(r=i[E],r!=null&&Yt(t,e,E,r,i,null))}function Kv(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,p=null,E=null,b=null,B=null,H=null;for(P in i){var Q=i[P];if(i.hasOwnProperty(P)&&Q!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":b=Q;default:r.hasOwnProperty(P)||Yt(t,e,P,null,r,Q)}}for(var q in r){var P=r[q];if(Q=i[q],r.hasOwnProperty(q)&&(P!=null||Q!=null))switch(q){case"type":h=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":H=P;break;case"value":p=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,e));break;default:P!==Q&&Yt(t,e,q,P,r,Q)}}en(t,p,E,b,B,H,h,c);return;case"select":P=p=E=q=null;for(h in i)if(b=i[h],i.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":P=b;default:r.hasOwnProperty(h)||Yt(t,e,h,null,r,b)}for(c in r)if(h=r[c],b=i[c],r.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":q=h;break;case"defaultValue":E=h;break;case"multiple":p=h;default:h!==b&&Yt(t,e,c,h,r,b)}e=E,i=p,r=P,q!=null?ii(t,!!i,q,!1):!!r!=!!i&&(e!=null?ii(t,!!i,e,!0):ii(t,!!i,i?[]:"",!1));return;case"textarea":P=q=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!r.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,e,E,null,r,c)}for(p in r)if(c=r[p],h=i[p],r.hasOwnProperty(p)&&(c!=null||h!=null))switch(p){case"value":q=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Yt(t,e,p,c,r,h)}Gt(t,q,P);return;case"option":for(var ft in i)if(q=i[ft],i.hasOwnProperty(ft)&&q!=null&&!r.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Yt(t,e,ft,null,r,q)}for(b in r)if(q=r[b],P=i[b],r.hasOwnProperty(b)&&q!==P&&(q!=null||P!=null))switch(b){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Yt(t,e,b,q,r,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in i)q=i[ot],i.hasOwnProperty(ot)&&q!=null&&!r.hasOwnProperty(ot)&&Yt(t,e,ot,null,r,q);for(B in r)if(q=r[B],P=i[B],r.hasOwnProperty(B)&&q!==P&&(q!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,e));break;default:Yt(t,e,B,q,r,P)}return;default:if(Cs(e)){for(var Xt in i)q=i[Xt],i.hasOwnProperty(Xt)&&q!==void 0&&!r.hasOwnProperty(Xt)&&Oh(t,e,Xt,void 0,r,q);for(H in r)q=r[H],P=i[H],!r.hasOwnProperty(H)||q===P||q===void 0&&P===void 0||Oh(t,e,H,q,r,P);return}}for(var M in i)q=i[M],i.hasOwnProperty(M)&&q!=null&&!r.hasOwnProperty(M)&&Yt(t,e,M,null,r,q);for(Q in r)q=r[Q],P=i[Q],!r.hasOwnProperty(Q)||q===P||q==null&&P==null||Yt(t,e,Q,q,r,P)}var Nh=null,Mh=null;function $u(t){return t.nodeType===9?t:t.ownerDocument}function jg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ih(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xh=null;function Fv(){var t=window.event;return t&&t.type==="popstate"?t===xh?!1:(xh=t,!0):(xh=null,!1)}var Gg=typeof setTimeout=="function"?setTimeout:void 0,Zv=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,Jv=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(t){return Qg.resolve(null).then(t).catch($v)}:Gg;function $v(t){setTimeout(function(){throw t})}function Fi(t){return t==="head"}function Yg(t,e){var i=e,r=0,c=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<r&&8>r){i=r;var p=t.ownerDocument;if(i&1&&fl(p.documentElement),i&2&&fl(p.body),i&4)for(i=p.head,fl(i),p=i.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[Ea]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=E}}if(c===0){t.removeChild(h),El(e);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:r=i.charCodeAt(0)-48;else r=0;i=h}while(i);El(e)}function Uh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Uh(i),Oi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Wv(t,e,i,r){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ea])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function t0(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Dn(t.nextSibling),t===null))return null;return t}function zh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function e0(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Lh=null;function Xg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function Kg(t,e,i){switch(e=$u(i),t){case"html":if(t=e.documentElement,!t)throw Error(s(452));return t;case"head":if(t=e.head,!t)throw Error(s(453));return t;case"body":if(t=e.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function fl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Oi(t)}var An=new Map,Fg=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ai=$.d;$.d={f:n0,r:i0,D:a0,C:r0,L:s0,m:l0,X:o0,S:u0,M:c0};function n0(){var t=Ai.f(),e=Gu();return t||e}function i0(t){var e=Nn(t);e!==null&&e.tag===5&&e.type==="form"?gm(e):Ai.r(t)}var Gr=typeof document>"u"?null:document;function Zg(t,e,i){var r=Gr;if(r&&typeof e=="string"&&e){var c=fe(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Fg.has(c)||(Fg.add(c),t={rel:t,crossOrigin:i,href:e},r.querySelector(c)===null&&(e=r.createElement("link"),Ue(e,"link",t),se(e),r.head.appendChild(e)))}}function a0(t){Ai.D(t),Zg("dns-prefetch",t,null)}function r0(t,e){Ai.C(t,e),Zg("preconnect",t,e)}function s0(t,e,i){Ai.L(t,e,i);var r=Gr;if(r&&t&&e){var c='link[rel="preload"][as="'+fe(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+fe(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+fe(i.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var h=c;switch(e){case"style":h=Qr(t);break;case"script":h=Yr(t)}An.has(h)||(t=A({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),An.set(h,t),r.querySelector(c)!==null||e==="style"&&r.querySelector(dl(h))||e==="script"&&r.querySelector(ml(h))||(e=r.createElement("link"),Ue(e,"link",t),se(e),r.head.appendChild(e)))}}function l0(t,e){Ai.m(t,e);var i=Gr;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+fe(r)+'"][href="'+fe(t)+'"]',h=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Yr(t)}if(!An.has(h)&&(t=A({rel:"modulepreload",href:t},e),An.set(h,t),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ml(h)))return}r=i.createElement("link"),Ue(r,"link",t),se(r),i.head.appendChild(r)}}}function u0(t,e,i){Ai.S(t,e,i);var r=Gr;if(r&&t){var c=Ge(r).hoistableStyles,h=Qr(t);e=e||"default";var p=c.get(h);if(!p){var E={loading:0,preload:null};if(p=r.querySelector(dl(h)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":e},i),(i=An.get(h))&&Bh(t,i);var b=p=r.createElement("link");se(b),Ue(b,"link",t),b._p=new Promise(function(B,H){b.onload=B,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,to(p,e,r)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(h,p)}}}function o0(t,e){Ai.X(t,e);var i=Gr;if(i&&t){var r=Ge(i).hoistableScripts,c=Yr(t),h=r.get(c);h||(h=i.querySelector(ml(c)),h||(t=A({src:t,async:!0},e),(e=An.get(c))&&qh(t,e),h=i.createElement("script"),se(h),Ue(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function c0(t,e){Ai.M(t,e);var i=Gr;if(i&&t){var r=Ge(i).hoistableScripts,c=Yr(t),h=r.get(c);h||(h=i.querySelector(ml(c)),h||(t=A({src:t,async:!0,type:"module"},e),(e=An.get(c))&&qh(t,e),h=i.createElement("script"),se(h),Ue(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function Jg(t,e,i,r){var c=(c=mt.current)?Wu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Qr(i.href),i=Ge(c).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Qr(i.href);var h=Ge(c).hoistableStyles,p=h.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,p),(h=c.querySelector(dl(t)))&&!h._p&&(p.instance=h,p.state.loading=5),An.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},An.set(t,i),h||h0(c,t,i,p.state))),e&&r===null)throw Error(s(528,""));return p}if(e&&r!==null)throw Error(s(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Yr(i),i=Ge(c).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qr(t){return'href="'+fe(t)+'"'}function dl(t){return'link[rel="stylesheet"]['+t+"]"}function $g(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function h0(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ue(e,"link",i),se(e),t.head.appendChild(e))}function Yr(t){return'[src="'+fe(t)+'"]'}function ml(t){return"script[async]"+t}function Wg(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+fe(i.href)+'"]');if(r)return e.instance=r,se(r),r;var c=A({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),se(r),Ue(r,"style",c),to(r,i.precedence,t),e.instance=r;case"stylesheet":c=Qr(i.href);var h=t.querySelector(dl(c));if(h)return e.state.loading|=4,e.instance=h,se(h),h;r=$g(i),(c=An.get(c))&&Bh(r,c),h=(t.ownerDocument||t).createElement("link"),se(h);var p=h;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Ue(h,"link",r),e.state.loading|=4,to(h,i.precedence,t),e.instance=h;case"script":return h=Yr(i.src),(c=t.querySelector(ml(h)))?(e.instance=c,se(c),c):(r=i,(c=An.get(h))&&(r=A({},i),qh(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),se(c),Ue(c,"link",r),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(s(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,to(r,i.precedence,t));return e.instance}function to(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,h=c,p=0;p<r.length;p++){var E=r[p];if(E.dataset.precedence===e)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Bh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function qh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var eo=null;function tp(t,e,i){if(eo===null){var r=new Map,c=eo=new Map;c.set(i,r)}else c=eo,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var h=i[c];if(!(h[Ea]||h[pe]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(e)||"";p=t+p;var E=r.get(p);E?E.push(h):r.set(p,[h])}}return r}function ep(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function f0(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function np(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var gl=null;function d0(){}function m0(t,e,i){if(gl===null)throw Error(s(475));var r=gl;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var c=Qr(i.href),h=t.querySelector(dl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=no.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=h,se(h);return}h=t.ownerDocument||t,i=$g(i),(c=An.get(c))&&Bh(i,c),h=h.createElement("link"),se(h);var p=h;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Ue(h,"link",i),e.instance=h}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=no.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function g0(){if(gl===null)throw Error(s(475));var t=gl;return t.stylesheets&&t.count===0&&Ph(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&Ph(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function no(){if(this.count--,this.count===0){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var io=null;function Ph(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,io=new Map,e.forEach(p0,t),io=null,no.call(t))}function p0(t,e){if(!(e.state.loading&4)){var i=io.get(t);if(i)var r=i.get(null);else{i=new Map,io.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var p=c[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),r=p)}r&&i.set(null,r)}c=e.instance,p=c.getAttribute("data-precedence"),h=i.get(p)||r,h===r&&i.set(null,c),i.set(p,c),this.count++,r=no.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var pl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function y0(t,e,i,r,c,h,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ip(t,e,i,r,c,h,p,E,b,B,H,Q){return t=new y0(t,e,i,p,E,b,B,Q),e=1,h===!0&&(e|=24),h=an(3,null,null,e),t.current=h,h.stateNode=t,e=Tc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:r,isDehydrated:i,cache:e},Rc(h),t}function ap(t){return t?(t=Sr,t):Sr}function rp(t,e,i,r,c,h){c=ap(c),r.context===null?r.context=c:r.pendingContext=c,r=zi(e),r.payload={element:i},h=h===void 0?null:h,h!==null&&(r.callback=h),i=Li(t,r,e),i!==null&&(on(i,t,e),Ys(i,t,e))}function sp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function kh(t,e){sp(t,e),(t=t.alternate)&&sp(t,e)}function lp(t){if(t.tag===13){var e=Ar(t,67108864);e!==null&&on(e,t,67108864),kh(t,67108864)}}var ao=!0;function _0(t,e,i,r){var c=j.T;j.T=null;var h=$.p;try{$.p=2,jh(t,e,i,r)}finally{$.p=h,j.T=c}}function v0(t,e,i,r){var c=j.T;j.T=null;var h=$.p;try{$.p=8,jh(t,e,i,r)}finally{$.p=h,j.T=c}}function jh(t,e,i,r){if(ao){var c=Hh(r);if(c===null)Vh(t,e,r,ro,i),op(t,r);else if(T0(c,t,e,i,r))r.stopPropagation();else if(op(t,r),e&4&&-1<E0.indexOf(t)){for(;c!==null;){var h=Nn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=Sn(h.pendingLanes);if(p!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-Be(p);E.entanglements[1]|=b,p&=~b}Qn(h),(jt&6)===0&&(ju=cn()+500,ol(0))}}break;case 13:E=Ar(h,2),E!==null&&on(E,h,2),Gu(),kh(h,2)}if(h=Hh(r),h===null&&Vh(t,e,r,ro,i),h===c)break;c=h}c!==null&&r.stopPropagation()}else Vh(t,e,r,null,i)}}function Hh(t){return t=dn(t),Gh(t)}var ro=null;function Gh(t){if(ro=null,t=ti(t),t!==null){var e=f(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=m(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ro=t,null}function up(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xo()){case ms:return 2;case er:return 8;case ga:case Ko:return 32;case nr:return 268435456;default:return 32}default:return 32}}var Qh=!1,Zi=null,Ji=null,$i=null,yl=new Map,_l=new Map,Wi=[],E0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function op(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(e.pointerId)}}function vl(t,e,i,r,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:h,targetContainers:[c]},e!==null&&(e=Nn(e),e!==null&&lp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function T0(t,e,i,r,c){switch(e){case"focusin":return Zi=vl(Zi,t,e,i,r,c),!0;case"dragenter":return Ji=vl(Ji,t,e,i,r,c),!0;case"mouseover":return $i=vl($i,t,e,i,r,c),!0;case"pointerover":var h=c.pointerId;return yl.set(h,vl(yl.get(h)||null,t,e,i,r,c)),!0;case"gotpointercapture":return h=c.pointerId,_l.set(h,vl(_l.get(h)||null,t,e,i,r,c)),!0}return!1}function cp(t){var e=ti(t.target);if(e!==null){var i=f(e);if(i!==null){if(e=i.tag,e===13){if(e=m(i),e!==null){t.blockedOn=e,Gl(t.priority,function(){if(i.tag===13){var r=un();r=Ci(r);var c=Ar(i,r);c!==null&&on(c,i,r),kh(i,r)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function so(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Hh(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);ai=r,i.target.dispatchEvent(r),ai=null}else return e=Nn(i),e!==null&&lp(e),t.blockedOn=i,!1;e.shift()}return!0}function hp(t,e,i){so(t)&&i.delete(e)}function A0(){Qh=!1,Zi!==null&&so(Zi)&&(Zi=null),Ji!==null&&so(Ji)&&(Ji=null),$i!==null&&so($i)&&($i=null),yl.forEach(hp),_l.forEach(hp)}function lo(t,e){t.blockedOn===e&&(t.blockedOn=null,Qh||(Qh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,A0)))}var uo=null;function fp(t){uo!==t&&(uo=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){uo===t&&(uo=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],c=t[e+2];if(typeof r!="function"){if(Gh(r||i)===null)continue;break}var h=Nn(i);h!==null&&(t.splice(e,3),e-=3,Gc(h,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function El(t){function e(b){return lo(b,t)}Zi!==null&&lo(Zi,t),Ji!==null&&lo(Ji,t),$i!==null&&lo($i,t),yl.forEach(e),_l.forEach(e);for(var i=0;i<Wi.length;i++){var r=Wi[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Wi.length&&(i=Wi[0],i.blockedOn===null);)cp(i),i.blockedOn===null&&Wi.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],h=i[r+1],p=c[he]||null;if(typeof h=="function")p||fp(i);else if(p){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,p=h[he]||null)E=p.formAction;else if(Gh(c)!==null)continue}else E=p.action;typeof E=="function"?i[r+1]=E:(i.splice(r,3),r-=3),fp(i)}}}function Yh(t){this._internalRoot=t}oo.prototype.render=Yh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(s(409));var i=e.current,r=un();rp(i,r,t,e,null,null)},oo.prototype.unmount=Yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rp(t.current,2,null,t,null,null),Gu(),e[hn]=null}};function oo(t){this._internalRoot=t}oo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Di();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Wi.length&&e!==0&&e<Wi[i].priority;i++);Wi.splice(i,0,t),i===0&&cp(t)}};var dp=n.version;if(dp!=="19.1.0")throw Error(s(527,dp,"19.1.0"));$.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(e),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var S0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{ne=co.inject(S0),kt=co}catch{}}return Al.createRoot=function(t,e){if(!o(t))throw Error(s(299));var i=!1,r="",c=Vm,h=Om,p=Nm,E=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(p=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(E=e.unstable_transitionCallbacks)),e=ip(t,1,!1,null,null,i,r,c,h,p,E,null),t[hn]=e.current,Dh(t),new Yh(e)},Al.hydrateRoot=function(t,e,i){if(!o(t))throw Error(s(299));var r=!1,c="",h=Vm,p=Om,E=Nm,b=null,B=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks),i.formState!==void 0&&(B=i.formState)),e=ip(t,1,!0,e,i??null,r,c,h,p,E,b,B),e.context=ap(null),i=e.current,r=un(),r=Ci(r),c=zi(r),c.callback=null,Li(i,c,r),i=r,e.current.lanes=i,Wn(e,i),Qn(e),t[hn]=e.current,Dh(t),new oo(e)},Al.version="19.1.0",Al}var Sp;function I0(){if(Sp)return Fh.exports;Sp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Fh.exports=M0(),Fh.exports}var x0=I0();const U0=()=>{};var bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=function(l){const n=[];let a=0;for(let s=0;s<l.length;s++){let o=l.charCodeAt(s);o<128?n[a++]=o:o<2048?(n[a++]=o>>6|192,n[a++]=o&63|128):(o&64512)===55296&&s+1<l.length&&(l.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(l.charCodeAt(++s)&1023),n[a++]=o>>18|240,n[a++]=o>>12&63|128,n[a++]=o>>6&63|128,n[a++]=o&63|128):(n[a++]=o>>12|224,n[a++]=o>>6&63|128,n[a++]=o&63|128)}return n},z0=function(l){const n=[];let a=0,s=0;for(;a<l.length;){const o=l[a++];if(o<128)n[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=l[a++];n[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=l[a++],m=l[a++],y=l[a++],v=((o&7)<<18|(f&63)<<12|(m&63)<<6|y&63)-65536;n[s++]=String.fromCharCode(55296+(v>>10)),n[s++]=String.fromCharCode(56320+(v&1023))}else{const f=l[a++],m=l[a++];n[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|m&63)}}return n.join("")},xy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<l.length;o+=3){const f=l[o],m=o+1<l.length,y=m?l[o+1]:0,v=o+2<l.length,_=v?l[o+2]:0,A=f>>2,x=(f&3)<<4|y>>4;let z=(y&15)<<2|_>>6,K=_&63;v||(K=64,m||(z=64)),s.push(a[A],a[x],a[z],a[K])}return s.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(Iy(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):z0(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<l.length;){const f=a[l.charAt(o++)],y=o<l.length?a[l.charAt(o)]:0;++o;const _=o<l.length?a[l.charAt(o)]:64;++o;const x=o<l.length?a[l.charAt(o)]:64;if(++o,f==null||y==null||_==null||x==null)throw new L0;const z=f<<2|y>>4;if(s.push(z),_!==64){const K=y<<4&240|_>>2;if(s.push(K),x!==64){const J=_<<6&192|x;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class L0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B0=function(l){const n=Iy(l);return xy.encodeByteArray(n,!0)},So=function(l){return B0(l).replace(/\./g,"")},q0=function(l){try{return xy.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=()=>P0().__FIREBASE_DEFAULTS__,j0=()=>{if(typeof process>"u"||typeof bp>"u")return;const l=bp.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},H0=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&q0(l[1]);return n&&JSON.parse(n)},xf=()=>{try{return U0()||k0()||j0()||H0()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},G0=l=>{var n,a;return(a=(n=xf())===null||n===void 0?void 0:n.emulatorHosts)===null||a===void 0?void 0:a[l]},Q0=l=>{const n=G0(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const s=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),s]:[n.substring(0,a),s]},Uy=()=>{var l;return(l=xf())===null||l===void 0?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(l){return l.endsWith(".cloudworkstations.dev")}async function X0(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=n||"demo-project",o=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},l);return[So(JSON.stringify(a)),So(JSON.stringify(m)),""].join(".")}const wl={};function F0(){const l={prod:[],emulator:[]};for(const n of Object.keys(wl))wl[n]?l.emulator.push(n):l.prod.push(n);return l}function Z0(l){let n=document.getElementById(l),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),a=!0),{created:a,element:n}}let Rp=!1;function J0(l,n){if(typeof window>"u"||typeof document>"u"||!Uf(window.location.host)||wl[l]===n||wl[l]||Rp)return;wl[l]=n;function a(z){return`__firebase__banner__${z}`}const s="__firebase__banner",f=F0().prod.length>0;function m(){const z=document.getElementById(s);z&&z.remove()}function y(z){z.style.display="flex",z.style.background="#7faaf0",z.style.position="fixed",z.style.bottom="5px",z.style.left="5px",z.style.padding=".5em",z.style.borderRadius="5px",z.style.alignItems="center"}function v(z,K){z.setAttribute("width","24"),z.setAttribute("id",K),z.setAttribute("height","24"),z.setAttribute("viewBox","0 0 24 24"),z.setAttribute("fill","none"),z.style.marginLeft="-6px"}function _(){const z=document.createElement("span");return z.style.cursor="pointer",z.style.marginLeft="16px",z.style.fontSize="24px",z.innerHTML=" &times;",z.onclick=()=>{Rp=!0,m()},z}function A(z,K){z.setAttribute("id",K),z.innerText="Learn more",z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",z.setAttribute("target","__blank"),z.style.paddingLeft="5px",z.style.textDecoration="underline"}function x(){const z=Z0(s),K=a("text"),J=document.getElementById(K)||document.createElement("span"),rt=a("learnmore"),et=document.getElementById(rt)||document.createElement("a"),zt=a("preprendIcon"),vt=document.getElementById(zt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(z.created){const gt=z.element;y(gt),A(et,rt);const xt=_();v(vt,zt),gt.append(vt,J,et,xt),document.body.appendChild(gt)}f?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W0(){var l;const n=(l=xf())===null||l===void 0?void 0:l.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tE(){return!W0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eE(){try{return typeof indexedDB=="object"}catch{return!1}}function nE(){return new Promise((l,n)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(s),l(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var f;n(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="FirebaseError";class us extends Error{constructor(n,a,s){super(a),this.code=n,this.customData=s,this.name=iE,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zy.prototype.create)}}class zy{constructor(n,a,s){this.service=n,this.serviceName=a,this.errors=s}create(n,...a){const s=a[0]||{},o=`${this.service}/${n}`,f=this.errors[n],m=f?aE(f,s):"Error",y=`${this.serviceName}: ${m} (${o}).`;return new us(o,y,s)}}function aE(l,n){return l.replace(rE,(a,s)=>{const o=n[s];return o!=null?String(o):`<${s}?>`})}const rE=/\{\$([^}]+)}/g;function bo(l,n){if(l===n)return!0;const a=Object.keys(l),s=Object.keys(n);for(const o of a){if(!s.includes(o))return!1;const f=l[o],m=n[o];if(wp(f)&&wp(m)){if(!bo(f,m))return!1}else if(f!==m)return!1}for(const o of s)if(!a.includes(o))return!1;return!0}function wp(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(l){return l&&l._delegate?l._delegate:l}class Nl{constructor(n,a,s){this.name=n,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const s=new Y0;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){var a;const s=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),o=(a=n==null?void 0:n.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(oE(n))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(n=Fa){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Fa){return this.instances.has(n)}getOptions(n=Fa){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[f,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);s===y&&m.resolve(o)}return o}onInit(n,a){var s;const o=this.normalizeInstanceIdentifier(a),f=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;f.add(n),this.onInitCallbacks.set(o,f);const m=this.instances.get(o);return m&&n(m,o),()=>{f.delete(n)}}invokeOnInitCallbacks(n,a){const s=this.onInitCallbacks.get(a);if(s)for(const o of s)try{o(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uE(n),options:a}),this.instances.set(n,s),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=Fa){return this.component?this.component.multipleInstances?n:Fa:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uE(l){return l===Fa?void 0:l}function oE(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new lE(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Nt||(Nt={}));const hE={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},fE=Nt.INFO,dE={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},mE=(l,n,...a)=>{if(n<l.logLevel)return;const s=new Date().toISOString(),o=dE[n];if(o)console[o](`[${s}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Ly{constructor(n){this.name=n,this._logLevel=fE,this._logHandler=mE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Nt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?hE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...n),this._logHandler(this,Nt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...n),this._logHandler(this,Nt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...n),this._logHandler(this,Nt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...n),this._logHandler(this,Nt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...n),this._logHandler(this,Nt.ERROR,...n)}}const gE=(l,n)=>n.some(a=>l instanceof a);let Cp,Dp;function pE(){return Cp||(Cp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yE(){return Dp||(Dp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const By=new WeakMap,of=new WeakMap,qy=new WeakMap,Wh=new WeakMap,zf=new WeakMap;function _E(l){const n=new Promise((a,s)=>{const o=()=>{l.removeEventListener("success",f),l.removeEventListener("error",m)},f=()=>{a(ia(l.result)),o()},m=()=>{s(l.error),o()};l.addEventListener("success",f),l.addEventListener("error",m)});return n.then(a=>{a instanceof IDBCursor&&By.set(a,l)}).catch(()=>{}),zf.set(n,l),n}function vE(l){if(of.has(l))return;const n=new Promise((a,s)=>{const o=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",m),l.removeEventListener("abort",m)},f=()=>{a(),o()},m=()=>{s(l.error||new DOMException("AbortError","AbortError")),o()};l.addEventListener("complete",f),l.addEventListener("error",m),l.addEventListener("abort",m)});of.set(l,n)}let cf={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return of.get(l);if(n==="objectStoreNames")return l.objectStoreNames||qy.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ia(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function EE(l){cf=l(cf)}function TE(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const s=l.call(tf(this),n,...a);return qy.set(s,n.sort?n.sort():[n]),ia(s)}:yE().includes(l)?function(...n){return l.apply(tf(this),n),ia(By.get(this))}:function(...n){return ia(l.apply(tf(this),n))}}function AE(l){return typeof l=="function"?TE(l):(l instanceof IDBTransaction&&vE(l),gE(l,pE())?new Proxy(l,cf):l)}function ia(l){if(l instanceof IDBRequest)return _E(l);if(Wh.has(l))return Wh.get(l);const n=AE(l);return n!==l&&(Wh.set(l,n),zf.set(n,l)),n}const tf=l=>zf.get(l);function SE(l,n,{blocked:a,upgrade:s,blocking:o,terminated:f}={}){const m=indexedDB.open(l,n),y=ia(m);return s&&m.addEventListener("upgradeneeded",v=>{s(ia(m.result),v.oldVersion,v.newVersion,ia(m.transaction),v)}),a&&m.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const bE=["get","getKey","getAll","getAllKeys","count"],RE=["put","add","delete","clear"],ef=new Map;function Vp(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(ef.get(n))return ef.get(n);const a=n.replace(/FromIndex$/,""),s=n!==a,o=RE.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(o||bE.includes(a)))return;const f=async function(m,...y){const v=this.transaction(m,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[a](...y),o&&v.done]))[0]};return ef.set(n,f),f}EE(l=>({...l,get:(n,a,s)=>Vp(n,a)||l.get(n,a,s),has:(n,a)=>!!Vp(n,a)||l.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(CE(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function CE(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const hf="@firebase/app",Op="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Ly("@firebase/app"),DE="@firebase/app-compat",VE="@firebase/analytics-compat",OE="@firebase/analytics",NE="@firebase/app-check-compat",ME="@firebase/app-check",IE="@firebase/auth",xE="@firebase/auth-compat",UE="@firebase/database",zE="@firebase/data-connect",LE="@firebase/database-compat",BE="@firebase/functions",qE="@firebase/functions-compat",PE="@firebase/installations",kE="@firebase/installations-compat",jE="@firebase/messaging",HE="@firebase/messaging-compat",GE="@firebase/performance",QE="@firebase/performance-compat",YE="@firebase/remote-config",XE="@firebase/remote-config-compat",KE="@firebase/storage",FE="@firebase/storage-compat",ZE="@firebase/firestore",JE="@firebase/ai",$E="@firebase/firestore-compat",WE="firebase",t1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="[DEFAULT]",e1={[hf]:"fire-core",[DE]:"fire-core-compat",[OE]:"fire-analytics",[VE]:"fire-analytics-compat",[ME]:"fire-app-check",[NE]:"fire-app-check-compat",[IE]:"fire-auth",[xE]:"fire-auth-compat",[UE]:"fire-rtdb",[zE]:"fire-data-connect",[LE]:"fire-rtdb-compat",[BE]:"fire-fn",[qE]:"fire-fn-compat",[PE]:"fire-iid",[kE]:"fire-iid-compat",[jE]:"fire-fcm",[HE]:"fire-fcm-compat",[GE]:"fire-perf",[QE]:"fire-perf-compat",[YE]:"fire-rc",[XE]:"fire-rc-compat",[KE]:"fire-gcs",[FE]:"fire-gcs-compat",[ZE]:"fire-fst",[$E]:"fire-fst-compat",[JE]:"fire-vertex","fire-js":"fire-js",[WE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,n1=new Map,df=new Map;function Np(l,n){try{l.container.addComponent(n)}catch(a){bi.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function wo(l){const n=l.name;if(df.has(n))return bi.debug(`There were multiple attempts to register component ${n}.`),!1;df.set(n,l);for(const a of Ro.values())Np(a,l);for(const a of n1.values())Np(a,l);return!0}function i1(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function a1(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new zy("app","Firebase",r1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(n,a,s){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=t1;function Py(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const s=Object.assign({name:ff,automaticDataCollectionEnabled:!0},n),o=s.name;if(typeof o!="string"||!o)throw aa.create("bad-app-name",{appName:String(o)});if(a||(a=Uy()),!a)throw aa.create("no-options");const f=Ro.get(o);if(f){if(bo(a,f.options)&&bo(s,f.config))return f;throw aa.create("duplicate-app",{appName:o})}const m=new cE(o);for(const v of df.values())m.addComponent(v);const y=new s1(a,s,m);return Ro.set(o,y),y}function u1(l=ff){const n=Ro.get(l);if(!n&&l===ff&&Uy())return Py();if(!n)throw aa.create("no-app",{appName:l});return n}function Jr(l,n,a){var s;let o=(s=e1[l])!==null&&s!==void 0?s:l;a&&(o+=`-${a}`);const f=o.match(/\s|\//),m=n.match(/\s|\//);if(f||m){const y=[`Unable to register library "${o}" with version "${n}":`];f&&y.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&m&&y.push("and"),m&&y.push(`version name "${n}" contains illegal characters (whitespace or "/")`),bi.warn(y.join(" "));return}wo(new Nl(`${o}-version`,()=>({library:o,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebase-heartbeat-database",c1=1,Ml="firebase-heartbeat-store";let nf=null;function ky(){return nf||(nf=SE(o1,c1,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(Ml)}catch(a){console.warn(a)}}}}).catch(l=>{throw aa.create("idb-open",{originalErrorMessage:l.message})})),nf}async function h1(l){try{const a=(await ky()).transaction(Ml),s=await a.objectStore(Ml).get(jy(l));return await a.done,s}catch(n){if(n instanceof us)bi.warn(n.message);else{const a=aa.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});bi.warn(a.message)}}}async function Mp(l,n){try{const s=(await ky()).transaction(Ml,"readwrite");await s.objectStore(Ml).put(n,jy(l)),await s.done}catch(a){if(a instanceof us)bi.warn(a.message);else{const s=aa.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});bi.warn(s.message)}}}function jy(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=1024,d1=30;class m1{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new p1(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var n,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Ip();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(m=>m.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>d1){const m=y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){bi.warn(s)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=Ip(),{heartbeatsToSend:s,unsentEntries:o}=g1(this._heartbeatsCache.heartbeats),f=So(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(a){return bi.warn(a),""}}}function Ip(){return new Date().toISOString().substring(0,10)}function g1(l,n=f1){const a=[];let s=l.slice();for(const o of l){const f=a.find(m=>m.agent===o.agent);if(f){if(f.dates.push(o.date),xp(a)>n){f.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),xp(a)>n){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class p1{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eE()?nE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await h1(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mp(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mp(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...n.heartbeats]})}else return}}function xp(l){return So(JSON.stringify({version:2,heartbeats:l})).length}function y1(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let s=1;s<l.length;s++)l[s].date<a&&(a=l[s].date,n=s);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(l){wo(new Nl("platform-logger",n=>new wE(n),"PRIVATE")),wo(new Nl("heartbeat",n=>new m1(n),"PRIVATE")),Jr(hf,Op,l),Jr(hf,Op,"esm2017"),Jr("fire-js","")}_1("");var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,Hy;(function(){var l;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(V,N,I){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[N].apply(V,R)}}function a(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(s,a),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)V[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)V[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],N=O.g[2];var I=O.g[3],R=S+(I^w&(N^I))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=I+(N^S&(w^N))+V[1]+3905402710&4294967295,I=S+(R<<12&4294967295|R>>>20),R=N+(w^I&(S^w))+V[2]+606105819&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(S^N&(I^S))+V[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(I^w&(N^I))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=I+(N^S&(w^N))+V[5]+1200080426&4294967295,I=S+(R<<12&4294967295|R>>>20),R=N+(w^I&(S^w))+V[6]+2821735955&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(S^N&(I^S))+V[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(I^w&(N^I))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=I+(N^S&(w^N))+V[9]+2336552879&4294967295,I=S+(R<<12&4294967295|R>>>20),R=N+(w^I&(S^w))+V[10]+4294925233&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(S^N&(I^S))+V[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(I^w&(N^I))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=I+(N^S&(w^N))+V[13]+4254626195&4294967295,I=S+(R<<12&4294967295|R>>>20),R=N+(w^I&(S^w))+V[14]+2792965006&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(S^N&(I^S))+V[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^I&(w^N))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(S^w))+V[6]+3225465664&4294967295,I=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(I^S))+V[11]+643717713&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^S&(N^I))+V[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^I&(w^N))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(S^w))+V[10]+38016083&4294967295,I=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(I^S))+V[15]+3634488961&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^S&(N^I))+V[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^I&(w^N))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(S^w))+V[14]+3275163606&4294967295,I=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(I^S))+V[3]+4107603335&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^S&(N^I))+V[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^I&(w^N))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(S^w))+V[2]+4243563512&4294967295,I=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(I^S))+V[7]+1735328473&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^S&(N^I))+V[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^I)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=I+(S^w^N)+V[8]+2272392833&4294967295,I=S+(R<<11&4294967295|R>>>21),R=N+(I^S^w)+V[11]+1839030562&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^S)+V[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^I)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=I+(S^w^N)+V[4]+1272893353&4294967295,I=S+(R<<11&4294967295|R>>>21),R=N+(I^S^w)+V[7]+4139469664&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^S)+V[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^I)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=I+(S^w^N)+V[0]+3936430074&4294967295,I=S+(R<<11&4294967295|R>>>21),R=N+(I^S^w)+V[3]+3572445317&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^S)+V[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^I)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=I+(S^w^N)+V[12]+3873151461&4294967295,I=S+(R<<11&4294967295|R>>>21),R=N+(I^S^w)+V[15]+530742520&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^S)+V[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~I))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=I+(w^(S|~N))+V[7]+1126891415&4294967295,I=S+(R<<10&4294967295|R>>>22),R=N+(S^(I|~w))+V[14]+2878612391&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~S))+V[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~I))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=I+(w^(S|~N))+V[3]+2399980690&4294967295,I=S+(R<<10&4294967295|R>>>22),R=N+(S^(I|~w))+V[10]+4293915773&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~S))+V[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~I))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=I+(w^(S|~N))+V[15]+4264355552&4294967295,I=S+(R<<10&4294967295|R>>>22),R=N+(S^(I|~w))+V[6]+2734768916&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~S))+V[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~I))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=I+(w^(S|~N))+V[11]+3174756917&4294967295,I=S+(R<<10&4294967295|R>>>22),R=N+(S^(I|~w))+V[2]+718787259&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~S))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+I&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,V=this.B,N=this.h,I=0;I<S;){if(N==0)for(;I<=w;)o(this,O,I),I+=this.blockSize;if(typeof O=="string"){for(;I<S;)if(V[N++]=O.charCodeAt(I++),N==this.blockSize){o(this,V),N=0;break}}else for(;I<S;)if(V[N++]=O[I++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)O[w++]=this.g[S]>>>V&255;return O};function f(O,S){var w=y;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function m(O,S){this.h=S;for(var w=[],V=!0,N=O.length-1;0<=N;N--){var I=O[N]|0;V&&I==S||(w[N]=I,V=!1)}this.g=w}var y={};function v(O){return-128<=O&&128>O?f(O,function(S){return new m([S|0],0>S?-1:0)}):new m([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return x;if(0>O)return et(_(-O));for(var S=[],w=1,V=0;O>=w;V++)S[V]=O/w|0,w*=4294967296;return new m(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return et(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),V=x,N=0;N<O.length;N+=8){var I=Math.min(8,O.length-N),R=parseInt(O.substring(N,N+I),S);8>I?(I=_(Math.pow(S,I)),V=V.j(I).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var x=v(0),z=v(1),K=v(16777216);l=m.prototype,l.m=function(){if(rt(this))return-et(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);O+=(0<=V?V:4294967296+V)*S,S*=4294967296}return O},l.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(J(this))return"0";if(rt(this))return"-"+et(this).toString(O);for(var S=_(Math.pow(O,6)),w=this,V="";;){var N=xt(w,S).g;w=zt(w,N.j(S));var I=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=N,J(w))return I+V;for(;6>I.length;)I="0"+I;V=I+V}},l.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function J(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function rt(O){return O.h==-1}l.l=function(O){return O=zt(this,O),rt(O)?-1:J(O)?0:1};function et(O){for(var S=O.g.length,w=[],V=0;V<S;V++)w[V]=~O.g[V];return new m(w,~O.h).add(z)}l.abs=function(){return rt(this)?et(this):this},l.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0,N=0;N<=S;N++){var I=V+(this.i(N)&65535)+(O.i(N)&65535),R=(I>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);V=R>>>16,I&=65535,R&=65535,w[N]=R<<16|I}return new m(w,w[w.length-1]&-2147483648?-1:0)};function zt(O,S){return O.add(et(S))}l.j=function(O){if(J(this)||J(O))return x;if(rt(this))return rt(O)?et(this).j(et(O)):et(et(this).j(O));if(rt(O))return et(this.j(et(O)));if(0>this.l(K)&&0>O.l(K))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<O.g.length;N++){var I=this.i(V)>>>16,R=this.i(V)&65535,Oe=O.i(N)>>>16,ee=O.i(N)&65535;w[2*V+2*N]+=R*ee,vt(w,2*V+2*N),w[2*V+2*N+1]+=I*ee,vt(w,2*V+2*N+1),w[2*V+2*N+1]+=R*Oe,vt(w,2*V+2*N+1),w[2*V+2*N+2]+=I*Oe,vt(w,2*V+2*N+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new m(w,0)};function vt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function gt(O,S){this.g=O,this.h=S}function xt(O,S){if(J(S))throw Error("division by zero");if(J(O))return new gt(x,x);if(rt(O))return S=xt(et(O),S),new gt(et(S.g),et(S.h));if(rt(S))return S=xt(O,et(S)),new gt(et(S.g),S.h);if(30<O.g.length){if(rt(O)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=z,V=S;0>=V.l(O);)w=_t(w),V=_t(V);var N=Lt(w,1),I=Lt(V,1);for(V=Lt(V,2),w=Lt(w,2);!J(V);){var R=I.add(V);0>=R.l(O)&&(N=N.add(w),I=R),V=Lt(V,1),w=Lt(w,1)}return S=zt(O,N.j(S)),new gt(N,S)}for(N=x;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),I=_(w),R=I.j(S);rt(R)||0<R.l(O);)w-=V,I=_(w),R=I.j(S);J(I)&&(I=z),N=N.add(I),O=zt(O,R)}return new gt(N,O)}l.A=function(O){return xt(this,O).h},l.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&O.i(V);return new m(w,this.h&O.h)},l.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|O.i(V);return new m(w,this.h|O.h)},l.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^O.i(V);return new m(w,this.h^O.h)};function _t(O){for(var S=O.g.length+1,w=[],V=0;V<S;V++)w[V]=O.i(V)<<1|O.i(V-1)>>>31;return new m(w,O.h)}function Lt(O,S){var w=S>>5;S%=32;for(var V=O.g.length-w,N=[],I=0;I<V;I++)N[I]=0<S?O.i(I+w)>>>S|O.i(I+w+1)<<32-S:O.i(I+w);return new m(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Hy=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=A,ra=m}).apply(typeof Up<"u"?Up:typeof self<"u"?self:typeof window<"u"?window:{});var ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gy,Sl,Qy,_o,mf,Yy,Xy,Ky;(function(){var l,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ho=="object"&&ho];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=a(this);function o(u,d){if(d)t:{var g=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in g))break t;g=g[U]}u=u[u.length-1],T=g[u],d=d(T),d!=T&&d!=null&&n(g,u,{configurable:!0,writable:!0,value:d})}}function f(u,d){u instanceof String&&(u+="");var g=0,T=!1,U={next:function(){if(!T&&g<u.length){var k=g++;return{value:d(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return f(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function v(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function _(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function A(u,d,g){return u.call.apply(u.bind,arguments)}function x(u,d,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(d,U)}}return function(){return u.apply(d,arguments)}}function z(u,d,g){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:x,z.apply(null,arguments)}function K(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,U,k){for(var Z=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)Z[Ct-2]=arguments[Ct];return d.prototype[U].apply(T,Z)}}function rt(u){const d=u.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=u[T];return g}return[]}function et(u,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const U=u.length||0,k=T.length||0;u.length=U+k;for(let Z=0;Z<k;Z++)u[U+Z]=T[Z]}else u.push(T)}}class zt{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function vt(u){return/^[\s\xa0]*$/.test(u)}function gt(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function xt(u){return xt[" "](u),u}xt[" "]=function(){};var _t=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function Lt(u,d,g){for(const T in u)d.call(g,u[T],T,u)}function O(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function S(u){const d={};for(const g in u)d[g]=u[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,d){let g,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(g in T)u[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function N(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function I(u){y.setTimeout(()=>{throw u},0)}function R(){var u=Bt;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Oe{constructor(){this.h=this.g=null}add(d,g){const T=ee.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ee=new zt(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $,lt=!1,Bt=new Oe,C=()=>{const u=y.Promise.resolve(void 0);$=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){I(g)}var d=ee;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}lt=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return u}();function At(u,d){if(F.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(_t){t:{try{xt(d.nodeName);var U=!0;break t}catch{}U=!1}U||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&At.aa.h.call(this)}}J(At,F);var mt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function Vn(u,d,g,T,U){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=U,this.key=++Ft,this.da=this.fa=!1}function wi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Jn(u){this.src=u,this.g={},this.h=0}Jn.prototype.add=function(u,d,g,T,U){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var Z=da(u,d,T,U);return-1<Z?(d=u[Z],g||(d.fa=!1)):(d=new Vn(d,this.src,k,!!T,U),d.fa=g,u.push(d)),d};function fa(u,d){var g=d.type;if(g in u.g){var T=u.g[g],U=Array.prototype.indexOf.call(T,d,void 0),k;(k=0<=U)&&Array.prototype.splice.call(T,U,1),k&&(wi(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function da(u,d,g,T){for(var U=0;U<u.length;++U){var k=u[U];if(!k.da&&k.listener==d&&k.capture==!!g&&k.ha==T)return U}return-1}var ma="closure_lm_"+(1e6*Math.random()|0),ds={};function kl(u,d,g,T,U){if(Array.isArray(d)){for(var k=0;k<d.length;k++)kl(u,d[k],g,T,U);return null}return g=jl(g),u&&u[Se]?u.K(d,g,_(T)?!!T.capture:!1,U):cn(u,d,g,!1,T,U)}function cn(u,d,g,T,U,k){if(!d)throw Error("Invalid event type");var Z=_(U)?!!U.capture:!!U,Ct=nr(u);if(Ct||(u[ma]=Ct=new Jn(u)),g=Ct.add(d,g,T,Z,k),g.proxy)return g;if(T=Xo(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)ut||(U=Z),U===void 0&&(U=!1),u.addEventListener(d.toString(),T,U);else if(u.attachEvent)u.attachEvent(ga(d.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Xo(){function u(g){return d.call(u.src,u.listener,g)}const d=Ko;return u}function ms(u,d,g,T,U){if(Array.isArray(d))for(var k=0;k<d.length;k++)ms(u,d[k],g,T,U);else T=_(T)?!!T.capture:!!T,g=jl(g),u&&u[Se]?(u=u.i,d=String(d).toString(),d in u.g&&(k=u.g[d],g=da(k,g,T,U),-1<g&&(wi(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete u.g[d],u.h--)))):u&&(u=nr(u))&&(d=u.g[d.toString()],u=-1,d&&(u=da(d,g,T,U)),(g=-1<u?d[u]:null)&&er(g))}function er(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Se])fa(d.i,u);else{var g=u.type,T=u.proxy;d.removeEventListener?d.removeEventListener(g,T,u.capture):d.detachEvent?d.detachEvent(ga(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=nr(d))?(fa(g,u),g.h==0&&(g.src=null,d[ma]=null)):wi(u)}}}function ga(u){return u in ds?ds[u]:ds[u]="on"+u}function Ko(u,d){if(u.da)u=!0;else{d=new At(d,this);var g=u.listener,T=u.ha||u.src;u.fa&&er(u),u=g.call(T,d)}return u}function nr(u){return u=u[ma],u instanceof Jn?u:null}var gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function jl(u){return typeof u=="function"?u:(u[gs]||(u[gs]=function(d){return u.handleEvent(d)}),u[gs])}function ne(){W.call(this),this.i=new Jn(this),this.M=this,this.F=null}J(ne,W),ne.prototype[Se]=!0,ne.prototype.removeEventListener=function(u,d,g,T){ms(this,u,d,g,T)};function kt(u,d){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=d.type||d,typeof d=="string")d=new F(d,u);else if(d instanceof F)d.target=d.target||u;else{var U=d;d=new F(T,u),V(d,U)}if(U=!0,g)for(var k=g.length-1;0<=k;k--){var Z=d.g=g[k];U=tn(Z,T,!0,d)&&U}if(Z=d.g=u,U=tn(Z,T,!0,d)&&U,U=tn(Z,T,!1,d)&&U,g)for(k=0;k<g.length;k++)Z=d.g=g[k],U=tn(Z,T,!1,d)&&U}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],T=0;T<g.length;T++)wi(g[T]);delete u.g[d],u.h--}}this.F=null},ne.prototype.K=function(u,d,g,T){return this.i.add(String(u),d,!1,g,T)},ne.prototype.L=function(u,d,g,T){return this.i.add(String(u),d,!0,g,T)};function tn(u,d,g,T){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var U=!0,k=0;k<d.length;++k){var Z=d[k];if(Z&&!Z.da&&Z.capture==g){var Ct=Z.listener,ye=Z.ha||Z.src;Z.fa&&fa(u.i,Z),U=Ct.call(ye,T)!==!1&&U}}return U&&!T.defaultPrevented}function Be(u,d,g){if(typeof u=="function")g&&(u=z(u,g));else if(u&&typeof u.handleEvent=="function")u=z(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(u,d||0)}function Hl(u){u.g=Be(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class Fo extends W{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(u){W.call(this),this.h=u,this.g={}}J(pa,W);var ya=[];function _a(u){Lt(u.g,function(d,g){this.g.hasOwnProperty(g)&&er(d)},u),u.g={}}pa.prototype.N=function(){pa.aa.N.call(this),_a(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=y.JSON.stringify,ir=y.JSON.parse,va=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function ps(){}ps.prototype.h=null;function ys(u){return u.h||(u.h=u.i())}function _s(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){F.call(this,"d")}J(Wn,F);function vs(){F.call(this,"c")}J(vs,F);var On={},Es=null;function Ci(){return Es=Es||new ne}On.La="serverreachability";function ar(u){F.call(this,On.La,u)}J(ar,F);function Di(u){const d=Ci();kt(d,new ar(d))}On.STAT_EVENT="statevent";function Gl(u,d){F.call(this,On.STAT_EVENT,u),this.stat=d}J(Gl,F);function Jt(u){const d=Ci();kt(d,new Gl(d,u))}On.Ma="timingevent";function pe(u,d){F.call(this,On.Ma,u),this.size=d}J(pe,F);function he(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},d)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Ts(u,d,g,T,U,k){u.info(function(){if(u.g)if(k)for(var Z="",Ct=k.split("&"),ye=0;ye<Ct.length;ye++){var Dt=Ct[ye].split("=");if(1<Dt.length){var Re=Dt[0];Dt=Dt[1];var _e=Re.split("_");Z=2<=_e.length&&_e[1]=="type"?Z+(Re+"="+Dt+"&"):Z+(Re+"=redacted&")}}else Z=null;else Z=k;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+d+`
`+g+`
`+Z})}function Zo(u,d,g,T,U,k,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+d+`
`+g+`
`+k+" "+Z})}function Vi(u,d,g,T){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ea(u,g)+(T?" "+T:"")})}function Ql(u,d){u.info(function(){return"TIMEOUT: "+d})}hn.prototype.info=function(){};function Ea(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var k=U[0];if(k!="noop"&&k!="stop"&&k!="close")for(var Z=1;Z<U.length;Z++)U[Z]=""}}}}return Sn(g)}catch{return d}}var Oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function Mn(){}J(Mn,ps),Mn.prototype.g=function(){return new XMLHttpRequest},Mn.prototype.i=function(){return{}},Nn=new Mn;function Ge(u,d,g,T){this.j=u,this.i=d,this.l=g,this.R=T||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var As={},rr={};function bn(u,d,g){u.L=1,u.v=Ra(en(d)),u.m=g,u.P=!0,ei(u,null)}function ei(u,d){u.F=Date.now(),Ta(u),u.A=en(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ds(g.i,"t",T),u.C=0,g=u.j.J,u.h=new se,u.g=lu(u.j,g?d:null,!u.m),0<u.O&&(u.M=new Fo(z(u.Y,u,u.g),u.O)),d=u.U,g=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(ya[0]=U.toString()),U=ya);for(var k=0;k<U.length;k++){var Z=kl(g,U[k],T||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Di(),Ts(u.i,u.u,u.A,u.l,u.R,u.m)}Ge.prototype.ca=function(u){u=u.target;const d=this.M;d&&gn(u)==3?d.j():this.Y(u)},Ge.prototype.Y=function(u){try{if(u==this.g)t:{const _e=gn(this.g);var d=this.g.Ba();const oi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||Wl(this.g)))){this.J||_e!=4||d==7||(d==8||0>=oi?Di(3):Di(2)),Ni(this);var g=this.g.Z();this.X=g;e:if(Yl(this)){var T=Wl(this.g);u="";var U=T.length,k=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),In(this);var Z="";break e}this.h.i=new y.TextDecoder}for(d=0;d<U;d++)this.h.h=!0,u+=this.h.i.decode(T[d],{stream:!(k&&d==U-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,Zo(this.i,this.u,this.A,this.l,this.R,_e,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ct,ye=this.g;if((Ct=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(Ct)){var Dt=Ct;break e}}Dt=null}if(g=Dt)Vi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,g);else{this.o=!1,this.s=3,Jt(12),Ne(this),In(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<Z.length;)if(Me=Xl(this,Z),Me==rr){_e==4&&(this.s=4,Jt(14),g=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==As){this.s=4,Jt(15),Vi(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else Vi(this.i,this.l,Me,null),Aa(this,Me);if(Yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||Z.length!=0||this.h.h||(this.s=1,Jt(16),g=!1),this.o=this.o&&g,!g)Vi(this.i,this.l,Z,"[Invalid Chunked Response]"),Ne(this),In(this);else if(0<Z.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Ia(Re),Re.M=!0,Jt(11))}}else Vi(this.i,this.l,Z,null),Aa(this,Z);_e==4&&Ne(this),this.o&&!this.J&&(_e==4?au(this.j,this):(this.o=!1,Ta(this)))}else ec(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Ne(this),In(this)}}}catch{}finally{}};function Yl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xl(u,d){var g=u.C,T=d.indexOf(`
`,g);return T==-1?rr:(g=Number(d.substring(g,T)),isNaN(g)?As:(T+=1,T+g>d.length?rr:(d=d.slice(T,T+g),u.C=T+g,d)))}Ge.prototype.cancel=function(){this.J=!0,Ne(this)};function Ta(u){u.S=Date.now()+u.I,Kl(u,u.I)}function Kl(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(z(u.ba,u),d)}function Ni(u){u.B&&(y.clearTimeout(u.B),u.B=null)}Ge.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ql(this.i,this.A),this.L!=2&&(Di(),Jt(17)),Ne(this),this.s=2,In(this)):Kl(this,this.S-u)};function In(u){u.j.G==0||u.J||au(u.j,u)}function Ne(u){Ni(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,_a(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Aa(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||Ss(g.h,u))){if(!u.K&&Ss(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)yr(g),gr(g);else break t;Is(g),Jt(18)}}else g.za=U[1],0<g.za-g.T&&37500>U[2]&&g.F&&g.v==0&&!g.C&&(g.C=he(z(g.Za,g),6e3));if(1>=lr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ui(g,11)}else if((u.K||g.g==u)&&yr(g),!vt(d))for(U=g.Da.g.parse(d),d=0;d<U.length;d++){let Dt=U[d];if(g.T=Dt[0],Dt=Dt[1],g.G==2)if(Dt[0]=="c"){g.K=Dt[1],g.ia=Dt[2];const Re=Dt[3];Re!=null&&(g.la=Re,g.j.info("VER="+g.la));const _e=Dt[4];_e!=null&&(g.Aa=_e,g.j.info("SVER="+g.Aa));const oi=Dt[5];oi!=null&&typeof oi=="number"&&0<oi&&(T=1.5*oi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=u.g;if(Me){const Pn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pn){var k=T.h;k.g||Pn.indexOf("spdy")==-1&&Pn.indexOf("quic")==-1&&Pn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ur(k,k.h),k.h=null))}if(T.D){const Us=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Us&&(T.ya=Us,Gt(T.I,T.D,Us))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var Z=u;if(T.qa=su(T,T.J?T.ia:null,T.W),Z.K){Qe(T.h,Z);var Ct=Z,ye=T.L;ye&&(Ct.I=ye),Ct.B&&(Ni(Ct),Ta(Ct)),T.g=Z}else nu(T);0<g.i.length&&pr(g)}else Dt[0]!="stop"&&Dt[0]!="close"||ui(g,7);else g.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?ui(g,7):Ns(g):Dt[0]!="noop"&&g.l&&g.l.ta(Dt),g.v=0)}}Di(4)}catch{}}var Fl=class{constructor(u,d){this.g=u,this.map=d}};function ni(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function lr(u){return u.h?1:u.g?u.g.size:0}function Ss(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function ur(u,d){u.g?u.g.add(d):u.h=d}function Qe(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}ni.prototype.cancel=function(){if(this.i=bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return rt(u.i)}function Jo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var d=[],g=u.length,T=0;T<g;T++)d.push(u[T]);return d}d=[],g=0;for(T in u)d[g++]=u[T];return d}function or(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const T in u)d[g++]=T;return d}}}function Rs(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=or(u),T=Jo(u),U=T.length,k=0;k<U;k++)d.call(void 0,T[k],g&&g[k],u)}var Sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),U=null;if(0<=T){var k=u[g].substring(0,T);U=u[g].substring(T+1)}else k=u[g];d(k,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function fe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fe){this.h=u.h,ba(this,u.j),this.o=u.o,this.g=u.g,Mi(this,u.s),this.l=u.l;var d=u.i,g=new ai;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),ii(this,g),this.m=u.m}else u&&(d=String(u).match(Sa))?(this.h=!1,ba(this,d[1]||"",!0),this.o=fn(d[2]||""),this.g=fn(d[3]||"",!0),Mi(this,d[4]),this.l=fn(d[5]||"",!0),ii(this,d[6]||"",!0),this.m=fn(d[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}fe.prototype.toString=function(){var u=[],d=this.j;d&&u.push(wa(d,ws,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(wa(d,ws,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(wa(g,g.charAt(0)=="/"?Wo:Cs,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",wa(g,cr)),u.join("")};function en(u){return new fe(u)}function ba(u,d,g){u.j=g?fn(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Mi(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function ii(u,d,g){d instanceof ai?(u.i=d,Jl(u.i,u.h)):(g||(d=wa(d,tc)),u.i=new ai(d,u.h))}function Gt(u,d,g){u.i.set(d,g)}function Ra(u){return Gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function fn(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wa(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,Zl),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Zl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ws=/[#\/\?@]/g,Cs=/[#\?:]/g,Wo=/[#\?]/g,tc=/[#\?@]/g,cr=/#/g;function ai(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&$o(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}l=ai.prototype,l.add=function(u,d){dn(this),this.i=null,u=xn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function ri(u,d){dn(u),d=xn(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function si(u,d){return dn(u),d=xn(u,d),u.g.has(d)}l.forEach=function(u,d){dn(this),this.g.forEach(function(g,T){g.forEach(function(U){u.call(d,U,T,this)},this)},this)},l.na=function(){dn(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const U=u[T];for(let k=0;k<U.length;k++)g.push(d[T])}return g},l.V=function(u){dn(this);let d=[];if(typeof u=="string")si(this,u)&&(d=d.concat(this.g.get(xn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},l.set=function(u,d){return dn(this),this.i=null,u=xn(this,u),si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},l.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Ds(u,d,g){ri(u,d),0<g.length&&(u.i=null,u.g.set(xn(u,d),rt(g)),u.h+=g.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const k=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var U=k;Z[T]!==""&&(U+="="+encodeURIComponent(String(Z[T]))),u.push(U)}}return this.i=u.join("&")};function xn(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function Jl(u,d){d&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(g,T){var U=T.toLowerCase();T!=U&&(ri(this,T),Ds(this,U,g))},u)),u.j=d}function Ca(u,d){const g=new hn;if(y.Image){const T=new Image;T.onload=K(mn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=K(mn,g,"TestLoadImage: error",!1,d,T),T.onabort=K(mn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=K(mn,g,"TestLoadImage: timeout",!1,d,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else d(!1)}function Rn(u,d){const g=new hn,T=new AbortController,U=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(U),k.ok?mn(g,"TestPingServer: ok",!0,d):mn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(U),mn(g,"TestPingServer: error",!1,d)})}function mn(u,d,g,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(g)}catch{}}function Da(){this.g=new va}function Un(u,d,g){const T=g||"";try{Rs(u,function(U,k){let Z=U;_(U)&&(Z=Sn(U)),d.push(T+k+"="+encodeURIComponent(Z))})}catch(U){throw d.push(T+"type="+encodeURIComponent("_badmap")),U}}function Ii(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Ii,ps),Ii.prototype.g=function(){return new li(this.l,this.j)},Ii.prototype.i=function(u){return function(){return u}}({});function li(u,d){ne.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(li,ne),l=li.prototype,l.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Ln(this)},l.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},l.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}l.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?zn(this):Ln(this),this.readyState==3&&Vs(this)}},l.Ra=function(u){this.g&&(this.response=this.responseText=u,zn(this))},l.Qa=function(u){this.g&&(this.response=u,zn(this))},l.ga=function(){this.g&&zn(this)};function zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ln(u)}l.setRequestHeader=function(u,d){this.u.append(u,d)},l.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Os(u){let d="";return Lt(u,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function be(u,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Os(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Gt(u,d,g))}function Pt(u){ne.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Pt,ne);var hr=/^https?$/i,Va=["POST","PUT"];l=Pt.prototype,l.Ha=function(u){this.J=u},l.ea=function(u,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?ys(this.o):ys(Nn),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(k){$l(this,k);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)g.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),U=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Va,d,void 0))||T||U||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,Z]of g)this.g.setRequestHeader(k,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){$l(this,k)}};function $l(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,fr(u),Bn(u)}function fr(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}l.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),Bn(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),Pt.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?dr(this):this.bb())},l.bb=function(){dr(this)};function dr(u){if(u.h&&typeof m<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)Be(u.Ea,0,u);else if(kt(u,"readystatechange"),gn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=Z===0){var U=String(u.D).match(Sa)[1]||null;!U&&y.self&&y.self.location&&(U=y.self.location.protocol.slice(0,-1)),T=!hr.test(U?U.toLowerCase():"")}g=T}if(g)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var k=2<gn(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",fr(u)}}finally{Bn(u)}}}}function Bn(u,d){if(u.g){Oa(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||kt(u,"ready");try{g.onreadystatechange=T}catch{}}}function Oa(u){u.I&&(y.clearTimeout(u.I),u.I=null)}l.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}l.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),ir(d)}};function Wl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ec(u){const d={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(vt(u[T]))continue;var g=N(u[T]);const U=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=d[U]||[];d[U]=k,k.push(g)}O(d,function(T){return T.join(", ")})}l.Ba=function(){return this.m},l.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function mr(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,u),this.cb=Na("retryDelaySeedMs",1e4,u),this.Wa=Na("forwardChannelMaxRetries",2,u),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ni(u&&u.concurrentRequestLimit),this.Da=new Da,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}l=mr.prototype,l.la=8,l.G=1,l.connect=function(u,d,g,T){Jt(0),this.W=u,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=su(this,null,this.W),pr(this)};function Ns(u){if(tu(u),u.G==3){var d=u.U++,g=en(u.I);if(Gt(g,"SID",u.K),Gt(g,"RID",d),Gt(g,"TYPE","terminate"),Ma(u,g),d=new Ge(u,u.j,d),d.L=2,d.v=Ra(en(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=lu(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ta(d)}ru(u)}function gr(u){u.g&&(Ia(u),u.g.cancel(),u.g=null)}function tu(u){gr(u),u.u&&(y.clearTimeout(u.u),u.u=null),yr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function pr(u){if(!sr(u.h)&&!u.s){u.s=!0;var d=u.Ga;$||C(),lt||($(),lt=!0),Bt.add(d,u),u.B=0}}function nc(u,d){return lr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(z(u.Ga,u,d),xs(u,u.B)),u.B++,!0)}l.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ge(this,this.j,u);let k=this.o;if(this.S&&(k?(k=S(k),V(k,this.S)):k=this.S),this.m!==null||this.O||(U.H=k,k=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=eu(this,U,d),g=en(this.I),Gt(g,"RID",u),Gt(g,"CVER",22),this.D&&Gt(g,"X-HTTP-Session-Id",this.D),Ma(this,g),k&&(this.O?d="headers="+encodeURIComponent(String(Os(k)))+"&"+d:this.m&&be(g,this.m,k)),ur(this.h,U),this.Ua&&Gt(g,"TYPE","init"),this.P?(Gt(g,"$req",d),Gt(g,"SID","null"),U.T=!0,bn(U,g,null)):bn(U,g,d),this.G=2}}else this.G==3&&(u?Ms(this,u):this.i.length==0||sr(this.h)||Ms(this))};function Ms(u,d){var g;d?g=d.l:g=u.U++;const T=en(u.I);Gt(T,"SID",u.K),Gt(T,"RID",g),Gt(T,"AID",u.T),Ma(u,T),u.m&&u.o&&be(T,u.m,u.o),g=new Ge(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=eu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ur(u.h,g),bn(g,T,d)}function Ma(u,d){u.H&&Lt(u.H,function(g,T){Gt(d,T,g)}),u.l&&Rs({},function(g,T){Gt(d,T,g)})}function eu(u,d,g){g=Math.min(u.i.length,g);var T=u.l?z(u.l.Na,u.l,u):null;t:{var U=u.i;let k=-1;for(;;){const Z=["count="+g];k==-1?0<g?(k=U[0].g,Z.push("ofs="+k)):k=0:Z.push("ofs="+k);let Ct=!0;for(let ye=0;ye<g;ye++){let Dt=U[ye].g;const Re=U[ye].map;if(Dt-=k,0>Dt)k=Math.max(0,U[ye].g-100),Ct=!1;else try{Un(Re,Z,"req"+Dt+"_")}catch{T&&T(Re)}}if(Ct){T=Z.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,T}function nu(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;$||C(),lt||($(),lt=!0),Bt.add(d,u),u.v=0}}function Is(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(z(u.Fa,u),xs(u,u.v)),u.v++,!0)}l.Fa=function(){if(this.u=null,iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(z(this.ab,this),u)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),gr(this),iu(this))};function Ia(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function iu(u){u.g=new Ge(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=en(u.qa);Gt(d,"RID","rpc"),Gt(d,"SID",u.K),Gt(d,"AID",u.T),Gt(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Gt(d,"TO",u.ja),Gt(d,"TYPE","xmlhttp"),Ma(u,d),u.m&&u.o&&be(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Ra(en(d)),g.m=null,g.P=!0,ei(g,u)}l.Za=function(){this.C!=null&&(this.C=null,gr(this),Is(this),Jt(19))};function yr(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function au(u,d){var g=null;if(u.g==d){yr(u),Ia(u),u.g=null;var T=2}else if(Ss(u.h,d))g=d.D,Qe(u.h,d),T=1;else return;if(u.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var U=u.B;T=Ci(),kt(T,new pe(T,g)),pr(u)}else nu(u);else if(U=d.s,U==3||U==0&&0<d.X||!(T==1&&nc(u,d)||T==2&&Is(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),U){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function xs(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function ui(u,d){if(u.j.info("Error code "+d),d==2){var g=z(u.fb,u),T=u.Xa;const U=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||ba(T,"https"),Ra(T),U?Ca(T.toString(),g):Rn(T.toString(),g)}else Jt(2);u.G=0,u.l&&u.l.sa(d),ru(u),tu(u)}l.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const d=bs(u.h);(d.length!=0||u.i.length!=0)&&(et(u.ka,d),et(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function su(u,d,g){var T=g instanceof fe?en(g):new fe(g);if(T.g!="")d&&(T.g=d+"."+T.g),Mi(T,T.s);else{var U=y.location;T=U.protocol,d=d?d+"."+U.hostname:U.hostname,U=+U.port;var k=new fe(null);T&&ba(k,T),d&&(k.g=d),U&&Mi(k,U),g&&(k.l=g),T=k}return g=u.D,d=u.ya,g&&d&&Gt(T,g,d),Gt(T,"VER",u.la),Ma(u,T),T}function lu(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Pt(new Ii({eb:g})):new Pt(u.pa),d.Ha(u.J),d}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function uu(){}l=uu.prototype,l.ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){};function _r(){}_r.prototype.g=function(u,d){return new Ye(u,d)};function Ye(u,d){ne.call(this),this.g=new mr(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!vt(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!vt(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new qn(this)}J(Ye,ne),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){Ns(this.g)},Ye.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Sn(u),u=g);d.i.push(new Fl(d.Ya++,u)),d.G==3&&pr(d)},Ye.prototype.N=function(){this.g.l=null,delete this.j,Ns(this.g),delete this.g,Ye.aa.N.call(this)};function ou(u){Wn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}J(ou,Wn);function cu(){vs.call(this),this.status=1}J(cu,vs);function qn(u){this.g=u}J(qn,uu),qn.prototype.ua=function(){kt(this.g,"a")},qn.prototype.ta=function(u){kt(this.g,new ou(u))},qn.prototype.sa=function(u){kt(this.g,new cu)},qn.prototype.ra=function(){kt(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,Ky=function(){return new _r},Xy=function(){return Ci()},Yy=On,mf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,_o=Oi,ti.COMPLETE="complete",Qy=ti,_s.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Sl=_s,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,Gy=Pt}).apply(typeof ho<"u"?ho:typeof self<"u"?self:typeof window<"u"?window:{});const zp="@firebase/firestore",Lp="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let os="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Ly("@firebase/firestore");function Xr(){return Wa.logLevel}function it(l,...n){if(Wa.logLevel<=Nt.DEBUG){const a=n.map(Lf);Wa.debug(`Firestore (${os}): ${l}`,...a)}}function Ri(l,...n){if(Wa.logLevel<=Nt.ERROR){const a=n.map(Lf);Wa.error(`Firestore (${os}): ${l}`,...a)}}function es(l,...n){if(Wa.logLevel<=Nt.WARN){const a=n.map(Lf);Wa.warn(`Firestore (${os}): ${l}`,...a)}}function Lf(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(a){return JSON.stringify(a)}(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(l,n,a){let s="Unexpected state";typeof n=="string"?s=n:a=n,Fy(l,s,a)}function Fy(l,n,a){let s=`FIRESTORE (${os}) INTERNAL ASSERTION FAILED: ${n} (ID: ${l.toString(16)})`;if(a!==void 0)try{s+=" CONTEXT: "+JSON.stringify(a)}catch{s+=" CONTEXT: "+a}throw Ri(s),new Error(s)}function te(l,n,a,s){let o="Unexpected state";typeof a=="string"?o=a:s=a,l||Fy(n,o,s)}function Mt(l,n){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends us{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class v1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable(()=>a(je.UNAUTHENTICATED))}shutdown(){}}class E1{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class T1{constructor(n){this.t=n,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){te(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,a(v)):Promise.resolve();let f=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ja,n.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const v=f;n.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ja)}},0),m()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(s=>this.i!==n?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(te(typeof s.accessToken=="string",31837,{l:s}),new Zy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return te(n===null||typeof n=="string",2055,{h:n}),new je(n)}}class A1{constructor(n,a,s){this.P=n,this.T=a,this.I=s,this.type="FirstParty",this.user=je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S1{constructor(n,a,s){this.P=n,this.T=a,this.I=s}getToken(){return Promise.resolve(new A1(this.P,this.T,this.I))}start(n,a){n.enqueueRetryable(()=>a(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bp{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b1{constructor(n,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,a1(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,a){te(this.o===void 0,3512);const s=f=>{f.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.m;return this.m=f.token,it("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?a(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>s(f))};const o=f=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bp(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(a=>a?(te(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new Bp(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let s=0;s<l;s++)a[s]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=R1(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<a&&(s+=n.charAt(o[f]%62))}return s}}function bt(l,n){return l<n?-1:l>n?1:0}function gf(l,n){let a=0;for(;a<l.length&&a<n.length;){const s=l.codePointAt(a),o=n.codePointAt(a);if(s!==o){if(s<128&&o<128)return bt(s,o);{const f=Jy(),m=C1(f.encode(qp(l,a)),f.encode(qp(n,a)));return m!==0?m:bt(s,o)}}a+=s>65535?2:1}return bt(l.length,n.length)}function qp(l,n){return l.codePointAt(n)>65535?l.substring(n,n+2):l.substring(n,n+1)}function C1(l,n){for(let a=0;a<l.length&&a<n.length;++a)if(l[a]!==n[a])return bt(l[a],n[a]);return bt(l.length,n.length)}function ns(l,n,a){return l.length===n.length&&l.every((s,o)=>a(s,n[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-62135596800,kp=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(n){return We.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),s=Math.floor((n-1e3*a)*kp);return new We(a,s)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<Pp)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kp}_compareTo(n){return this.seconds===n.seconds?bt(this.nanoseconds,n.nanoseconds):bt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const n=this.seconds-Pp;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(n){return new pt(n)}static min(){return new pt(new We(0,0))}static max(){return new pt(new We(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="__name__";class Yn{constructor(n,a,s){a===void 0?a=0:a>n.length&&yt(637,{offset:a,range:n.length}),s===void 0?s=n.length-a:s>n.length-a&&yt(1746,{length:s,range:n.length-a}),this.segments=n,this.offset=a,this.len=s}get length(){return this.len}isEqual(n){return Yn.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof Yn?n.forEach(s=>{a.push(s)}):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,s=this.limit();a<s;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const s=Math.min(n.length,a.length);for(let o=0;o<s;o++){const f=Yn.compareSegments(n.get(o),a.get(o));if(f!==0)return f}return bt(n.length,a.length)}static compareSegments(n,a){const s=Yn.isNumericId(n),o=Yn.isNumericId(a);return s&&!o?-1:!s&&o?1:s&&o?Yn.extractNumericId(n).compare(Yn.extractNumericId(a)):gf(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return ra.fromString(n.substring(4,n.length-2))}}class re extends Yn{construct(n,a,s){return new re(n,a,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const s of n){if(s.indexOf("//")>=0)throw new ht(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);a.push(...s.split("/").filter(o=>o.length>0))}return new re(a)}static emptyPath(){return new re([])}}const D1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Yn{construct(n,a,s){return new Ke(n,a,s)}static isValidIdentifier(n){return D1.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jp}static keyField(){return new Ke([jp])}static fromServerFormat(n){const a=[];let s="",o=0;const f=()=>{if(s.length===0)throw new ht(tt.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(s),s=""};let m=!1;for(;o<n.length;){const y=n[o];if(y==="\\"){if(o+1===n.length)throw new ht(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ht(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=v,o+=2}else y==="`"?(m=!m,o++):y!=="."||m?(s+=y,o++):(f(),o++)}if(f(),m)throw new ht(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ke(a)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(n){this.path=n}static fromPath(n){return new dt(re.fromString(n))}static fromName(n){return new dt(re.fromString(n).popFirst(5))}static empty(){return new dt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&re.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return re.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new dt(new re(n.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function V1(l,n){const a=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(s===1e9?new We(a+1,0):new We(a,s));return new sa(o,dt.empty(),n)}function O1(l){return new sa(l.readTime,l.key,Il)}class sa{constructor(n,a,s){this.readTime=n,this.documentKey=a,this.largestBatchId=s}static min(){return new sa(pt.min(),dt.empty(),Il)}static max(){return new sa(pt.max(),dt.empty(),Il)}}function N1(l,n){let a=l.readTime.compareTo(n.readTime);return a!==0?a:(a=dt.comparator(l.documentKey,n.documentKey),a!==0?a:bt(l.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(l){if(l.code!==tt.FAILED_PRECONDITION||l.message!==M1)throw l;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new Y((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(a,f).next(s,o)}})}toPromise(){return new Promise((n,a)=>{this.next(n,a)})}wrapUserFunction(n){try{const a=n();return a instanceof Y?a:Y.resolve(a)}catch(a){return Y.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction(()=>n(a)):Y.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction(()=>n(a)):Y.reject(a)}static resolve(n){return new Y((a,s)=>{a(n)})}static reject(n){return new Y((a,s)=>{s(n)})}static waitFor(n){return new Y((a,s)=>{let o=0,f=0,m=!1;n.forEach(y=>{++o,y.next(()=>{++f,m&&f===o&&a()},v=>s(v))}),m=!0,f===o&&a()})}static or(n){let a=Y.resolve(!1);for(const s of n)a=a.next(o=>o?Y.resolve(o):s());return a}static forEach(n,a){const s=[];return n.forEach((o,f)=>{s.push(a.call(this,o,f))}),this.waitFor(s)}static mapArray(n,a){return new Y((s,o)=>{const f=n.length,m=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;a(n[_]).next(A=>{m[_]=A,++y,y===f&&s(m)},A=>o(A))}})}static doWhile(n,a){return new Y((s,o)=>{const f=()=>{n()===!0?a().next(()=>{f()},o):s()};f()})}}function x1(l){const n=l.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function cs(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>a.writeSequenceNumber(s))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ce&&this.ce(n),n}}zo.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=-1;function Lo(l){return l==null}function pf(l){return l===0&&1/l==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="";function z1(l){let n="";for(let a=0;a<l.length;a++)n.length>0&&(n=Hp(n)),n=L1(l.get(a),n);return Hp(n)}function L1(l,n){let a=n;const s=l.length;for(let o=0;o<s;o++){const f=l.charAt(o);switch(f){case"\0":a+="";break;case $y:a+="";break;default:a+=f}}return a}function Hp(l){return l+$y+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(l){let n=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n++;return n}function Ll(l,n){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n(a,l[a])}function B1(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(n,a){this.comparator=n,this.root=a||ze.EMPTY}insert(n,a){return new ce(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(n){return new ce(this.comparator,this.root.remove(n,this.comparator).copy(null,null,ze.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const s=this.comparator(n,a.key);if(s===0)return a.value;s<0?a=a.left:s>0&&(a=a.right)}return null}indexOf(n){let a=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(n,s.key);if(o===0)return a+s.left.size;o<0?s=s.left:(a+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((a,s)=>(n(a,s),!1))}toString(){const n=[];return this.inorderTraversal((a,s)=>(n.push(`${a}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new fo(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new fo(this.root,n,this.comparator,!1)}getReverseIterator(){return new fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new fo(this.root,n,this.comparator,!0)}}class fo{constructor(n,a,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=a?s(n.key,a):1,a&&o&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(f===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class ze{constructor(n,a,s,o,f){this.key=n,this.value=a,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=f??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,s,o,f){return new ze(n??this.key,a??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,s){let o=this;const f=s(n,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(n,a,s),null):f===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(n,a,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let s,o=this;if(a(n,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(n,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(n,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(n,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw yt(27949);return n+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(n,a,s,o,f){return this}insert(n,a,s){return new ze(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(n){this.comparator=n,this.data=new ce(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((a,s)=>(n(a),!1))}forEachInRange(n,a){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,n[1])>=0)return;a(o.key)}}forEachWhile(n,a){let s;for(s=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new Qp(this.data.getIterator())}getIteratorFrom(n){return new Qp(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach(s=>{a=a.add(s)}),a}isEqual(n){if(!(n instanceof Ae)||this.size!==n.size)return!1;const a=this.data.getIterator(),s=n.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const n=[];return this.forEach(a=>{n.push(a)}),n}toString(){const n=[];return this.forEach(a=>n.push(a)),"SortedSet("+n.toString()+")"}copy(n){const a=new Ae(this.comparator);return a.data=n,a}}class Qp{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(n){this.fields=n,n.sort(Ke.comparator)}static empty(){return new ea([])}unionWith(n){let a=new Ae(Ke.comparator);for(const s of this.fields)a=a.add(s);for(const s of n)a=a.add(s);return new ea(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return ns(this.fields,n.fields,(a,s)=>a.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(n){this.binaryString=n}static fromBase64String(n){const a=function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Wy("Invalid base64 string: "+f):f}}(n);return new Le(a)}static fromUint8Array(n){const a=function(o){let f="";for(let m=0;m<o.length;++m)f+=String.fromCharCode(o[m]);return f}(n);return new Le(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(a){return btoa(a)}(this.binaryString)}toUint8Array(){return function(a){const s=new Uint8Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return bt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Le.EMPTY_BYTE_STRING=new Le("");const q1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(l){if(te(!!l,39018),typeof l=="string"){let n=0;const a=q1.exec(l);if(te(!!a,46558,{timestamp:l}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),n=Number(o)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:oe(l.seconds),nanos:oe(l.nanos)}}function oe(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function ua(l){return typeof l=="string"?Le.fromBase64String(l):Le.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="server_timestamp",e_="__type__",n_="__previous_value__",i_="__local_write_time__";function Bf(l){var n,a;return((a=(((n=l==null?void 0:l.mapValue)===null||n===void 0?void 0:n.fields)||{})[e_])===null||a===void 0?void 0:a.stringValue)===t_}function Bo(l){const n=l.mapValue.fields[n_];return Bf(n)?Bo(n):n}function xl(l){const n=la(l.mapValue.fields[i_].timestampValue);return new We(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(n,a,s,o,f,m,y,v,_,A){this.databaseId=n,this.appId=a,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Co="(default)";class Ul{constructor(n,a){this.projectId=n,this.database=a||Co}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Co}isEqual(n){return n instanceof Ul&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="__type__",j1="__max__",mo={mapValue:{}},H1="__vector__",yf="value";function oa(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Bf(l)?4:Q1(l)?9007199254740991:G1(l)?10:11:yt(28295,{value:l})}function Fn(l,n){if(l===n)return!0;const a=oa(l);if(a!==oa(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return xl(l).isEqual(xl(n));case 3:return function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const m=la(o.timestampValue),y=la(f.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return function(o,f){return ua(o.bytesValue).isEqual(ua(f.bytesValue))}(l,n);case 7:return l.referenceValue===n.referenceValue;case 8:return function(o,f){return oe(o.geoPointValue.latitude)===oe(f.geoPointValue.latitude)&&oe(o.geoPointValue.longitude)===oe(f.geoPointValue.longitude)}(l,n);case 2:return function(o,f){if("integerValue"in o&&"integerValue"in f)return oe(o.integerValue)===oe(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const m=oe(o.doubleValue),y=oe(f.doubleValue);return m===y?pf(m)===pf(y):isNaN(m)&&isNaN(y)}return!1}(l,n);case 9:return ns(l.arrayValue.values||[],n.arrayValue.values||[],Fn);case 10:case 11:return function(o,f){const m=o.mapValue.fields||{},y=f.mapValue.fields||{};if(Gp(m)!==Gp(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!Fn(m[v],y[v])))return!1;return!0}(l,n);default:return yt(52216,{left:l})}}function zl(l,n){return(l.values||[]).find(a=>Fn(a,n))!==void 0}function is(l,n){if(l===n)return 0;const a=oa(l),s=oa(n);if(a!==s)return bt(a,s);switch(a){case 0:case 9007199254740991:return 0;case 1:return bt(l.booleanValue,n.booleanValue);case 2:return function(f,m){const y=oe(f.integerValue||f.doubleValue),v=oe(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1}(l,n);case 3:return Yp(l.timestampValue,n.timestampValue);case 4:return Yp(xl(l),xl(n));case 5:return gf(l.stringValue,n.stringValue);case 6:return function(f,m){const y=ua(f),v=ua(m);return y.compareTo(v)}(l.bytesValue,n.bytesValue);case 7:return function(f,m){const y=f.split("/"),v=m.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=bt(y[_],v[_]);if(A!==0)return A}return bt(y.length,v.length)}(l.referenceValue,n.referenceValue);case 8:return function(f,m){const y=bt(oe(f.latitude),oe(m.latitude));return y!==0?y:bt(oe(f.longitude),oe(m.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return Xp(l.arrayValue,n.arrayValue);case 10:return function(f,m){var y,v,_,A;const x=f.fields||{},z=m.fields||{},K=(y=x[yf])===null||y===void 0?void 0:y.arrayValue,J=(v=z[yf])===null||v===void 0?void 0:v.arrayValue,rt=bt(((_=K==null?void 0:K.values)===null||_===void 0?void 0:_.length)||0,((A=J==null?void 0:J.values)===null||A===void 0?void 0:A.length)||0);return rt!==0?rt:Xp(K,J)}(l.mapValue,n.mapValue);case 11:return function(f,m){if(f===mo.mapValue&&m===mo.mapValue)return 0;if(f===mo.mapValue)return 1;if(m===mo.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=m.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let x=0;x<v.length&&x<A.length;++x){const z=gf(v[x],A[x]);if(z!==0)return z;const K=is(y[v[x]],_[A[x]]);if(K!==0)return K}return bt(v.length,A.length)}(l.mapValue,n.mapValue);default:throw yt(23264,{Pe:a})}}function Yp(l,n){if(typeof l=="string"&&typeof n=="string"&&l.length===n.length)return bt(l,n);const a=la(l),s=la(n),o=bt(a.seconds,s.seconds);return o!==0?o:bt(a.nanos,s.nanos)}function Xp(l,n){const a=l.values||[],s=n.values||[];for(let o=0;o<a.length&&o<s.length;++o){const f=is(a[o],s[o]);if(f)return f}return bt(a.length,s.length)}function as(l){return _f(l)}function _f(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(a){const s=la(a);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?function(a){return ua(a).toBase64()}(l.bytesValue):"referenceValue"in l?function(a){return dt.fromName(a).toString()}(l.referenceValue):"geoPointValue"in l?function(a){return`geo(${a.latitude},${a.longitude})`}(l.geoPointValue):"arrayValue"in l?function(a){let s="[",o=!0;for(const f of a.values||[])o?o=!1:s+=",",s+=_f(f);return s+"]"}(l.arrayValue):"mapValue"in l?function(a){const s=Object.keys(a.fields||{}).sort();let o="{",f=!0;for(const m of s)f?f=!1:o+=",",o+=`${m}:${_f(a.fields[m])}`;return o+"}"}(l.mapValue):yt(61005,{value:l})}function vo(l){switch(oa(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Bo(l);return n?16+vo(n):16;case 5:return 2*l.stringValue.length;case 6:return ua(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,f)=>o+vo(f),0)}(l.arrayValue);case 10:case 11:return function(s){let o=0;return Ll(s.fields,(f,m)=>{o+=f.length+vo(m)}),o}(l.mapValue);default:throw yt(13486,{value:l})}}function vf(l){return!!l&&"integerValue"in l}function qf(l){return!!l&&"arrayValue"in l}function Kp(l){return!!l&&"nullValue"in l}function Fp(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function af(l){return!!l&&"mapValue"in l}function G1(l){var n,a;return((a=(((n=l==null?void 0:l.mapValue)===null||n===void 0?void 0:n.fields)||{})[k1])===null||a===void 0?void 0:a.stringValue)===H1}function Cl(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Ll(l.mapValue.fields,(a,s)=>n.mapValue.fields[a]=Cl(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Cl(l.arrayValue.values[a]);return n}return Object.assign({},l)}function Q1(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===j1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(n){this.value=n}static empty(){return new Xn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let s=0;s<n.length-1;++s)if(a=(a.mapValue.fields||{})[n.get(s)],!af(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Cl(a)}setAll(n){let a=Ke.emptyPath(),s={},o=[];n.forEach((m,y)=>{if(!a.isImmediateParentOf(y)){const v=this.getFieldsMap(a);this.applyChanges(v,s,o),s={},o=[],a=y.popLast()}m?s[y.lastSegment()]=Cl(m):o.push(y.lastSegment())});const f=this.getFieldsMap(a);this.applyChanges(f,s,o)}delete(n){const a=this.field(n.popLast());af(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return Fn(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let s=0;s<n.length;++s){let o=a.mapValue.fields[n.get(s)];af(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[n.get(s)]=o),a=o}return a.mapValue.fields}applyChanges(n,a,s){Ll(a,(o,f)=>n[o]=f);for(const o of s)delete n[o]}clone(){return new Xn(Cl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(n,a,s,o,f,m,y){this.key=n,this.documentType=a,this.version=s,this.readTime=o,this.createTime=f,this.data=m,this.documentState=y}static newInvalidDocument(n){return new He(n,0,pt.min(),pt.min(),pt.min(),Xn.empty(),0)}static newFoundDocument(n,a,s,o){return new He(n,1,a,pt.min(),s,o,0)}static newNoDocument(n,a){return new He(n,2,a,pt.min(),pt.min(),Xn.empty(),0)}static newUnknownDocument(n,a){return new He(n,3,a,pt.min(),pt.min(),Xn.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof He&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(n,a){this.position=n,this.inclusive=a}}function Zp(l,n,a){let s=0;for(let o=0;o<l.position.length;o++){const f=n[o],m=l.position[o];if(f.field.isKeyField()?s=dt.comparator(dt.fromName(m.referenceValue),a.key):s=is(m,a.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jp(l,n){if(l===null)return n===null;if(n===null||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!Fn(l.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(n,a="asc"){this.field=n,this.dir=a}}function Y1(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{}class Te extends a_{constructor(n,a,s){super(),this.field=n,this.op=a,this.value=s}static create(n,a,s){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,s):new K1(n,a,s):a==="array-contains"?new J1(n,s):a==="in"?new $1(n,s):a==="not-in"?new W1(n,s):a==="array-contains-any"?new tT(n,s):new Te(n,a,s)}static createKeyFieldInFilter(n,a,s){return a==="in"?new F1(n,s):new Z1(n,s)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(is(a,this.value)):a!==null&&oa(this.value)===oa(a)&&this.matchesComparison(is(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends a_{constructor(n,a){super(),this.filters=n,this.op=a,this.Te=null}static create(n,a){return new Zn(n,a)}matches(n){return r_(this)?this.filters.find(a=>!a.matches(n))===void 0:this.filters.find(a=>a.matches(n))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((n,a)=>n.concat(a.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function r_(l){return l.op==="and"}function s_(l){return X1(l)&&r_(l)}function X1(l){for(const n of l.filters)if(n instanceof Zn)return!1;return!0}function Ef(l){if(l instanceof Te)return l.field.canonicalString()+l.op.toString()+as(l.value);if(s_(l))return l.filters.map(n=>Ef(n)).join(",");{const n=l.filters.map(a=>Ef(a)).join(",");return`${l.op}(${n})`}}function l_(l,n){return l instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&Fn(s.value,o.value)}(l,n):l instanceof Zn?function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((f,m,y)=>f&&l_(m,o.filters[y]),!0):!1}(l,n):void yt(19439)}function u_(l){return l instanceof Te?function(a){return`${a.field.canonicalString()} ${a.op} ${as(a.value)}`}(l):l instanceof Zn?function(a){return a.op.toString()+" {"+a.getFilters().map(u_).join(" ,")+"}"}(l):"Filter"}class K1 extends Te{constructor(n,a,s){super(n,a,s),this.key=dt.fromName(s.referenceValue)}matches(n){const a=dt.comparator(n.key,this.key);return this.matchesComparison(a)}}class F1 extends Te{constructor(n,a){super(n,"in",a),this.keys=o_("in",a)}matches(n){return this.keys.some(a=>a.isEqual(n.key))}}class Z1 extends Te{constructor(n,a){super(n,"not-in",a),this.keys=o_("not-in",a)}matches(n){return!this.keys.some(a=>a.isEqual(n.key))}}function o_(l,n){var a;return(((a=n.arrayValue)===null||a===void 0?void 0:a.values)||[]).map(s=>dt.fromName(s.referenceValue))}class J1 extends Te{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return qf(a)&&zl(a.arrayValue,this.value)}}class $1 extends Te{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&zl(this.value.arrayValue,a)}}class W1 extends Te{constructor(n,a){super(n,"not-in",a)}matches(n){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&a.nullValue===void 0&&!zl(this.value.arrayValue,a)}}class tT extends Te{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!qf(a)||!a.arrayValue.values)&&a.arrayValue.values.some(s=>zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(n,a=null,s=[],o=[],f=null,m=null,y=null){this.path=n,this.collectionGroup=a,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=m,this.endAt=y,this.Ie=null}}function $p(l,n=null,a=[],s=[],o=null,f=null,m=null){return new eT(l,n,a,s,o,f,m)}function Pf(l){const n=Mt(l);if(n.Ie===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map(s=>Ef(s)).join(","),a+="|ob:",a+=n.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),Lo(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(s=>as(s)).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(s=>as(s)).join(",")),n.Ie=a}return n.Ie}function kf(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<l.orderBy.length;a++)if(!Y1(l.orderBy[a],n.orderBy[a]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let a=0;a<l.filters.length;a++)if(!l_(l.filters[a],n.filters[a]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!Jp(l.startAt,n.startAt)&&Jp(l.endAt,n.endAt)}function Tf(l){return dt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(n,a=null,s=[],o=[],f=null,m="F",y=null,v=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=m,this.startAt=y,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function nT(l,n,a,s,o,f,m,y){return new qo(l,n,a,s,o,f,m,y)}function c_(l){return new qo(l)}function Wp(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function iT(l){return l.collectionGroup!==null}function Dl(l){const n=Mt(l);if(n.Ee===null){n.Ee=[];const a=new Set;for(const f of n.explicitOrderBy)n.Ee.push(f),a.add(f.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new Ae(Ke.comparator);return m.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(y=y.add(_.field))})}),y})(n).forEach(f=>{a.has(f.canonicalString())||f.isKeyField()||n.Ee.push(new Vo(f,s))}),a.has(Ke.keyField().canonicalString())||n.Ee.push(new Vo(Ke.keyField(),s))}return n.Ee}function Kn(l){const n=Mt(l);return n.de||(n.de=aT(n,Dl(l))),n.de}function aT(l,n){if(l.limitType==="F")return $p(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(o=>{const f=o.dir==="desc"?"asc":"desc";return new Vo(o.field,f)});const a=l.endAt?new Do(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new Do(l.startAt.position,l.startAt.inclusive):null;return $p(l.path,l.collectionGroup,n,l.filters,l.limit,a,s)}}function Af(l,n,a){return new qo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,a,l.startAt,l.endAt)}function Po(l,n){return kf(Kn(l),Kn(n))&&l.limitType===n.limitType}function h_(l){return`${Pf(Kn(l))}|lt:${l.limitType}`}function Kr(l){return`Query(target=${function(a){let s=a.path.canonicalString();return a.collectionGroup!==null&&(s+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(s+=`, filters: [${a.filters.map(o=>u_(o)).join(", ")}]`),Lo(a.limit)||(s+=", limit: "+a.limit),a.orderBy.length>0&&(s+=`, orderBy: [${a.orderBy.map(o=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(o)).join(", ")}]`),a.startAt&&(s+=", startAt: ",s+=a.startAt.inclusive?"b:":"a:",s+=a.startAt.position.map(o=>as(o)).join(",")),a.endAt&&(s+=", endAt: ",s+=a.endAt.inclusive?"a:":"b:",s+=a.endAt.position.map(o=>as(o)).join(",")),`Target(${s})`}(Kn(l))}; limitType=${l.limitType})`}function ko(l,n){return n.isFoundDocument()&&function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):dt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(l,n)&&function(s,o){for(const f of Dl(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0}(l,n)&&function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0}(l,n)&&function(s,o){return!(s.startAt&&!function(m,y,v){const _=Zp(m,y,v);return m.inclusive?_<=0:_<0}(s.startAt,Dl(s),o)||s.endAt&&!function(m,y,v){const _=Zp(m,y,v);return m.inclusive?_>=0:_>0}(s.endAt,Dl(s),o))}(l,n)}function rT(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function f_(l){return(n,a)=>{let s=!1;for(const o of Dl(l)){const f=sT(o,n,a);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function sT(l,n,a){const s=l.field.isKeyField()?dt.comparator(n.key,a.key):function(f,m,y){const v=m.data.field(f),_=y.data.field(f);return v!==null&&_!==null?is(v,_):yt(42886)}(l.field,n,a);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:l.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),s=this.inner[a];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,n))return f}}has(n){return this.get(n)!==void 0}set(n,a){const s=this.mapKeyFn(n),o=this.inner[s];if(o===void 0)return this.inner[s]=[[n,a]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],n))return void(o[f]=[n,a]);o.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),s=this.inner[a];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],n))return s.length===1?delete this.inner[a]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(n){Ll(this.inner,(a,s)=>{for(const[o,f]of s)n(o,f)})}isEmpty(){return B1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new ce(dt.comparator);function ca(){return lT}const d_=new ce(dt.comparator);function bl(...l){let n=d_;for(const a of l)n=n.insert(a.key,a);return n}function uT(l){let n=d_;return l.forEach((a,s)=>n=n.insert(a,s.overlayedDocument)),n}function Za(){return Vl()}function m_(){return Vl()}function Vl(){return new tr(l=>l.toString(),(l,n)=>l.isEqual(n))}const oT=new Ae(dt.comparator);function It(...l){let n=oT;for(const a of l)n=n.add(a);return n}const cT=new Ae(bt);function hT(){return cT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(n)?"-0":n}}function dT(l){return{integerValue:""+l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this._=void 0}}function mT(l,n,a){return l instanceof Sf?function(o,f){const m={fields:{[e_]:{stringValue:t_},[i_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&Bf(f)&&(f=Bo(f)),f&&(m.fields[n_]=f),{mapValue:m}}(a,n):l instanceof Oo?g_(l,n):l instanceof No?p_(l,n):function(o,f){const m=pT(o,f),y=ty(m)+ty(o.Re);return vf(m)&&vf(o.Re)?dT(y):fT(o.serializer,y)}(l,n)}function gT(l,n,a){return l instanceof Oo?g_(l,n):l instanceof No?p_(l,n):a}function pT(l,n){return l instanceof bf?function(s){return vf(s)||function(f){return!!f&&"doubleValue"in f}(s)}(n)?n:{integerValue:0}:null}class Sf extends jo{}class Oo extends jo{constructor(n){super(),this.elements=n}}function g_(l,n){const a=y_(n);for(const s of l.elements)a.some(o=>Fn(o,s))||a.push(s);return{arrayValue:{values:a}}}class No extends jo{constructor(n){super(),this.elements=n}}function p_(l,n){let a=y_(n);for(const s of l.elements)a=a.filter(o=>!Fn(o,s));return{arrayValue:{values:a}}}class bf extends jo{constructor(n,a){super(),this.serializer=n,this.Re=a}}function ty(l){return oe(l.integerValue||l.doubleValue)}function y_(l){return qf(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function yT(l,n){return l.field.isEqual(n.field)&&function(s,o){return s instanceof Oo&&o instanceof Oo||s instanceof No&&o instanceof No?ns(s.elements,o.elements,Fn):s instanceof bf&&o instanceof bf?Fn(s.Re,o.Re):s instanceof Sf&&o instanceof Sf}(l.transform,n.transform)}class $a{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new $a}static exists(n){return new $a(void 0,n)}static updateTime(n){return new $a(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Eo(l,n){return l.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(l.updateTime):l.exists===void 0||l.exists===n.isFoundDocument()}class jf{}function __(l,n){if(!l.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return l.isNoDocument()?new vT(l.key,$a.none()):new Hf(l.key,l.data,$a.none());{const a=l.data,s=Xn.empty();let o=new Ae(Ke.comparator);for(let f of n.fields)if(!o.has(f)){let m=a.field(f);m===null&&f.length>1&&(f=f.popLast(),m=a.field(f)),m===null?s.delete(f):s.set(f,m),o=o.add(f)}return new Ho(l.key,s,new ea(o.toArray()),$a.none())}}function _T(l,n,a){l instanceof Hf?function(o,f,m){const y=o.value.clone(),v=ny(o.fieldTransforms,f,m.transformResults);y.setAll(v),f.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(l,n,a):l instanceof Ho?function(o,f,m){if(!Eo(o.precondition,f))return void f.convertToUnknownDocument(m.version);const y=ny(o.fieldTransforms,f,m.transformResults),v=f.data;v.setAll(v_(o)),v.setAll(y),f.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(l,n,a):function(o,f,m){f.convertToNoDocument(m.version).setHasCommittedMutations()}(0,n,a)}function Ol(l,n,a,s){return l instanceof Hf?function(f,m,y,v){if(!Eo(f.precondition,m))return y;const _=f.value.clone(),A=iy(f.fieldTransforms,v,m);return _.setAll(A),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null}(l,n,a,s):l instanceof Ho?function(f,m,y,v){if(!Eo(f.precondition,m))return y;const _=iy(f.fieldTransforms,v,m),A=m.data;return A.setAll(v_(f)),A.setAll(_),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(x=>x.field))}(l,n,a,s):function(f,m,y){return Eo(f.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y}(l,n,a)}function ey(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ns(s,o,(f,m)=>yT(f,m))}(l.fieldTransforms,n.fieldTransforms)&&(l.type===0?l.value.isEqual(n.value):l.type!==1||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask))}class Hf extends jf{constructor(n,a,s,o=[]){super(),this.key=n,this.value=a,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ho extends jf{constructor(n,a,s,o,f=[]){super(),this.key=n,this.data=a,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function v_(l){const n=new Map;return l.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const s=l.data.field(a);n.set(a,s)}}),n}function ny(l,n,a){const s=new Map;te(l.length===a.length,32656,{Ve:a.length,me:l.length});for(let o=0;o<a.length;o++){const f=l[o],m=f.transform,y=n.data.field(f.field);s.set(f.field,gT(m,y,a[o]))}return s}function iy(l,n,a){const s=new Map;for(const o of l){const f=o.transform,m=a.data.field(o.field);s.set(o.field,mT(f,m,n))}return s}class vT extends jf{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(n,a,s,o){this.batchId=n,this.localWriteTime=a,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(n,a){const s=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(n.key)&&_T(f,n,s[o])}}applyToLocalView(n,a){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(a=Ol(s,n,a,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(a=Ol(s,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const s=m_();return this.mutations.forEach(o=>{const f=n.get(o.key),m=f.overlayedDocument;let y=this.applyToLocalView(m,f.mutatedFields);y=a.has(o.key)?null:y;const v=__(m,y);v!==null&&s.set(o.key,v),m.isValidDocument()||m.convertToNoDocument(pt.min())}),s}keys(){return this.mutations.reduce((n,a)=>n.add(a.key),It())}isEqual(n){return this.batchId===n.batchId&&ns(this.mutations,n.mutations,(a,s)=>ey(a,s))&&ns(this.baseMutations,n.baseMutations,(a,s)=>ey(a,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(n,a){this.count=n,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ot;function E_(l){if(l===void 0)return Ri("GRPC error has no .code"),tt.UNKNOWN;switch(l){case ge.OK:return tt.OK;case ge.CANCELLED:return tt.CANCELLED;case ge.UNKNOWN:return tt.UNKNOWN;case ge.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ge.INTERNAL:return tt.INTERNAL;case ge.UNAVAILABLE:return tt.UNAVAILABLE;case ge.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ge.NOT_FOUND:return tt.NOT_FOUND;case ge.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ge.ABORTED:return tt.ABORTED;case ge.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ge.DATA_LOSS:return tt.DATA_LOSS;default:return yt(39323,{code:l})}}(Ot=ge||(ge={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new ra([4294967295,4294967295],0);function ay(l){const n=Jy().encode(l),a=new Hy;return a.update(n),new Uint8Array(a.digest())}function ry(l){const n=new DataView(l.buffer),a=n.getUint32(0,!0),s=n.getUint32(4,!0),o=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new ra([a,s],0),new ra([o,f],0)]}class Gf{constructor(n,a,s){if(this.bitmap=n,this.padding=a,this.hashCount=s,a<0||a>=8)throw new Rl(`Invalid padding: ${a}`);if(s<0)throw new Rl(`Invalid hash count: ${s}`);if(n.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${s}`);if(n.length===0&&a!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${a}`);this.pe=8*n.length-a,this.ye=ra.fromNumber(this.pe)}we(n,a,s){let o=n.add(a.multiply(ra.fromNumber(s)));return o.compare(ST)===1&&(o=new ra([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.pe===0)return!1;const a=ay(n),[s,o]=ry(a);for(let f=0;f<this.hashCount;f++){const m=this.we(s,o,f);if(!this.be(m))return!1}return!0}static create(n,a,s){const o=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),m=new Gf(f,o,a);return s.forEach(y=>m.insert(y)),m}insert(n){if(this.pe===0)return;const a=ay(n),[s,o]=ry(a);for(let f=0;f<this.hashCount;f++){const m=this.we(s,o,f);this.Se(m)}}Se(n){const a=Math.floor(n/8),s=n%8;this.bitmap[a]|=1<<s}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(n,a,s,o,f){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,a,s){const o=new Map;return o.set(n,Bl.createSynthesizedTargetChangeForCurrentChange(n,a,s)),new Go(pt.min(),o,new ce(bt),ca(),It())}}class Bl{constructor(n,a,s,o,f){this.resumeToken=n,this.current=a,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,a,s){return new Bl(s,a,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(n,a,s,o){this.De=n,this.removedTargetIds=a,this.key=s,this.ve=o}}class T_{constructor(n,a){this.targetId=n,this.Ce=a}}class A_{constructor(n,a,s=Le.EMPTY_BYTE_STRING,o=null){this.state=n,this.targetIds=a,this.resumeToken=s,this.cause=o}}class sy{constructor(){this.Fe=0,this.Me=ly(),this.xe=Le.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=It(),a=It(),s=It();return this.Me.forEach((o,f)=>{switch(f){case 0:n=n.add(o);break;case 2:a=a.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:f})}}),new Bl(this.xe,this.Oe,n,a,s)}Qe(){this.Ne=!1,this.Me=ly()}$e(n,a){this.Ne=!0,this.Me=this.Me.insert(n,a)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,te(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bT{constructor(n){this.ze=n,this.je=new Map,this.He=ca(),this.Je=go(),this.Ye=go(),this.Ze=new ce(bt)}Xe(n){for(const a of n.De)n.ve&&n.ve.isFoundDocument()?this.et(a,n.ve):this.tt(a,n.key,n.ve);for(const a of n.removedTargetIds)this.tt(a,n.key,n.ve)}nt(n){this.forEachTarget(n,a=>{const s=this.rt(a);switch(n.state){case 0:this.it(a)&&s.ke(n.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(n.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(a);break;case 3:this.it(a)&&(s.Ge(),s.ke(n.resumeToken));break;case 4:this.it(a)&&(this.st(a),s.ke(n.resumeToken));break;default:yt(56790,{state:n.state})}})}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.je.forEach((s,o)=>{this.it(o)&&a(o)})}ot(n){const a=n.targetId,s=n.Ce.count,o=this._t(a);if(o){const f=o.target;if(Tf(f))if(s===0){const m=new dt(f.path);this.tt(a,m,He.newNoDocument(m,pt.min()))}else te(s===1,20013,{expectedCount:s});else{const m=this.ut(a);if(m!==s){const y=this.ct(n),v=y?this.lt(y,n,m):1;if(v!==0){this.st(a);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(a,_)}}}}}ct(n){const a=n.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=a;let m,y;try{m=ua(s).toUint8Array()}catch(v){if(v instanceof Wy)return es("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Gf(m,o,f)}catch(v){return es(v instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.pe===0?null:y}lt(n,a,s){return a.Ce.count===s-this.Tt(n,a.targetId)?0:2}Tt(n,a){const s=this.ze.getRemoteKeysForTarget(a);let o=0;return s.forEach(f=>{const m=this.ze.Pt(),y=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;n.mightContain(y)||(this.tt(a,f,null),o++)}),o}It(n){const a=new Map;this.je.forEach((f,m)=>{const y=this._t(m);if(y){if(f.current&&Tf(y.target)){const v=new dt(y.target.path);this.Et(v).has(m)||this.dt(m,v)||this.tt(m,v,He.newNoDocument(v,n))}f.Le&&(a.set(m,f.qe()),f.Qe())}});let s=It();this.Ye.forEach((f,m)=>{let y=!0;m.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(s=s.add(f))}),this.He.forEach((f,m)=>m.setReadTime(n));const o=new Go(n,a,this.Ze,this.He,s);return this.He=ca(),this.Je=go(),this.Ye=go(),this.Ze=new ce(bt),o}et(n,a){if(!this.it(n))return;const s=this.dt(n,a.key)?2:0;this.rt(n).$e(a.key,s),this.He=this.He.insert(a.key,a),this.Je=this.Je.insert(a.key,this.Et(a.key).add(n)),this.Ye=this.Ye.insert(a.key,this.At(a.key).add(n))}tt(n,a,s){if(!this.it(n))return;const o=this.rt(n);this.dt(n,a)?o.$e(a,1):o.Ue(a),this.Ye=this.Ye.insert(a,this.At(a).delete(n)),this.Ye=this.Ye.insert(a,this.At(a).add(n)),s&&(this.He=this.He.insert(a,s))}removeTarget(n){this.je.delete(n)}ut(n){const a=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let a=this.je.get(n);return a||(a=new sy,this.je.set(n,a)),a}At(n){let a=this.Ye.get(n);return a||(a=new Ae(bt),this.Ye=this.Ye.insert(n,a)),a}Et(n){let a=this.Je.get(n);return a||(a=new Ae(bt),this.Je=this.Je.insert(n,a)),a}it(n){const a=this._t(n)!==null;return a||it("WatchChangeAggregator","Detected inactive target",n),a}_t(n){const a=this.je.get(n);return a&&a.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new sy),this.ze.getRemoteKeysForTarget(n).forEach(a=>{this.tt(n,a,null)})}dt(n,a){return this.ze.getRemoteKeysForTarget(n).has(a)}}function go(){return new ce(dt.comparator)}function ly(){return new ce(dt.comparator)}const RT={asc:"ASCENDING",desc:"DESCENDING"},wT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CT={and:"AND",or:"OR"};class DT{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function Rf(l,n){return l.useProto3Json||Lo(n)?n:{value:n}}function VT(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function OT(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function $r(l){return te(!!l,49232),pt.fromTimestamp(function(a){const s=la(a);return new We(s.seconds,s.nanos)}(l))}function NT(l,n){return wf(l,n).canonicalString()}function wf(l,n){const a=function(o){return new re(["projects",o.projectId,"databases",o.database])}(l).child("documents");return n===void 0?a:a.child(n)}function S_(l){const n=re.fromString(l);return te(D_(n),10190,{key:n.toString()}),n}function rf(l,n){const a=S_(n);if(a.get(1)!==l.databaseId.projectId)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new dt(R_(a))}function b_(l,n){return NT(l.databaseId,n)}function MT(l){const n=S_(l);return n.length===4?re.emptyPath():R_(n)}function uy(l){return new re(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function R_(l){return te(l.length>4&&l.get(4)==="documents",29091,{key:l.toString()}),l.popFirst(5)}function IT(l,n){let a;if("targetChange"in n){n.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})}(n.targetChange.targetChangeType||"NO_CHANGE"),o=n.targetChange.targetIds||[],f=function(_,A){return _.useProto3Json?(te(A===void 0||typeof A=="string",58123),Le.fromBase64String(A||"")):(te(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Le.fromUint8Array(A||new Uint8Array))}(l,n.targetChange.resumeToken),m=n.targetChange.cause,y=m&&function(_){const A=_.code===void 0?tt.UNKNOWN:E_(_.code);return new ht(A,_.message||"")}(m);a=new A_(s,o,f,y||null)}else if("documentChange"in n){n.documentChange;const s=n.documentChange;s.document,s.document.name,s.document.updateTime;const o=rf(l,s.document.name),f=$r(s.document.updateTime),m=s.document.createTime?$r(s.document.createTime):pt.min(),y=new Xn({mapValue:{fields:s.document.fields}}),v=He.newFoundDocument(o,f,m,y),_=s.targetIds||[],A=s.removedTargetIds||[];a=new To(_,A,v.key,v)}else if("documentDelete"in n){n.documentDelete;const s=n.documentDelete;s.document;const o=rf(l,s.document),f=s.readTime?$r(s.readTime):pt.min(),m=He.newNoDocument(o,f),y=s.removedTargetIds||[];a=new To([],y,m.key,m)}else if("documentRemove"in n){n.documentRemove;const s=n.documentRemove;s.document;const o=rf(l,s.document),f=s.removedTargetIds||[];a=new To([],f,o,null)}else{if(!("filter"in n))return yt(11601,{Vt:n});{n.filter;const s=n.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,m=new AT(o,f),y=s.targetId;a=new T_(y,m)}}return a}function xT(l,n){return{documents:[b_(l,n.path)]}}function UT(l,n){const a={structuredQuery:{}},s=n.path;let o;n.collectionGroup!==null?(o=s,a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o=s.popLast(),a.structuredQuery.from=[{collectionId:s.lastSegment()}]),a.parent=b_(l,o);const f=function(_){if(_.length!==0)return C_(Zn.create(_,"and"))}(n.filters);f&&(a.structuredQuery.where=f);const m=function(_){if(_.length!==0)return _.map(A=>function(z){return{field:Fr(z.field),direction:BT(z.dir)}}(A))}(n.orderBy);m&&(a.structuredQuery.orderBy=m);const y=Rf(l,n.limit);return y!==null&&(a.structuredQuery.limit=y),n.startAt&&(a.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(n.startAt)),n.endAt&&(a.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(n.endAt)),{gt:a,parent:o}}function zT(l){let n=MT(l.parent);const a=l.structuredQuery,s=a.from?a.from.length:0;let o=null;if(s>0){te(s===1,65062);const A=a.from[0];A.allDescendants?o=A.collectionId:n=n.child(A.collectionId)}let f=[];a.where&&(f=function(x){const z=w_(x);return z instanceof Zn&&s_(z)?z.getFilters():[z]}(a.where));let m=[];a.orderBy&&(m=function(x){return x.map(z=>function(J){return new Vo(Zr(J.field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(z))}(a.orderBy));let y=null;a.limit&&(y=function(x){let z;return z=typeof x=="object"?x.value:x,Lo(z)?null:z}(a.limit));let v=null;a.startAt&&(v=function(x){const z=!!x.before,K=x.values||[];return new Do(K,z)}(a.startAt));let _=null;return a.endAt&&(_=function(x){const z=!x.before,K=x.values||[];return new Do(K,z)}(a.endAt)),nT(n,o,m,f,y,"F",v,_)}function LT(l,n){const a=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}}(n.purpose);return a==null?null:{"goog-listen-tags":a}}function w_(l){return l.unaryFilter!==void 0?function(a){switch(a.unaryFilter.op){case"IS_NAN":const s=Zr(a.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Zr(a.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Zr(a.unaryFilter.field);return Te.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Zr(a.unaryFilter.field);return Te.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(l):l.fieldFilter!==void 0?function(a){return Te.create(Zr(a.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(a.fieldFilter.op),a.fieldFilter.value)}(l):l.compositeFilter!==void 0?function(a){return Zn.create(a.compositeFilter.filters.map(s=>w_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(a.compositeFilter.op))}(l):yt(30097,{filter:l})}function BT(l){return RT[l]}function qT(l){return wT[l]}function PT(l){return CT[l]}function Fr(l){return{fieldPath:l.canonicalString()}}function Zr(l){return Ke.fromServerFormat(l.fieldPath)}function C_(l){return l instanceof Te?function(a){if(a.op==="=="){if(Fp(a.value))return{unaryFilter:{field:Fr(a.field),op:"IS_NAN"}};if(Kp(a.value))return{unaryFilter:{field:Fr(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(Fp(a.value))return{unaryFilter:{field:Fr(a.field),op:"IS_NOT_NAN"}};if(Kp(a.value))return{unaryFilter:{field:Fr(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fr(a.field),op:qT(a.op),value:a.value}}}(l):l instanceof Zn?function(a){const s=a.getFilters().map(o=>C_(o));return s.length===1?s[0]:{compositeFilter:{op:PT(a.op),filters:s}}}(l):yt(54877,{filter:l})}function D_(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(n,a,s,o,f=pt.min(),m=pt.min(),y=Le.EMPTY_BYTE_STRING,v=null){this.target=n,this.targetId=a,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(n){return new na(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,a){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(n){this.wt=n}}function jT(l){const n=zT({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?Af(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.Cn=new GT}addToCollectionParentIndex(n,a){return this.Cn.add(a),Y.resolve()}getCollectionParents(n,a){return Y.resolve(this.Cn.getEntries(a))}addFieldIndex(n,a){return Y.resolve()}deleteFieldIndex(n,a){return Y.resolve()}deleteAllFieldIndexes(n){return Y.resolve()}createTargetIndexes(n,a){return Y.resolve()}getDocumentsMatchingTarget(n,a){return Y.resolve(null)}getIndexType(n,a){return Y.resolve(0)}getFieldIndexes(n,a){return Y.resolve([])}getNextCollectionGroupToUpdate(n){return Y.resolve(null)}getMinOffset(n,a){return Y.resolve(sa.min())}getMinOffsetFromCollectionGroup(n,a){return Y.resolve(sa.min())}updateCollectionGroup(n,a,s){return Y.resolve()}updateIndexEntries(n,a){return Y.resolve()}}class GT{constructor(){this.index={}}add(n){const a=n.lastSegment(),s=n.popLast(),o=this.index[a]||new Ae(re.comparator),f=!o.has(s);return this.index[a]=o.add(s),f}has(n){const a=n.lastSegment(),s=n.popLast(),o=this.index[a];return o&&o.has(s)}getEntries(n){return(this.index[n]||new Ae(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},V_=41943040;class $e{static withCacheSize(n){return new $e(n,$e.DEFAULT_COLLECTION_PERCENTILE,$e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$e.DEFAULT_COLLECTION_PERCENTILE=10,$e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$e.DEFAULT=new $e(V_,$e.DEFAULT_COLLECTION_PERCENTILE,$e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$e.DISABLED=new $e(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new rs(0)}static lr(){return new rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LruGarbageCollector",QT=1048576;function hy([l,n],[a,s]){const o=bt(l,a);return o===0?bt(n,s):o}class YT{constructor(n){this.Er=n,this.buffer=new Ae(hy),this.dr=0}Ar(){return++this.dr}Rr(n){const a=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(a);else{const s=this.buffer.last();hy(a,s)<0&&(this.buffer=this.buffer.delete(s).add(a))}}get maxValue(){return this.buffer.last()[0]}}class XT{constructor(n,a,s){this.garbageCollector=n,this.asyncQueue=a,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(n){it(cy,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){cs(a)?it(cy,"Ignoring IndexedDB error during garbage collection: ",a):await Uo(a)}await this.mr(3e5)})}}class KT{constructor(n,a){this.gr=n,this.params=a}calculateTargetCount(n,a){return this.gr.pr(n).next(s=>Math.floor(a/100*s))}nthSequenceNumber(n,a){if(a===0)return Y.resolve(zo.le);const s=new YT(a);return this.gr.forEachTarget(n,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(n,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(n,a,s){return this.gr.removeTargets(n,a,s)}removeOrphanedDocuments(n,a){return this.gr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(oy)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oy):this.wr(n,a))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,a){let s,o,f,m,y,v,_;const A=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,m=Date.now(),this.nthSequenceNumber(n,o))).next(x=>(s=x,y=Date.now(),this.removeTargets(n,s,a))).next(x=>(f=x,v=Date.now(),this.removeOrphanedDocuments(n,s))).next(x=>(_=Date.now(),Xr()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${o} in `+(y-m)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${x} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:x})))}}function FT(l,n){return new KT(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.changes=new tr(n=>n.toString(),(n,a)=>n.isEqual(a)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,He.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const s=this.changes.get(a);return s!==void 0?Y.resolve(s):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(n,a,s,o){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=s,this.indexManager=o}getDocument(n,a){let s=null;return this.documentOverlayCache.getOverlay(n,a).next(o=>(s=o,this.remoteDocumentCache.getEntry(n,a))).next(o=>(s!==null&&Ol(s.mutation,o,ea.empty(),We.now()),o))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next(s=>this.getLocalViewOfDocuments(n,s,It()).next(()=>s))}getLocalViewOfDocuments(n,a,s=It()){const o=Za();return this.populateOverlays(n,o,a).next(()=>this.computeViews(n,a,o,s).next(f=>{let m=bl();return f.forEach((y,v)=>{m=m.insert(y,v.overlayedDocument)}),m}))}getOverlayedDocuments(n,a){const s=Za();return this.populateOverlays(n,s,a).next(()=>this.computeViews(n,a,s,It()))}populateOverlays(n,a,s){const o=[];return s.forEach(f=>{a.has(f)||o.push(f)}),this.documentOverlayCache.getOverlays(n,o).next(f=>{f.forEach((m,y)=>{a.set(m,y)})})}computeViews(n,a,s,o){let f=ca();const m=Vl(),y=function(){return Vl()}();return a.forEach((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ho)?f=f.insert(_.key,_):A!==void 0?(m.set(_.key,A.mutation.getFieldMask()),Ol(A.mutation,_,A.mutation.getFieldMask(),We.now())):m.set(_.key,ea.empty())}),this.recalculateAndSaveOverlays(n,f).next(v=>(v.forEach((_,A)=>m.set(_,A)),a.forEach((_,A)=>{var x;return y.set(_,new JT(A,(x=m.get(_))!==null&&x!==void 0?x:null))}),y))}recalculateAndSaveOverlays(n,a){const s=Vl();let o=new ce((m,y)=>m-y),f=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next(m=>{for(const y of m)y.keys().forEach(v=>{const _=a.get(v);if(_===null)return;let A=s.get(v)||ea.empty();A=y.applyToLocalView(_,A),s.set(v,A);const x=(o.get(y.batchId)||It()).add(v);o=o.insert(y.batchId,x)})}).next(()=>{const m=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,x=m_();A.forEach(z=>{if(!f.has(z)){const K=__(a.get(z),s.get(z));K!==null&&x.set(z,K),f=f.add(z)}}),m.push(this.documentOverlayCache.saveOverlays(n,_,x))}return Y.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,a,s,o){return function(m){return dt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):iT(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,s,o):this.getDocumentsMatchingCollectionQuery(n,a,s,o)}getNextDocuments(n,a,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,s,o).next(f=>{const m=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,s.largestBatchId,o-f.size):Y.resolve(Za());let y=Il,v=f;return m.next(_=>Y.forEach(_,(A,x)=>(y<x.largestBatchId&&(y=x.largestBatchId),f.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(n,A).next(z=>{v=v.insert(A,z)}))).next(()=>this.populateOverlays(n,_,f)).next(()=>this.computeViews(n,v,_,It())).next(A=>({batchId:y,changes:uT(A)})))})}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new dt(a)).next(s=>{let o=bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(n,a,s,o){const f=a.collectionGroup;let m=bl();return this.indexManager.getCollectionParents(n,f).next(y=>Y.forEach(y,v=>{const _=function(x,z){return new qo(z,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(a,v.child(f));return this.getDocumentsMatchingCollectionQuery(n,_,s,o).next(A=>{A.forEach((x,z)=>{m=m.insert(x,z)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(n,a,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,s.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,s,f,o))).next(m=>{f.forEach((v,_)=>{const A=_.getKey();m.get(A)===null&&(m=m.insert(A,He.newInvalidDocument(A)))});let y=bl();return m.forEach((v,_)=>{const A=f.get(v);A!==void 0&&Ol(A.mutation,_,ea.empty(),We.now()),ko(a,_)&&(y=y.insert(v,_))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,a){return Y.resolve(this.kr.get(a))}saveBundleMetadata(n,a){return this.kr.set(a.id,function(o){return{id:o.id,version:o.version,createTime:$r(o.createTime)}}(a)),Y.resolve()}getNamedQuery(n,a){return Y.resolve(this.qr.get(a))}saveNamedQuery(n,a){return this.qr.set(a.name,function(o){return{name:o.name,query:jT(o.bundledQuery),readTime:$r(o.readTime)}}(a)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.overlays=new ce(dt.comparator),this.Qr=new Map}getOverlay(n,a){return Y.resolve(this.overlays.get(a))}getOverlays(n,a){const s=Za();return Y.forEach(a,o=>this.getOverlay(n,o).next(f=>{f!==null&&s.set(o,f)})).next(()=>s)}saveOverlays(n,a,s){return s.forEach((o,f)=>{this.St(n,a,f)}),Y.resolve()}removeOverlaysForBatchId(n,a,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.Qr.delete(s)),Y.resolve()}getOverlaysForCollection(n,a,s){const o=Za(),f=a.length+1,m=new dt(a.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>s&&o.set(v.getKey(),v)}return Y.resolve(o)}getOverlaysForCollectionGroup(n,a,s,o){let f=new ce((_,A)=>_-A);const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>s){let A=f.get(_.largestBatchId);A===null&&(A=Za(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=Za(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>y.set(_,A)),!(y.size()>=o)););return Y.resolve(y)}St(n,a,s){const o=this.overlays.get(s.key);if(o!==null){const m=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new TT(a,s));let f=this.Qr.get(a);f===void 0&&(f=It(),this.Qr.set(a,f)),this.Qr.set(a,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.sessionToken=Le.EMPTY_BYTE_STRING}getSessionToken(n){return Y.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this.$r=new Ae(Ve.Ur),this.Kr=new Ae(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,a){const s=new Ve(n,a);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(n,a){n.forEach(s=>this.addReference(s,a))}removeReference(n,a){this.zr(new Ve(n,a))}jr(n,a){n.forEach(s=>this.removeReference(s,a))}Hr(n){const a=new dt(new re([])),s=new Ve(a,n),o=new Ve(a,n+1),f=[];return this.Kr.forEachInRange([s,o],m=>{this.zr(m),f.push(m.key)}),f}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const a=new dt(new re([])),s=new Ve(a,n),o=new Ve(a,n+1);let f=It();return this.Kr.forEachInRange([s,o],m=>{f=f.add(m.key)}),f}containsKey(n){const a=new Ve(n,0),s=this.$r.firstAfterOrEqual(a);return s!==null&&n.isEqual(s.key)}}class Ve{constructor(n,a){this.key=n,this.Zr=a}static Ur(n,a){return dt.comparator(n.key,a.key)||bt(n.Zr,a.Zr)}static Wr(n,a){return bt(n.Zr,a.Zr)||dt.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.nr=1,this.Xr=new Ae(Ve.Ur)}checkEmpty(n){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,s,o){const f=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new ET(f,a,s,o);this.mutationQueue.push(m);for(const y of o)this.Xr=this.Xr.add(new Ve(y.key,f)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return Y.resolve(m)}lookupMutationBatch(n,a){return Y.resolve(this.ei(a))}getNextMutationBatchAfterBatchId(n,a){const s=a+1,o=this.ti(s),f=o<0?0:o;return Y.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?U1:this.nr-1)}getAllMutationBatches(n){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const s=new Ve(a,0),o=new Ve(a,Number.POSITIVE_INFINITY),f=[];return this.Xr.forEachInRange([s,o],m=>{const y=this.ei(m.Zr);f.push(y)}),Y.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,a){let s=new Ae(bt);return a.forEach(o=>{const f=new Ve(o,0),m=new Ve(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([f,m],y=>{s=s.add(y.Zr)})}),Y.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(n,a){const s=a.path,o=s.length+1;let f=s;dt.isDocumentKey(f)||(f=f.child(""));const m=new Ve(new dt(f),0);let y=new Ae(bt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Zr)),!0)},m),Y.resolve(this.ni(y))}ni(n){const a=[];return n.forEach(s=>{const o=this.ei(s);o!==null&&a.push(o)}),a}removeMutationBatch(n,a){te(this.ri(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Y.forEach(a.mutations,o=>{const f=new Ve(o.key,a.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,o.key)}).next(()=>{this.Xr=s})}sr(n){}containsKey(n,a){const s=new Ve(a,0),o=this.Xr.firstAfterOrEqual(s);return Y.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(n){return this.mutationQueue.length,Y.resolve()}ri(n,a){return this.ti(n)}ti(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}ei(n){const a=this.ti(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(n){this.ii=n,this.docs=function(){return new ce(dt.comparator)}(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const s=a.key,o=this.docs.get(s),f=o?o.size:0,m=this.ii(a);return this.docs=this.docs.insert(s,{document:a.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const s=this.docs.get(a);return Y.resolve(s?s.document.mutableCopy():He.newInvalidDocument(a))}getEntries(n,a){let s=ca();return a.forEach(o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():He.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(n,a,s,o){let f=ca();const m=a.path,y=new dt(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||N1(O1(A),s)<=0||(o.has(A.key)||ko(a,A))&&(f=f.insert(A.key,A.mutableCopy()))}return Y.resolve(f)}getAllFromCollectionGroup(n,a,s,o){yt(9500)}si(n,a){return Y.forEach(this.docs,s=>a(s))}newChangeBuffer(n){return new aA(this)}getSize(n){return Y.resolve(this.size)}}class aA extends ZT{constructor(n){super(),this.Br=n}applyChanges(n){const a=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?a.push(this.Br.addEntry(n,o)):this.Br.removeEntry(s)}),Y.waitFor(a)}getFromCache(n,a){return this.Br.getEntry(n,a)}getAllFromCache(n,a){return this.Br.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(n){this.persistence=n,this.oi=new tr(a=>Pf(a),kf),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this._i=0,this.ai=new Qf,this.targetCount=0,this.ui=rs.cr()}forEachTarget(n,a){return this.oi.forEach((s,o)=>a(o)),Y.resolve()}getLastRemoteSnapshotVersion(n){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Y.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(n,a,s){return s&&(this.lastRemoteSnapshotVersion=s),a>this._i&&(this._i=a),Y.resolve()}Tr(n){this.oi.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.ui=new rs(a),this.highestTargetId=a),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,a){return this.Tr(a),this.targetCount+=1,Y.resolve()}updateTargetData(n,a){return this.Tr(a),Y.resolve()}removeTargetData(n,a){return this.oi.delete(a.target),this.ai.Hr(a.targetId),this.targetCount-=1,Y.resolve()}removeTargets(n,a,s){let o=0;const f=[];return this.oi.forEach((m,y)=>{y.sequenceNumber<=a&&s.get(y.targetId)===null&&(this.oi.delete(m),f.push(this.removeMatchingKeysForTargetId(n,y.targetId)),o++)}),Y.waitFor(f).next(()=>o)}getTargetCount(n){return Y.resolve(this.targetCount)}getTargetData(n,a){const s=this.oi.get(a)||null;return Y.resolve(s)}addMatchingKeys(n,a,s){return this.ai.Gr(a,s),Y.resolve()}removeMatchingKeys(n,a,s){this.ai.jr(a,s);const o=this.persistence.referenceDelegate,f=[];return o&&a.forEach(m=>{f.push(o.markPotentiallyOrphaned(n,m))}),Y.waitFor(f)}removeMatchingKeysForTargetId(n,a){return this.ai.Hr(a),Y.resolve()}getMatchingKeysForTargetId(n,a){const s=this.ai.Yr(a);return Y.resolve(s)}containsKey(n,a){return Y.resolve(this.ai.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(n,a){this.ci={},this.overlays={},this.li=new zo(0),this.hi=!1,this.hi=!0,this.Pi=new eA,this.referenceDelegate=n(this),this.Ti=new rA(this),this.indexManager=new HT,this.remoteDocumentCache=function(o){return new iA(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new kT(a),this.Ei=new WT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new tA,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let s=this.ci[n.toKey()];return s||(s=new nA(a,this.referenceDelegate),this.ci[n.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,a,s){it("MemoryPersistence","Starting transaction:",n);const o=new sA(this.li.next());return this.referenceDelegate.di(),s(o).next(f=>this.referenceDelegate.Ai(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}Ri(n,a){return Y.or(Object.values(this.ci).map(s=>()=>s.containsKey(n,a)))}}class sA extends I1{constructor(n){super(),this.currentSequenceNumber=n}}class Yf{constructor(n){this.persistence=n,this.Vi=new Qf,this.mi=null}static fi(n){return new Yf(n)}get gi(){if(this.mi)return this.mi;throw yt(60996)}addReference(n,a,s){return this.Vi.addReference(s,a),this.gi.delete(s.toString()),Y.resolve()}removeReference(n,a,s){return this.Vi.removeReference(s,a),this.gi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(n,a){return this.gi.add(a.toString()),Y.resolve()}removeTarget(n,a){this.Vi.Hr(a.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,a.targetId).next(o=>{o.forEach(f=>this.gi.add(f.toString()))}).next(()=>s.removeTargetData(n,a))}di(){this.mi=new Set}Ai(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.gi,s=>{const o=dt.fromPath(s);return this.pi(n,o).next(f=>{f||a.removeEntry(o,pt.min())})}).next(()=>(this.mi=null,a.apply(n)))}updateLimboDocument(n,a){return this.pi(n,a).next(s=>{s?this.gi.delete(a.toString()):this.gi.add(a.toString())})}Ii(n){return 0}pi(n,a){return Y.or([()=>Y.resolve(this.Vi.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Ri(n,a)])}}class Mo{constructor(n,a){this.persistence=n,this.yi=new tr(s=>z1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=FT(this,a)}static fi(n,a){return new Mo(n,a)}di(){}Ai(n){return Y.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}pr(n){const a=this.br(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>a.next(o=>s+o))}br(n){let a=0;return this.yr(n,s=>{a++}).next(()=>a)}yr(n,a){return Y.forEach(this.yi,(s,o)=>this.Dr(n,s,o).next(f=>f?Y.resolve():a(o)))}removeTargets(n,a,s){return this.persistence.getTargetCache().removeTargets(n,a,s)}removeOrphanedDocuments(n,a){let s=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.si(n,m=>this.Dr(n,m,a).next(y=>{y||(s++,f.removeEntry(m,pt.min()))})).next(()=>f.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,a){return this.yi.set(a,n.currentSequenceNumber),Y.resolve()}removeTarget(n,a){const s=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,a,s){return this.yi.set(s,n.currentSequenceNumber),Y.resolve()}removeReference(n,a,s){return this.yi.set(s,n.currentSequenceNumber),Y.resolve()}updateLimboDocument(n,a){return this.yi.set(a,n.currentSequenceNumber),Y.resolve()}Ii(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=vo(n.data.value)),a}Dr(n,a,s){return Y.or([()=>this.persistence.Ri(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const o=this.yi.get(a);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(n,a,s,o){this.targetId=n,this.fromCache=a,this.ds=s,this.As=o}static Rs(n,a){let s=It(),o=It();for(const f of a.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Xf(n,a.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tE()?8:x1($0())>0?6:4}()}initialize(n,a){this.ys=n,this.indexManager=a,this.Vs=!0}getDocumentsMatchingQuery(n,a,s,o){const f={result:null};return this.ws(n,a).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.bs(n,a,o,s).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new lA;return this.Ss(n,a,m).next(y=>{if(f.result=y,this.fs)return this.Ds(n,a,m,y.size)})}).next(()=>f.result)}Ds(n,a,s,o){return s.documentReadCount<this.gs?(Xr()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Kr(a),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Y.resolve()):(Xr()<=Nt.DEBUG&&it("QueryEngine","Query:",Kr(a),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Xr()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Kr(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Kn(a))):Y.resolve())}ws(n,a){if(Wp(a))return Y.resolve(null);let s=Kn(a);return this.indexManager.getIndexType(n,s).next(o=>o===0?null:(a.limit!==null&&o===1&&(a=Af(a,null,"F"),s=Kn(a)),this.indexManager.getDocumentsMatchingTarget(n,s).next(f=>{const m=It(...f);return this.ys.getDocuments(n,m).next(y=>this.indexManager.getMinOffset(n,s).next(v=>{const _=this.vs(a,y);return this.Cs(a,_,m,v.readTime)?this.ws(n,Af(a,null,"F")):this.Fs(n,_,a,v)}))})))}bs(n,a,s,o){return Wp(a)||o.isEqual(pt.min())?Y.resolve(null):this.ys.getDocuments(n,s).next(f=>{const m=this.vs(a,f);return this.Cs(a,m,s,o)?Y.resolve(null):(Xr()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Kr(a)),this.Fs(n,m,a,V1(o,Il)).next(y=>y))})}vs(n,a){let s=new Ae(f_(n));return a.forEach((o,f)=>{ko(n,f)&&(s=s.add(f))}),s}Cs(n,a,s,o){if(n.limit===null)return!1;if(s.size!==a.size)return!0;const f=n.limitType==="F"?a.last():a.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(n,a,s){return Xr()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Kr(a)),this.ys.getDocumentsMatchingQuery(n,a,sa.min(),s)}Fs(n,a,s,o){return this.ys.getDocumentsMatchingQuery(n,s,o).next(f=>(a.forEach(m=>{f=f.insert(m.key,m)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="LocalStore",oA=3e8;class cA{constructor(n,a,s,o){this.persistence=n,this.Ms=a,this.serializer=o,this.xs=new ce(bt),this.Os=new tr(f=>Pf(f),kf),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(s)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new $T(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>n.collect(a,this.xs))}}function hA(l,n,a,s){return new cA(l,n,a,s)}async function N_(l,n){const a=Mt(l);return await a.persistence.runTransaction("Handle user change","readonly",s=>{let o;return a.mutationQueue.getAllMutationBatches(s).next(f=>(o=f,a.Ls(n),a.mutationQueue.getAllMutationBatches(s))).next(f=>{const m=[],y=[];let v=It();for(const _ of o){m.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return a.localDocuments.getDocuments(s,v).next(_=>({ks:_,removedBatchIds:m,addedBatchIds:y}))})})}function M_(l){const n=Mt(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",a=>n.Ti.getLastRemoteSnapshotVersion(a))}function fA(l,n){const a=Mt(l),s=n.snapshotVersion;let o=a.xs;return a.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=a.Bs.newChangeBuffer({trackRemovals:!0});o=a.xs;const y=[];n.targetChanges.forEach((A,x)=>{const z=o.get(x);if(!z)return;y.push(a.Ti.removeMatchingKeys(f,A.removedDocuments,x).next(()=>a.Ti.addMatchingKeys(f,A.addedDocuments,x)));let K=z.withSequenceNumber(f.currentSequenceNumber);n.targetMismatches.get(x)!==null?K=K.withResumeToken(Le.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,s)),o=o.insert(x,K),function(rt,et,zt){return rt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=oA?!0:zt.addedDocuments.size+zt.modifiedDocuments.size+zt.removedDocuments.size>0}(z,K,A)&&y.push(a.Ti.updateTargetData(f,K))});let v=ca(),_=It();if(n.documentUpdates.forEach(A=>{n.resolvedLimboDocuments.has(A)&&y.push(a.persistence.referenceDelegate.updateLimboDocument(f,A))}),y.push(dA(f,m,n.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!s.isEqual(pt.min())){const A=a.Ti.getLastRemoteSnapshotVersion(f).next(x=>a.Ti.setTargetsMetadata(f,f.currentSequenceNumber,s));y.push(A)}return Y.waitFor(y).next(()=>m.apply(f)).next(()=>a.localDocuments.getLocalViewOfDocuments(f,v,_)).next(()=>v)}).then(f=>(a.xs=o,f))}function dA(l,n,a){let s=It(),o=It();return a.forEach(f=>s=s.add(f)),n.getEntries(l,s).next(f=>{let m=ca();return a.forEach((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(pt.min())?(n.removeEntry(y,v.readTime),m=m.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(n.addEntry(v),m=m.insert(y,v)):it(Kf,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)}),{qs:m,Qs:o}})}function mA(l,n){const a=Mt(l);return a.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return a.Ti.getTargetData(s,n).next(f=>f?(o=f,Y.resolve(o)):a.Ti.allocateTargetId(s).next(m=>(o=new na(n,m,"TargetPurposeListen",s.currentSequenceNumber),a.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=a.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.xs=a.xs.insert(s.targetId,s),a.Os.set(n,s.targetId)),s})}async function Cf(l,n,a){const s=Mt(l),o=s.xs.get(n),f=a?"readwrite":"readwrite-primary";try{a||await s.persistence.runTransaction("Release target",f,m=>s.persistence.referenceDelegate.removeTarget(m,o))}catch(m){if(!cs(m))throw m;it(Kf,`Failed to update sequence numbers for target ${n}: ${m}`)}s.xs=s.xs.remove(n),s.Os.delete(o.target)}function fy(l,n,a){const s=Mt(l);let o=pt.min(),f=It();return s.persistence.runTransaction("Execute query","readwrite",m=>function(v,_,A){const x=Mt(v),z=x.Os.get(A);return z!==void 0?Y.resolve(x.xs.get(z)):x.Ti.getTargetData(_,A)}(s,m,Kn(n)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(m,y.targetId).next(v=>{f=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(m,n,a?o:pt.min(),a?f:It())).next(y=>(gA(s,rT(n),y),{documents:y,$s:f})))}function gA(l,n,a){let s=l.Ns.get(n)||pt.min();a.forEach((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),l.Ns.set(n,s)}class dy{constructor(){this.activeTargetIds=hT()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class pA{constructor(){this.xo=new dy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,s){}addLocalQueryTarget(n,a=!0){return a&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,a,s){this.Oo[n]=a}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new dy,Promise.resolve()}handleUserChange(n,a,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{No(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="ConnectivityMonitor";class gy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(my,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){it(my,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po=null;function Df(){return po===null?po=function(){return 268435456+Math.round(2147483648*Math.random())}():po++,"0x"+po.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="RestConnection",_A={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vA{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=a+"://"+n.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Co?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(n,a,s,o,f){const m=Df(),y=this.jo(n,a.toUriEncodedString());it(sf,`Sending RPC '${n}' ${m}:`,y,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,o,f);const{host:_}=new URL(y),A=Uf(_);return this.Jo(n,y,v,s,A).then(x=>(it(sf,`Received RPC '${n}' ${m}: `,x),x),x=>{throw es(sf,`RPC '${n}' ${m} failed with error: `,x,"url: ",y,"request:",s),x})}Yo(n,a,s,o,f,m){return this.zo(n,a,s,o,f)}Ho(n,a,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+os}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((o,f)=>n[f]=o),s&&s.headers.forEach((o,f)=>n[f]=o)}jo(n,a){const s=_A[n];return`${this.Ko}/v1/${a}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke="WebChannelConnection";class TA extends vA{constructor(n){super(n),this.l_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,a,s,o,f){const m=Df();return new Promise((y,v)=>{const _=new Gy;_.setWithCredentials(!0),_.listenOnce(Qy.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case _o.NO_ERROR:const x=_.getResponseJson();it(ke,`XHR for RPC '${n}' ${m} received:`,JSON.stringify(x)),y(x);break;case _o.TIMEOUT:it(ke,`RPC '${n}' ${m} timed out`),v(new ht(tt.DEADLINE_EXCEEDED,"Request time out"));break;case _o.HTTP_ERROR:const z=_.getStatus();if(it(ke,`RPC '${n}' ${m} failed with status:`,z,"response text:",_.getResponseText()),z>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const J=K==null?void 0:K.error;if(J&&J.status&&J.message){const rt=function(zt){const vt=zt.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(vt)>=0?vt:tt.UNKNOWN}(J.status);v(new ht(rt,J.message))}else v(new ht(tt.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ht(tt.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{h_:n,streamId:m,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{it(ke,`RPC '${n}' ${m} completed.`)}});const A=JSON.stringify(o);it(ke,`RPC '${n}' ${m} sending request:`,o),_.send(a,"POST",A,s,15)})}I_(n,a,s){const o=Df(),f=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=Ky(),y=Xy(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,a,s),v.encodeInitMessageHeaders=!0;const A=f.join("");it(ke,`Creating RPC '${n}' stream ${o}: ${A}`,v);const x=m.createWebChannel(A,v);this.E_(x);let z=!1,K=!1;const J=new EA({Zo:et=>{K?it(ke,`Not sending because RPC '${n}' stream ${o} is closed:`,et):(z||(it(ke,`Opening RPC '${n}' stream ${o} transport.`),x.open(),z=!0),it(ke,`RPC '${n}' stream ${o} sending:`,et),x.send(et))},Xo:()=>x.close()}),rt=(et,zt,vt)=>{et.listen(zt,gt=>{try{vt(gt)}catch(xt){setTimeout(()=>{throw xt},0)}})};return rt(x,Sl.EventType.OPEN,()=>{K||(it(ke,`RPC '${n}' stream ${o} transport opened.`),J.__())}),rt(x,Sl.EventType.CLOSE,()=>{K||(K=!0,it(ke,`RPC '${n}' stream ${o} transport closed`),J.u_(),this.d_(x))}),rt(x,Sl.EventType.ERROR,et=>{K||(K=!0,es(ke,`RPC '${n}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),J.u_(new ht(tt.UNAVAILABLE,"The operation could not be completed")))}),rt(x,Sl.EventType.MESSAGE,et=>{var zt;if(!K){const vt=et.data[0];te(!!vt,16349);const gt=vt,xt=(gt==null?void 0:gt.error)||((zt=gt[0])===null||zt===void 0?void 0:zt.error);if(xt){it(ke,`RPC '${n}' stream ${o} received error:`,xt);const _t=xt.status;let Lt=function(w){const V=ge[w];if(V!==void 0)return E_(V)}(_t),O=xt.message;Lt===void 0&&(Lt=tt.INTERNAL,O="Unknown error status: "+_t+" with message "+xt.message),K=!0,J.u_(new ht(Lt,O)),x.close()}else it(ke,`RPC '${n}' stream ${o} received:`,vt),J.c_(vt)}}),rt(y,Yy.STAT_EVENT,et=>{et.stat===mf.PROXY?it(ke,`RPC '${n}' stream ${o} detected buffering proxy`):et.stat===mf.NOPROXY&&it(ke,`RPC '${n}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.a_()},0),J}terminate(){this.l_.forEach(n=>n.close()),this.l_=[]}E_(n){this.l_.push(n)}d_(n){this.l_=this.l_.filter(a=>a===n)}}function lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(l){return new DT(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(n,a,s=1e3,o=1.5,f=6e4){this.xi=n,this.timerId=a,this.A_=s,this.R_=o,this.V_=f,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(n){this.cancel();const a=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,a-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${a} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),n())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="PersistentStream";class AA{constructor(n,a,s,o,f,m,y,v){this.xi=n,this.S_=s,this.D_=o,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new x_(n,a)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(n){this.U_(),this.stream.send(n)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(n,a){this.U_(),this.K_(),this.x_.cancel(),this.v_++,n!==4?this.x_.reset():a&&a.code===tt.RESOURCE_EXHAUSTED?(Ri(a.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):a&&a.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.i_(a)}W_(){}auth(){this.state=1;const n=this.G_(this.v_),a=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===a&&this.z_(s,o)},s=>{n(()=>{const o=new ht(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(n,a){const s=this.G_(this.v_);this.stream=this.H_(n,a),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(n){return it(py,`close with error: ${n}`),this.stream=null,this.close(4,n)}G_(n){return a=>{this.xi.enqueueAndForget(()=>this.v_===n?a():(it(py,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SA extends AA{constructor(n,a,s,o,f,m){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,s,o,m),this.serializer=f}H_(n,a){return this.connection.I_("Listen",n,a)}J_(n){return this.onNext(n)}onNext(n){this.x_.reset();const a=IT(this.serializer,n),s=function(f){if(!("targetChange"in f))return pt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?pt.min():m.readTime?$r(m.readTime):pt.min()}(n);return this.listener.Y_(a,s)}Z_(n){const a={};a.database=uy(this.serializer),a.addTarget=function(f,m){let y;const v=m.target;if(y=Tf(v)?{documents:xT(f,v)}:{query:UT(f,v).gt},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=OT(f,m.resumeToken);const _=Rf(f,m.expectedCount);_!==null&&(y.expectedCount=_)}else if(m.snapshotVersion.compareTo(pt.min())>0){y.readTime=VT(f,m.snapshotVersion.toTimestamp());const _=Rf(f,m.expectedCount);_!==null&&(y.expectedCount=_)}return y}(this.serializer,n);const s=LT(this.serializer,n);s&&(a.labels=s),this.Q_(a)}X_(n){const a={};a.database=uy(this.serializer),a.removeTarget=n,this.Q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class RA extends bA{constructor(n,a,s,o){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,a,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.zo(n,wf(a,s),o,f,m)).catch(f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(tt.UNKNOWN,f.toString())})}Yo(n,a,s,o,f){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Yo(n,wf(a,s),o,m,y,f)).catch(m=>{throw m.name==="FirebaseError"?(m.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ht(tt.UNKNOWN,m.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class wA{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(n){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.la("Offline")))}set(n){this.Ta(),this._a=0,n==="Online"&&(this.ua=!1),this.la(n)}la(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ha(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ri(a),this.ua=!1):it("OnlineStateTracker",a)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="RemoteStore";class CA{constructor(n,a,s,o,f){this.localStore=n,this.datastore=a,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=f,this.Ra.No(m=>{s.enqueueAndForget(async()=>{Pl(this)&&(it(ss,"Restarting streams for network reachability change."),await async function(v){const _=Mt(v);_.da.add(4),await ql(_),_.Va.set("Unknown"),_.da.delete(4),await Qo(_)}(this))})}),this.Va=new wA(s,o)}}async function Qo(l){if(Pl(l))for(const n of l.Aa)await n(!0)}async function ql(l){for(const n of l.Aa)await n(!1)}function U_(l,n){const a=Mt(l);a.Ea.has(n.targetId)||(a.Ea.set(n.targetId,n),$f(a)?Jf(a):hs(a).N_()&&Zf(a,n))}function Ff(l,n){const a=Mt(l),s=hs(a);a.Ea.delete(n),s.N_()&&z_(a,n),a.Ea.size===0&&(s.N_()?s.k_():Pl(a)&&a.Va.set("Unknown"))}function Zf(l,n){if(l.ma.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(pt.min())>0){const a=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(a)}hs(l).Z_(n)}function z_(l,n){l.ma.Ke(n),hs(l).X_(n)}function Jf(l){l.ma=new bT({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>l.Ea.get(n)||null,Pt:()=>l.datastore.serializer.databaseId}),hs(l).start(),l.Va.ca()}function $f(l){return Pl(l)&&!hs(l).O_()&&l.Ea.size>0}function Pl(l){return Mt(l).da.size===0}function L_(l){l.ma=void 0}async function DA(l){l.Va.set("Online")}async function VA(l){l.Ea.forEach((n,a)=>{Zf(l,n)})}async function OA(l,n){L_(l),$f(l)?(l.Va.Pa(n),Jf(l)):l.Va.set("Unknown")}async function NA(l,n,a){if(l.Va.set("Online"),n instanceof A_&&n.state===2&&n.cause)try{await async function(o,f){const m=f.cause;for(const y of f.targetIds)o.Ea.has(y)&&(await o.remoteSyncer.rejectListen(y,m),o.Ea.delete(y),o.ma.removeTarget(y))}(l,n)}catch(s){it(ss,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),await yy(l,s)}else if(n instanceof To?l.ma.Xe(n):n instanceof T_?l.ma.ot(n):l.ma.nt(n),!a.isEqual(pt.min()))try{const s=await M_(l.localStore);a.compareTo(s)>=0&&await function(f,m){const y=f.ma.It(m);return y.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ea.get(_);A&&f.Ea.set(_,A.withResumeToken(v.resumeToken,m))}}),y.targetMismatches.forEach((v,_)=>{const A=f.Ea.get(v);if(!A)return;f.Ea.set(v,A.withResumeToken(Le.EMPTY_BYTE_STRING,A.snapshotVersion)),z_(f,v);const x=new na(A.target,v,_,A.sequenceNumber);Zf(f,x)}),f.remoteSyncer.applyRemoteEvent(y)}(l,a)}catch(s){it(ss,"Failed to raise snapshot:",s),await yy(l,s)}}async function yy(l,n,a){if(!cs(n))throw n;l.da.add(1),await ql(l),l.Va.set("Offline"),a||(a=()=>M_(l.localStore)),l.asyncQueue.enqueueRetryable(async()=>{it(ss,"Retrying IndexedDB access"),await a(),l.da.delete(1),await Qo(l)})}async function _y(l,n){const a=Mt(l);a.asyncQueue.verifyOperationInProgress(),it(ss,"RemoteStore received new credentials");const s=Pl(a);a.da.add(3),await ql(a),s&&a.Va.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.da.delete(3),await Qo(a)}async function MA(l,n){const a=Mt(l);n?(a.da.delete(2),await Qo(a)):n||(a.da.add(2),await ql(a),a.Va.set("Unknown"))}function hs(l){return l.fa||(l.fa=function(a,s,o){const f=Mt(a);return f.oa(),new SA(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(l.datastore,l.asyncQueue,{e_:DA.bind(null,l),n_:VA.bind(null,l),i_:OA.bind(null,l),Y_:NA.bind(null,l)}),l.Aa.push(async n=>{n?(l.fa.L_(),$f(l)?Jf(l):l.Va.set("Unknown")):(await l.fa.stop(),L_(l))})),l.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(n,a,s,o,f){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,a,s,o,f){const m=Date.now()+s,y=new Wf(n,a,m,o,f);return y.start(s),y}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(tt.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B_(l,n){if(Ri("AsyncQueue",`${n}: ${l}`),cs(l))return new ht(tt.UNAVAILABLE,`${n}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{static emptySet(n){return new Wr(n.comparator)}constructor(n){this.comparator=n?(a,s)=>n(a,s)||dt.comparator(a.key,s.key):(a,s)=>dt.comparator(a.key,s.key),this.keyedMap=bl(),this.sortedSet=new ce(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((a,s)=>(n(a),!1))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof Wr)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(a=>{n.push(a.toString())}),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,a){const s=new Wr;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=a,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this.pa=new ce(dt.comparator)}track(n){const a=n.doc.key,s=this.pa.get(a);s?n.type!==0&&s.type===3?this.pa=this.pa.insert(a,n):n.type===3&&s.type!==1?this.pa=this.pa.insert(a,{type:s.type,doc:n.doc}):n.type===2&&s.type===2?this.pa=this.pa.insert(a,{type:2,doc:n.doc}):n.type===2&&s.type===0?this.pa=this.pa.insert(a,{type:0,doc:n.doc}):n.type===1&&s.type===0?this.pa=this.pa.remove(a):n.type===1&&s.type===2?this.pa=this.pa.insert(a,{type:1,doc:s.doc}):n.type===0&&s.type===1?this.pa=this.pa.insert(a,{type:2,doc:n.doc}):yt(63341,{Vt:n,ya:s}):this.pa=this.pa.insert(a,n)}wa(){const n=[];return this.pa.inorderTraversal((a,s)=>{n.push(s)}),n}}class ls{constructor(n,a,s,o,f,m,y,v,_){this.query=n,this.docs=a,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(n,a,s,o,f){const m=[];return a.forEach(y=>{m.push({type:0,doc:y})}),new ls(n,a,Wr.emptySet(a),m,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Po(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,s=n.docChanges;if(a.length!==s.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==s[o].type||!a[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(n=>n.va())}}class xA{constructor(){this.queries=Ey(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,s){const o=Mt(a),f=o.queries;o.queries=Ey(),f.forEach((m,y)=>{for(const v of y.Sa)v.onError(s)})})(this,new ht(tt.ABORTED,"Firestore shutting down"))}}function Ey(){return new tr(l=>h_(l),Po)}async function UA(l,n){const a=Mt(l);let s=3;const o=n.query;let f=a.queries.get(o);f?!f.Da()&&n.va()&&(s=2):(f=new IA,s=n.va()?0:1);try{switch(s){case 0:f.ba=await a.onListen(o,!0);break;case 1:f.ba=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(m){const y=B_(m,`Initialization of query '${Kr(n.query)}' failed`);return void n.onError(y)}a.queries.set(o,f),f.Sa.push(n),n.Fa(a.onlineState),f.ba&&n.Ma(f.ba)&&td(a)}async function zA(l,n){const a=Mt(l),s=n.query;let o=3;const f=a.queries.get(s);if(f){const m=f.Sa.indexOf(n);m>=0&&(f.Sa.splice(m,1),f.Sa.length===0?o=n.va()?0:1:!f.Da()&&n.va()&&(o=2))}switch(o){case 0:return a.queries.delete(s),a.onUnlisten(s,!0);case 1:return a.queries.delete(s),a.onUnlisten(s,!1);case 2:return a.onLastRemoteStoreUnlisten(s);default:return}}function LA(l,n){const a=Mt(l);let s=!1;for(const o of n){const f=o.query,m=a.queries.get(f);if(m){for(const y of m.Sa)y.Ma(o)&&(s=!0);m.ba=o}}s&&td(a)}function BA(l,n,a){const s=Mt(l),o=s.queries.get(n);if(o)for(const f of o.Sa)f.onError(a);s.queries.delete(n)}function td(l){l.Ca.forEach(n=>{n.next()})}var Vf,Ty;(Ty=Vf||(Vf={})).xa="default",Ty.Cache="cache";class qA{constructor(n,a,s){this.query=n,this.Oa=a,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(n){if(!this.options.includeMetadataChanges){const s=[];for(const o of n.docChanges)o.type!==3&&s.push(o);n=new ls(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let a=!1;return this.Na?this.La(n)&&(this.Oa.next(n),a=!0):this.ka(n,this.onlineState)&&(this.qa(n),a=!0),this.Ba=n,a}onError(n){this.Oa.error(n)}Fa(n){this.onlineState=n;let a=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,n)&&(this.qa(this.Ba),a=!0),a}ka(n,a){if(!n.fromCache||!this.va())return!0;const s=a!=="Offline";return(!this.options.Qa||!s)&&(!n.docs.isEmpty()||n.hasCachedResults||a==="Offline")}La(n){if(n.docChanges.length>0)return!0;const a=this.Ba&&this.Ba.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}qa(n){n=ls.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Na=!0,this.Oa.next(n)}va(){return this.options.source!==Vf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(n){this.key=n}}class P_{constructor(n){this.key=n}}class PA{constructor(n,a){this.query=n,this.Ha=a,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.Za=f_(n),this.Xa=new Wr(this.Za)}get eu(){return this.Ha}tu(n,a){const s=a?a.nu:new vy,o=a?a.Xa:this.Xa;let f=a?a.mutatedKeys:this.mutatedKeys,m=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(n.inorderTraversal((A,x)=>{const z=o.get(A),K=ko(this.query,x)?x:null,J=!!z&&this.mutatedKeys.has(z.key),rt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let et=!1;z&&K?z.data.isEqual(K.data)?J!==rt&&(s.track({type:3,doc:K}),et=!0):this.ru(z,K)||(s.track({type:2,doc:K}),et=!0,(v&&this.Za(K,v)>0||_&&this.Za(K,_)<0)&&(y=!0)):!z&&K?(s.track({type:0,doc:K}),et=!0):z&&!K&&(s.track({type:1,doc:z}),et=!0,(v||_)&&(y=!0)),et&&(K?(m=m.add(K),f=rt?f.add(A):f.delete(A)):(m=m.delete(A),f=f.delete(A)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{Xa:m,nu:s,Cs:y,mutatedKeys:f}}ru(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,s,o){const f=this.Xa;this.Xa=n.Xa,this.mutatedKeys=n.mutatedKeys;const m=n.nu.wa();m.sort((A,x)=>function(K,J){const rt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:et})}};return rt(K)-rt(J)}(A.type,x.type)||this.Za(A.doc,x.doc)),this.iu(s),o=o!=null&&o;const y=a&&!o?this.su():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Ja;return this.Ja=v,m.length!==0||_?{snapshot:new ls(this.query,n.Xa,f,m,n.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:y}:{ou:y}}Fa(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new vy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(n){return!this.Ha.has(n)&&!!this.Xa.has(n)&&!this.Xa.get(n).hasLocalMutations}iu(n){n&&(n.addedDocuments.forEach(a=>this.Ha=this.Ha.add(a)),n.modifiedDocuments.forEach(a=>{}),n.removedDocuments.forEach(a=>this.Ha=this.Ha.delete(a)),this.current=n.current)}su(){if(!this.current)return[];const n=this.Ya;this.Ya=It(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const a=[];return n.forEach(s=>{this.Ya.has(s)||a.push(new P_(s))}),this.Ya.forEach(s=>{n.has(s)||a.push(new q_(s))}),a}au(n){this.Ha=n.$s,this.Ya=It();const a=this.tu(n.documents);return this.applyChanges(a,!0)}uu(){return ls.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ed="SyncEngine";class kA{constructor(n,a,s){this.query=n,this.targetId=a,this.view=s}}class jA{constructor(n){this.key=n,this.cu=!1}}class HA{constructor(n,a,s,o,f,m){this.localStore=n,this.remoteStore=a,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.lu={},this.hu=new tr(y=>h_(y),Po),this.Pu=new Map,this.Tu=new Set,this.Iu=new ce(dt.comparator),this.Eu=new Map,this.du=new Qf,this.Au={},this.Ru=new Map,this.Vu=rs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function GA(l,n,a=!0){const s=Q_(l);let o;const f=s.hu.get(n);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.uu()):o=await k_(s,n,a,!0),o}async function QA(l,n){const a=Q_(l);await k_(a,n,!0,!1)}async function k_(l,n,a,s){const o=await mA(l.localStore,Kn(n)),f=o.targetId,m=l.sharedClientState.addLocalQueryTarget(f,a);let y;return s&&(y=await YA(l,n,f,m==="current",o.resumeToken)),l.isPrimaryClient&&a&&U_(l.remoteStore,o),y}async function YA(l,n,a,s,o){l.fu=(x,z,K)=>async function(rt,et,zt,vt){let gt=et.view.tu(zt);gt.Cs&&(gt=await fy(rt.localStore,et.query,!1).then(({documents:O})=>et.view.tu(O,gt)));const xt=vt&&vt.targetChanges.get(et.targetId),_t=vt&&vt.targetMismatches.get(et.targetId)!=null,Lt=et.view.applyChanges(gt,rt.isPrimaryClient,xt,_t);return Sy(rt,et.targetId,Lt.ou),Lt.snapshot}(l,x,z,K);const f=await fy(l.localStore,n,!0),m=new PA(n,f.$s),y=m.tu(f.documents),v=Bl.createSynthesizedTargetChangeForCurrentChange(a,s&&l.onlineState!=="Offline",o),_=m.applyChanges(y,l.isPrimaryClient,v);Sy(l,a,_.ou);const A=new kA(n,a,m);return l.hu.set(n,A),l.Pu.has(a)?l.Pu.get(a).push(n):l.Pu.set(a,[n]),_.snapshot}async function XA(l,n,a){const s=Mt(l),o=s.hu.get(n),f=s.Pu.get(o.targetId);if(f.length>1)return s.Pu.set(o.targetId,f.filter(m=>!Po(m,n))),void s.hu.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Cf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),a&&Ff(s.remoteStore,o.targetId),Of(s,o.targetId)}).catch(Uo)):(Of(s,o.targetId),await Cf(s.localStore,o.targetId,!0))}async function KA(l,n){const a=Mt(l),s=a.hu.get(n),o=a.Pu.get(s.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(s.targetId),Ff(a.remoteStore,s.targetId))}async function j_(l,n){const a=Mt(l);try{const s=await fA(a.localStore,n);n.targetChanges.forEach((o,f)=>{const m=a.Eu.get(f);m&&(te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.cu=!0:o.modifiedDocuments.size>0?te(m.cu,14607):o.removedDocuments.size>0&&(te(m.cu,42227),m.cu=!1))}),await G_(a,s,n)}catch(s){await Uo(s)}}function Ay(l,n,a){const s=Mt(l);if(s.isPrimaryClient&&a===0||!s.isPrimaryClient&&a===1){const o=[];s.hu.forEach((f,m)=>{const y=m.view.Fa(n);y.snapshot&&o.push(y.snapshot)}),function(m,y){const v=Mt(m);v.onlineState=y;let _=!1;v.queries.forEach((A,x)=>{for(const z of x.Sa)z.Fa(y)&&(_=!0)}),_&&td(v)}(s.eventManager,n),o.length&&s.lu.Y_(o),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}async function FA(l,n,a){const s=Mt(l);s.sharedClientState.updateQueryState(n,"rejected",a);const o=s.Eu.get(n),f=o&&o.key;if(f){let m=new ce(dt.comparator);m=m.insert(f,He.newNoDocument(f,pt.min()));const y=It().add(f),v=new Go(pt.min(),new Map,new ce(bt),m,y);await j_(s,v),s.Iu=s.Iu.remove(f),s.Eu.delete(n),nd(s)}else await Cf(s.localStore,n,!1).then(()=>Of(s,n,a)).catch(Uo)}function Of(l,n,a=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.Pu.get(n))l.hu.delete(s),a&&l.lu.gu(s,a);l.Pu.delete(n),l.isPrimaryClient&&l.du.Hr(n).forEach(s=>{l.du.containsKey(s)||H_(l,s)})}function H_(l,n){l.Tu.delete(n.path.canonicalString());const a=l.Iu.get(n);a!==null&&(Ff(l.remoteStore,a),l.Iu=l.Iu.remove(n),l.Eu.delete(a),nd(l))}function Sy(l,n,a){for(const s of a)s instanceof q_?(l.du.addReference(s.key,n),ZA(l,s)):s instanceof P_?(it(ed,"Document no longer in limbo: "+s.key),l.du.removeReference(s.key,n),l.du.containsKey(s.key)||H_(l,s.key)):yt(19791,{pu:s})}function ZA(l,n){const a=n.key,s=a.path.canonicalString();l.Iu.get(a)||l.Tu.has(s)||(it(ed,"New document in limbo: "+a),l.Tu.add(s),nd(l))}function nd(l){for(;l.Tu.size>0&&l.Iu.size<l.maxConcurrentLimboResolutions;){const n=l.Tu.values().next().value;l.Tu.delete(n);const a=new dt(re.fromString(n)),s=l.Vu.next();l.Eu.set(s,new jA(a)),l.Iu=l.Iu.insert(a,s),U_(l.remoteStore,new na(Kn(c_(a.path)),s,"TargetPurposeLimboResolution",zo.le))}}async function G_(l,n,a){const s=Mt(l),o=[],f=[],m=[];s.hu.isEmpty()||(s.hu.forEach((y,v)=>{m.push(s.fu(v,n,a).then(_=>{var A;if((_||a)&&s.isPrimaryClient){const x=_?!_.fromCache:(A=a==null?void 0:a.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(_){o.push(_);const x=Xf.Rs(v.targetId,_);f.push(x)}}))}),await Promise.all(m),s.lu.Y_(o),await async function(v,_){const A=Mt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Y.forEach(_,z=>Y.forEach(z.ds,K=>A.persistence.referenceDelegate.addReference(x,z.targetId,K)).next(()=>Y.forEach(z.As,K=>A.persistence.referenceDelegate.removeReference(x,z.targetId,K)))))}catch(x){if(!cs(x))throw x;it(Kf,"Failed to update sequence numbers: "+x)}for(const x of _){const z=x.targetId;if(!x.fromCache){const K=A.xs.get(z),J=K.snapshotVersion,rt=K.withLastLimboFreeSnapshotVersion(J);A.xs=A.xs.insert(z,rt)}}}(s.localStore,f))}async function JA(l,n){const a=Mt(l);if(!a.currentUser.isEqual(n)){it(ed,"User change. New user:",n.toKey());const s=await N_(a.localStore,n);a.currentUser=n,function(f,m){f.Ru.forEach(y=>{y.forEach(v=>{v.reject(new ht(tt.CANCELLED,m))})}),f.Ru.clear()}(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),await G_(a,s.ks)}}function $A(l,n){const a=Mt(l),s=a.Eu.get(n);if(s&&s.cu)return It().add(s.key);{let o=It();const f=a.Pu.get(n);if(!f)return o;for(const m of f){const y=a.hu.get(m);o=o.unionWith(y.view.eu)}return o}}function Q_(l){const n=Mt(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=j_.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=$A.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=FA.bind(null,n),n.lu.Y_=LA.bind(null,n.eventManager),n.lu.gu=BA.bind(null,n.eventManager),n}class Io{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=I_(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Su(n),await this.persistence.start(),this.localStore=this.Du(n),this.gcScheduler=this.vu(n,this.localStore),this.indexBackfillerScheduler=this.Cu(n,this.localStore)}vu(n,a){return null}Cu(n,a){return null}Du(n){return hA(this.persistence,new uA,n.initialUser,this.serializer)}Su(n){return new O_(Yf.fi,this.serializer)}bu(n){return new pA}async terminate(){var n,a;(n=this.gcScheduler)===null||n===void 0||n.stop(),(a=this.indexBackfillerScheduler)===null||a===void 0||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Io.provider={build:()=>new Io};class WA extends Io{constructor(n){super(),this.cacheSizeBytes=n}vu(n,a){te(this.persistence.referenceDelegate instanceof Mo,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XT(s,n.asyncQueue,a)}Su(n){const a=this.cacheSizeBytes!==void 0?$e.withCacheSize(this.cacheSizeBytes):$e.DEFAULT;return new O_(s=>Mo.fi(s,a),this.serializer)}}class Nf{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ay(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JA.bind(null,this.syncEngine),await MA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return function(){return new xA}()}createDatastore(n){const a=I_(n.databaseInfo.databaseId),s=function(f){return new TA(f)}(n.databaseInfo);return function(f,m,y,v){return new RA(f,m,y,v)}(n.authCredentials,n.appCheckCredentials,s,a)}createRemoteStore(n){return function(s,o,f,m,y){return new CA(s,o,f,m,y)}(this.localStore,this.datastore,n.asyncQueue,a=>Ay(this.syncEngine,a,0),function(){return gy.C()?new gy:new yA}())}createSyncEngine(n,a){return function(o,f,m,y,v,_,A){const x=new HA(o,f,m,y,v,_);return A&&(x.mu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){var n,a;await async function(o){const f=Mt(o);it(ss,"RemoteStore shutting down."),f.da.add(5),await ql(f),f.Ra.shutdown(),f.Va.set("Unknown")}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(a=this.eventManager)===null||a===void 0||a.terminate()}}Nf.provider={build:()=>new Nf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Mu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Mu(this.observer.error,n):Ri("Uncaught Error in snapshot listener:",n.toString()))}xu(){this.muted=!0}Mu(n,a){setTimeout(()=>{this.muted||n(a)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="FirestoreClient";class eS{constructor(n,a,s,o,f){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=s,this.databaseInfo=o,this.user=je.UNAUTHENTICATED,this.clientId=w1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async m=>{it(ha,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(s,m=>(it(ha,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const s=B_(a,"Failed to shutdown persistence");n.reject(s)}}),n.promise}}async function uf(l,n){l.asyncQueue.verifyOperationInProgress(),it(ha,"Initializing OfflineComponentProvider");const a=l.configuration;await n.initialize(a);let s=a.initialUser;l.setCredentialChangeListener(async o=>{s.isEqual(o)||(await N_(n.localStore,o),s=o)}),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}async function by(l,n){l.asyncQueue.verifyOperationInProgress();const a=await nS(l);it(ha,"Initializing OnlineComponentProvider"),await n.initialize(a,l.configuration),l.setCredentialChangeListener(s=>_y(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,o)=>_y(n.remoteStore,o)),l._onlineComponents=n}async function nS(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){it(ha,"Using user provided OfflineComponentProvider");try{await uf(l,l._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(a))throw a;es("Error using user provided cache. Falling back to memory cache: "+a),await uf(l,new Io)}}else it(ha,"Using default OfflineComponentProvider"),await uf(l,new WA(void 0));return l._offlineComponents}async function iS(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(it(ha,"Using user provided OnlineComponentProvider"),await by(l,l._uninitializedComponentsProvider._online)):(it(ha,"Using default OnlineComponentProvider"),await by(l,new Nf))),l._onlineComponents}async function aS(l){const n=await iS(l),a=n.eventManager;return a.onListen=GA.bind(null,n.syncEngine),a.onUnlisten=XA.bind(null,n.syncEngine),a.onFirstRemoteStoreListen=QA.bind(null,n.syncEngine),a.onLastRemoteStoreUnlisten=KA.bind(null,n.syncEngine),a}function rS(l,n,a={}){const s=new Ja;return l.asyncQueue.enqueueAndForget(async()=>function(f,m,y,v,_){const A=new tS({next:z=>{A.xu(),m.enqueueAndForget(()=>zA(f,x)),z.fromCache&&v.source==="server"?_.reject(new ht(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(z)},error:z=>_.reject(z)}),x=new qA(y,A,{includeMetadataChanges:!0,Qa:!0});return UA(f,x)}(await aS(l),l.asyncQueue,n,a,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(l){const n={};return l.timeoutSeconds!==void 0&&(n.timeoutSeconds=l.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new Map;function sS(l,n,a,s){if(n===!0&&s===!0)throw new ht(tt.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}function wy(l){if(dt.isDocumentKey(l))throw new ht(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function lS(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const n=function(s){return s.constructor?s.constructor.name:null}(l);return n?`a custom ${n} object`:"an object"}}return typeof l=="function"?"a function":yt(12329,{type:typeof l})}function Mf(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new ht(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=lS(l);throw new ht(tt.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="firestore.googleapis.com",Cy=!0;class Dy{constructor(n){var a,s;if(n.host===void 0){if(n.ssl!==void 0)throw new ht(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=X_,this.ssl=Cy}else this.host=n.host,this.ssl=(a=n.ssl)!==null&&a!==void 0?a:Cy;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=V_;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<QT)throw new ht(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}sS("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y_((s=n.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class id{constructor(n,a,s,o){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ht(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dy(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new v1;switch(s.type){case"firstParty":return new S1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(a){const s=Ry.get(a);s&&(it("ComponentProvider","Removing Datastore"),Ry.delete(a),s.terminate())}(this),Promise.resolve()}}function uS(l,n,a,s={}){var o;l=Mf(l,id);const f=Uf(n),m=l._getSettings(),y=Object.assign(Object.assign({},m),{emulatorOptions:l._getEmulatorOptions()}),v=`${n}:${a}`;f&&(X0(`https://${v}`),J0("Firestore",!0)),m.host!==X_&&m.host!==v&&es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},m),{host:v,ssl:f,emulatorOptions:s});if(!bo(_,y)&&(l._setSettings(_),s.mockUserToken)){let A,x;if(typeof s.mockUserToken=="string")A=s.mockUserToken,x=je.MOCK_USER;else{A=K0(s.mockUserToken,(o=l._app)===null||o===void 0?void 0:o.options.projectId);const z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!z)throw new ht(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new je(z)}l._authCredentials=new E1(new Zy(A,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(n,a,s){this.converter=a,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Yo(this.firestore,n,this._query)}}class fs{constructor(n,a,s){this.converter=a,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new fs(this.firestore,n,this._key)}}class ts extends Yo{constructor(n,a,s){super(n,a,c_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new fs(this.firestore,null,new dt(n))}withConverter(n){return new ts(this.firestore,n,this._path)}}function K_(l,n,...a){if(l=sE(l),l instanceof id){const s=re.fromString(n,...a);return wy(s),new ts(l,null,s)}{if(!(l instanceof fs||l instanceof ts))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(re.fromString(n,...a));return wy(s),new ts(l.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="AsyncQueue";class Oy{constructor(n=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new x_(this,"async_queue_retry"),this.rc=()=>{const s=lf();s&&it(Vy,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=n;const a=lf();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.oc(),this._c(n)}enterRestrictedMode(n){if(!this.Yu){this.Yu=!0,this.tc=n||!1;const a=lf();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this.rc)}}enqueue(n){if(this.oc(),this.Yu)return new Promise(()=>{});const a=new Ja;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(n().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Ju.push(n),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(n){if(!cs(n))throw n;it(Vy,"Operation failed with retryable error: "+n)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(n){const a=this.sc.then(()=>(this.ec=!0,n().catch(s=>{throw this.Xu=s,this.ec=!1,Ri("INTERNAL UNHANDLED ERROR: ",Ny(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=a,a}enqueueAfterDelay(n,a,s){this.oc(),this.nc.indexOf(n)>-1&&(a=0);const o=Wf.createAndSchedule(this,n,a,s,f=>this.uc(f));return this.Zu.push(o),o}oc(){this.Xu&&yt(47125,{cc:Ny(this.Xu)})}verifyOperationInProgress(){}async lc(){let n;do n=this.sc,await n;while(n!==this.sc)}hc(n){for(const a of this.Zu)if(a.timerId===n)return!0;return!1}Pc(n){return this.lc().then(()=>{this.Zu.sort((a,s)=>a.targetTimeMs-s.targetTimeMs);for(const a of this.Zu)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.lc()})}Tc(n){this.nc.push(n)}uc(n){const a=this.Zu.indexOf(n);this.Zu.splice(a,1)}}function Ny(l){let n=l.message||"";return l.stack&&(n=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),n}class F_ extends id{constructor(n,a,s,o){super(n,a,s,o),this.type="firestore",this._queue=new Oy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Oy(n),this._firestoreClient=void 0,await n}}}function oS(l,n){const a=typeof l=="object"?l:u1(),s=typeof l=="string"?l:Co,o=i1(a,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=Q0("firestore");f&&uS(o,...f)}return o}function cS(l){if(l._terminated)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||hS(l),l._firestoreClient}function hS(l){var n,a,s;const o=l._freezeSettings(),f=function(y,v,_,A){return new P1(y,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Y_(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(l._databaseId,((n=l._app)===null||n===void 0?void 0:n.options.appId)||"",l._persistenceKey,o);l._componentsProvider||!((a=o.localCache)===null||a===void 0)&&a._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(l._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),l._firestoreClient=new eS(l._authCredentials,l._appCheckCredentials,l._queue,f,l._componentsProvider&&function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}}(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(n){this._byteString=n}static fromBase64String(n){try{return new xo(Le.fromBase64String(n))}catch(a){throw new ht(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new xo(Le.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new ht(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new ht(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new ht(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return bt(this._lat,n._lat)||bt(this._long,n._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(n){this._values=(n||[]).map(a=>a)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0}(this._values,n._values)}}const mS=new RegExp("[~\\*/\\[\\]]");function gS(l,n,a){if(n.search(mS)>=0)throw My(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new Z_(...n.split("."))._internalPath}catch{throw My(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function My(l,n,a,s,o){let f=`Function ${n}() called with invalid data`;f+=". ";let m="";return new ht(tt.INVALID_ARGUMENT,f+l+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(n,a,s,o,f){this._firestore=n,this._userDataWriter=a,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new fs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new pS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field($_("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class pS extends J_{data(){return super.data()}}function $_(l,n){return typeof n=="string"?gS(l,n):n instanceof Z_?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(l){if(l.limitType==="L"&&l.explicitOrderBy.length===0)throw new ht(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _S{convertValue(n,a="none"){switch(oa(n)){case 0:return null;case 1:return n.booleanValue;case 2:return oe(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(ua(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 11:return this.convertObject(n.mapValue,a);case 10:return this.convertVectorValue(n.mapValue);default:throw yt(62114,{value:n})}}convertObject(n,a){return this.convertObjectMap(n.fields,a)}convertObjectMap(n,a="none"){const s={};return Ll(n,(o,f)=>{s[o]=this.convertValue(f,a)}),s}convertVectorValue(n){var a,s,o;const f=(o=(s=(a=n.fields)===null||a===void 0?void 0:a[yf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(m=>oe(m.doubleValue));return new dS(f)}convertGeoPoint(n){return new fS(oe(n.latitude),oe(n.longitude))}convertArray(n,a){return(n.values||[]).map(s=>this.convertValue(s,a))}convertServerTimestamp(n,a){switch(a){case"previous":const s=Bo(n);return s==null?null:this.convertValue(s,a);case"estimate":return this.convertTimestamp(xl(n));default:return null}}convertTimestamp(n){const a=la(n);return new We(a.seconds,a.nanos)}convertDocumentKey(n,a){const s=re.fromString(n);te(D_(s),9688,{name:n});const o=new Ul(s.get(1),s.get(3)),f=new dt(s.popFirst(5));return o.isEqual(a)||Ri(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class vS extends J_{constructor(n,a,s,o,f,m){super(n,a,s,o,m),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new Ao(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const s=this._document.data.field($_("DocumentSnapshot.get",n));if(s!==null)return this._userDataWriter.convertValue(s,a.serverTimestamps)}}}class Ao extends vS{data(n={}){return super.data(n)}}class ES{constructor(n,a,s,o){this._firestore=n,this._userDataWriter=a,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const n=[];return this.forEach(a=>n.push(a)),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,a){this._snapshot.docs.forEach(s=>{n.call(a,new Ao(this._firestore,this._userDataWriter,s.key,s,new yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new ht(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(o,f){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(y=>{const v=new Ao(o._firestore,o._userDataWriter,y.doc.key,y.doc,new yo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}})}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>f||y.type!==3).map(y=>{const v=new Ao(o._firestore,o._userDataWriter,y.doc.key,y.doc,new yo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),A=m.indexOf(y.doc.key)),{type:TS(y.type),doc:v,oldIndex:_,newIndex:A}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function TS(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:l})}}class AS extends _S{constructor(n){super(),this.firestore=n}convertBytes(n){return new xo(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new fs(this.firestore,null,a)}}function W_(l){l=Mf(l,Yo);const n=Mf(l.firestore,F_),a=cS(n),s=new AS(n);return yS(l._query),rS(a,l._query).then(o=>new ES(n,s,l,o))}(function(n,a=!0){(function(o){os=o})(l1),wo(new Nl("firestore",(s,{instanceIdentifier:o,options:f})=>{const m=s.getProvider("app").getImmediate(),y=new F_(new T1(s.getProvider("auth-internal")),new b1(m,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ht(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(_.options.projectId,A)}(m,o),m);return f=Object.assign({useFetchStreams:a},f),y._setSettings(f),y},"PUBLIC").setMultipleInstances(!0)),Jr(zp,Lp,n),Jr(zp,Lp,"esm2017")})();var SS="firebase",bS="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(SS,bS,"app");const RS={apiKey:"AIzaSyBn2WKMl7X1s94bZn4FUvTVuZ_L3dMPWKE",authDomain:"khao-948dc.firebaseapp.com",projectId:"khao-948dc",storageBucket:"khao-948dc.firebasestorage.app",messagingSenderId:"604804443832",appId:"1:604804443832:web:729ac0c82cc12753260e4d",measurementId:"G-NC4MNXCJ72"},wS=Py(RS),tv=oS(wS);function CS(){const[l,n]=Si.useState([]),[a,s]=Si.useState({});Si.useEffect(()=>{(async()=>{const v=(await W_(K_(tv,"shops"))).docs.map(_=>({id:_.id,..._.data()}));n(v)})()},[]);const o=(m,y)=>{s(v=>{const _=v[m]||[],A=_.includes(y)?_.filter(x=>x!==y):[..._,y];return{...v,[m]:A}})},f=(m,y)=>{const v=a[y]||[];v.length===0?alert("Please select at least one item to order."):alert(`Order confirmed from ${m}:

Items:
- ${v.join(`
`)}`)};return nt.jsxs("section",{className:"restaurant-section",children:[nt.jsx("h2",{children:"Restaurants"}),nt.jsx("div",{className:"restaurant-list",children:l.length>0?l.map(m=>nt.jsxs("div",{className:"restaurant",children:[nt.jsx("h3",{children:m.name}),nt.jsx("ul",{children:Array.isArray(m.menu)&&m.menu.length>0?m.menu.map((y,v)=>{var _;return nt.jsx("li",{children:nt.jsxs("label",{children:[nt.jsx("input",{type:"checkbox",checked:((_=a[m.id])==null?void 0:_.includes(y.name))||!1,onChange:()=>o(m.id,y.name)}),y.name," - ₹",y.price]})},v)}):nt.jsx("li",{children:"No menu items available"})}),nt.jsx("button",{onClick:()=>f(m.name,m.id),children:"Place Order"})]},m.id)):nt.jsx("p",{children:"No restaurants available."})})]})}function DS(){const[l,n]=Si.useState([]);return console.log(l),Si.useEffect(()=>{(async()=>{const o=(await W_(K_(tv,"shops"))).docs.map(f=>({id:f.id,...f.data()}));n(o)})()},[]),nt.jsxs("main",{className:"home-container",children:[nt.jsx("h1",{children:"We Take Out. We Dine Out. We Deliver."}),nt.jsx("div",{className:"search-bar",children:nt.jsxs("select",{className:"dropdown",children:[nt.jsx("option",{value:"",children:"Takeout"}),nt.jsx("option",{value:"A-Block",children:"A-Block"}),nt.jsx("option",{value:"B-Block",children:"B-Block"}),nt.jsx("option",{value:"C-Block",children:"C-Block"}),nt.jsx("option",{value:"B-Block",children:"D-Block"}),nt.jsx("option",{value:"C-Block",children:"E-Block"}),nt.jsx("option",{value:"PhD Block",children:"PhD Block"}),nt.jsx("option",{value:"Faculty Block",children:"Faculty Block"})]})}),nt.jsxs("div",{className:"cards",children:[nt.jsx("div",{className:"card",children:nt.jsx("h2",{children:"Preorder your food!"})}),nt.jsx("div",{className:"card",children:nt.jsx("h2",{children:"Deliver at your doorstep"})})]}),nt.jsx(CS,{}),nt.jsxs("section",{className:"how-it-works",children:[nt.jsx("h2",{children:"How it works"}),nt.jsxs("div",{className:"steps",children:[nt.jsxs("div",{className:"step",children:[nt.jsx("h3",{children:"1. Choose Location"}),nt.jsx("p",{children:"Select where you want your food delivered."})]}),nt.jsxs("div",{className:"step",children:[nt.jsx("h3",{children:"2. Browse Menus"}),nt.jsx("p",{children:"Explore dishes from your favorite local spots."})]}),nt.jsxs("div",{className:"step",children:[nt.jsx("h3",{children:"3. Place Order"}),nt.jsx("p",{children:"Click, confirm and relax while we deliver!"})]})]})]})]})}const VS="793451311688-13nm189hgp588gq89shc0o1gu8e2ki3f.apps.googleusercontent.com";function OS({onLogin:l}){Si.useEffect(()=>{window.google&&(window.google.accounts.id.initialize({client_id:VS,callback:n}),window.google.accounts.id.renderButton(document.getElementById("google-signin"),{theme:"outline",size:"large"}))});function n(s){const o=a(s.credential),f={id:o.sub,name:o.name,email:o.email,picture:o.picture,isGoogle:!0,role:null};localStorage.setItem("user",JSON.stringify(f)),l(f)}function a(s){const f=s.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),m=decodeURIComponent(atob(f).split("").map(y=>`%${("00"+y.charCodeAt(0).toString(16)).slice(-2)}`).join(""));return JSON.parse(m)}return nt.jsx("a",{id:"google-signin"})}function NS(){const[l,n]=Si.useState(null);Si.useEffect(()=>{const o=JSON.parse(localStorage.getItem("user"));o&&n(o)},[]);const a=o=>{localStorage.setItem("user",JSON.stringify(o)),n(o)},s=()=>{localStorage.removeItem("user"),n(null)};return nt.jsxs("header",{className:"header",children:[nt.jsx("div",{className:"logo",children:"Khao"}),nt.jsxs("nav",{children:[nt.jsx("a",{href:"#",children:"Join Us"}),l?nt.jsxs(nt.Fragment,{children:[nt.jsxs("span",{className:"user-name",children:["Hi, ",l.name.split(" ")[0]]}),nt.jsx("button",{className:"signin-btn",onClick:s,children:"Logout"})]}):nt.jsx(OS,{onLogin:a})]})]})}function MS(){return nt.jsx("footer",{className:"footer",children:nt.jsxs("div",{className:"footer-grid",children:[nt.jsxs("div",{children:[nt.jsx("h4",{children:"Contact"}),nt.jsx("p",{children:"Help & Support"}),nt.jsx("p",{children:"Join Us"})]}),nt.jsxs("div",{children:[nt.jsx("h4",{children:"Available in"}),nt.jsx("p",{children:"IISER TVM"})]}),nt.jsxs("div",{children:[nt.jsx("h4",{children:"Socials"}),nt.jsx("p",{children:"LinkedIn"}),nt.jsx("p",{children:"Instagram"})]})]})})}function IS(){return nt.jsxs("div",{className:"App",children:[nt.jsx(NS,{}),nt.jsx(DS,{}),nt.jsx(MS,{})]})}x0.createRoot(document.getElementById("root")).render(nt.jsx(Si.StrictMode,{children:nt.jsx(IS,{})}));
